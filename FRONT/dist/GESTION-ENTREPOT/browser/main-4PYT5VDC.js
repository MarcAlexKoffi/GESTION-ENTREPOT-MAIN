var fy=Object.defineProperty,py=Object.defineProperties;var gy=Object.getOwnPropertyDescriptors;var Bg=Object.getOwnPropertySymbols;var my=Object.prototype.hasOwnProperty,hy=Object.prototype.propertyIsEnumerable;var Hg=(n,t,e)=>t in n?fy(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,P=(n,t)=>{for(var e in t||={})my.call(t,e)&&Hg(n,e,t[e]);if(Bg)for(var e of Bg(t))hy.call(t,e)&&Hg(n,e,t[e]);return n},X=(n,t)=>py(n,gy(t));var ye=(n,t,e)=>new Promise((r,o)=>{var i=u=>{try{d(e.next(u))}catch(p){o(p)}},a=u=>{try{d(e.throw(u))}catch(p){o(p)}},d=u=>u.done?r(u.value):Promise.resolve(u.value).then(i,a);d((e=e.apply(n,t)).next())});var yd;function es(){return yd}function gn(n){let t=yd;return yd=n,t}var zg=Symbol("NotFound");function fo(n){return n===zg||n?.name==="\u0275NotFound"}var rt=null,ts=!1,Cd=1,by=null,ot=Symbol("SIGNAL");function ee(n){let t=rt;return rt=n,t}function is(){return rt}var po={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function go(n){if(ts)throw new Error("");if(rt===null)return;rt.consumerOnSignalRead(n);let t=rt.producersTail;if(t!==void 0&&t.producer===n)return;let e,r=rt.recomputing;if(r&&(e=t!==void 0?t.nextProducer:rt.producers,e!==void 0&&e.producer===n)){rt.producersTail=e,e.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===rt&&(!r||vy(o,rt)))return;let i=ho(rt),a={producer:n,consumer:rt,nextProducer:e,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};rt.producersTail=a,t!==void 0?t.nextProducer=a:rt.producers=a,i&&qg(n,a)}function $g(){Cd++}function as(n){if(!(ho(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Cd)){if(!n.producerMustRecompute(n)&&!_i(n)){os(n);return}n.producerRecomputeValue(n),os(n)}}function xd(n){if(n.consumers===void 0)return;let t=ts;ts=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let r=e.consumer;r.dirty||_y(r)}}finally{ts=t}}function Md(){return rt?.consumerAllowSignalWrites!==!1}function _y(n){n.dirty=!0,xd(n),n.consumerMarkedDirty?.(n)}function os(n){n.dirty=!1,n.lastCleanEpoch=Cd}function mo(n){return n&&Wg(n),ee(n)}function Wg(n){n.producersTail=void 0,n.recomputing=!0}function bi(n,t){ee(t),n&&Gg(n)}function Gg(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(ho(n))do e=wd(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function _i(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,r=t.lastReadVersion;if(r!==e.version||(as(e),r!==e.version))return!0}return!1}function vi(n){if(ho(n)){let t=n.producers;for(;t!==void 0;)t=wd(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function qg(n,t){let e=n.consumersTail,r=ho(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!r)for(let o=n.producers;o!==void 0;o=o.nextProducer)qg(o.producer,o)}function wd(n){let t=n.producer,e=n.nextProducer,r=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!ho(t)){let i=t.producers;for(;i!==void 0;)i=wd(i)}return e}function ho(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function ss(n){by?.(n)}function vy(n,t){let e=t.producersTail;if(e!==void 0){let r=t.producers;do{if(r===n)return!0;if(r===e)break;r=r.nextProducer}while(r!==void 0)}return!1}function cs(n,t){return Object.is(n,t)}function ls(n,t){let e=Object.create(yy);e.computation=n,t!==void 0&&(e.equal=t);let r=()=>{if(as(e),go(e),e.value===hi)throw e.error;return e.value};return r[ot]=e,ss(e),r}var ns=Symbol("UNSET"),rs=Symbol("COMPUTING"),hi=Symbol("ERRORED"),yy=X(P({},po),{value:ns,dirty:!0,error:null,equal:cs,kind:"computed",producerMustRecompute(n){return n.value===ns||n.value===rs},producerRecomputeValue(n){if(n.value===rs)throw new Error("");let t=n.value;n.value=rs;let e=mo(n),r,o=!1;try{r=n.computation(),ee(null),o=t!==ns&&t!==hi&&r!==hi&&n.equal(t,r)}catch(i){r=hi,n.error=i}finally{bi(n,e)}if(o){n.value=t;return}n.value=r,n.version++}});function Cy(){throw new Error}var Yg=Cy;function Zg(n){Yg(n)}function Ed(n){Yg=n}var xy=null;function Od(n,t){let e=Object.create(ds);e.value=n,t!==void 0&&(e.equal=t);let r=()=>Qg(e);return r[ot]=e,ss(e),[r,a=>bo(e,a),a=>Pd(e,a)]}function Qg(n){return go(n),n.value}function bo(n,t){Md()||Zg(n),n.equal(n.value,t)||(n.value=t,My(n))}function Pd(n,t){Md()||Zg(n),bo(n,t(n.value))}var ds=X(P({},po),{equal:cs,value:void 0,kind:"signal"});function My(n){n.version++,$g(),xd(n),xy?.(n)}function Q(n){return typeof n=="function"}function _o(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var us=_o(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function yi(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Le=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let i of e)i.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(i){t=i instanceof us?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Kg(i)}catch(a){t=t??[],a instanceof us?t=[...t,...a.errors]:t.push(a)}}if(t)throw new us(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Kg(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&yi(e,t)}remove(t){let{_finalizers:e}=this;e&&yi(e,t),t instanceof n&&t._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var kd=Le.EMPTY;function fs(n){return n instanceof Le||n&&"closed"in n&&Q(n.remove)&&Q(n.add)&&Q(n.unsubscribe)}function Kg(n){Q(n)?n():n.unsubscribe()}var Kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vo={setTimeout(n,t,...e){let{delegate:r}=vo;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=vo;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ps(n){vo.setTimeout(()=>{let{onUnhandledError:t}=Kt;if(t)t(n);else throw n})}function Ci(){}var Jg=Dd("C",void 0,void 0);function Xg(n){return Dd("E",void 0,n)}function em(n){return Dd("N",n,void 0)}function Dd(n,t,e){return{kind:n,value:t,error:e}}var Sr=null;function yo(n){if(Kt.useDeprecatedSynchronousErrorHandling){let t=!Sr;if(t&&(Sr={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Sr;if(Sr=null,e)throw r}}else n()}function tm(n){Kt.useDeprecatedSynchronousErrorHandling&&Sr&&(Sr.errorThrown=!0,Sr.error=n)}var Ir=class extends Le{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,fs(t)&&t.add(this)):this.destination=Oy}static create(t,e,r){return new er(t,e,r)}next(t){this.isStopped?Id(em(t),this):this._next(t)}error(t){this.isStopped?Id(Xg(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Id(Jg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wy=Function.prototype.bind;function Sd(n,t){return wy.call(n,t)}var Td=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){gs(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){gs(r)}else gs(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){gs(e)}}},er=class extends Ir{constructor(t,e,r){super();let o;if(Q(t)||!t)o={next:t??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&Kt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Sd(t.next,i),error:t.error&&Sd(t.error,i),complete:t.complete&&Sd(t.complete,i)}):o=t}this.destination=new Td(o)}};function gs(n){Kt.useDeprecatedSynchronousErrorHandling?tm(n):ps(n)}function Ey(n){throw n}function Id(n,t){let{onStoppedNotification:e}=Kt;e&&vo.setTimeout(()=>e(n,t))}var Oy={closed:!0,next:Ci,error:Ey,complete:Ci};var Co=typeof Symbol=="function"&&Symbol.observable||"@@observable";function At(n){return n}function Ad(...n){return Nd(n)}function Nd(n){return n.length===0?At:n.length===1?n[0]:function(e){return n.reduce((r,o)=>o(r),e)}}var ne=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,o){let i=ky(e)?e:new er(e,r,o);return yo(()=>{let{operator:a,source:d}=this;i.add(a?a.call(i,d):d?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=nm(r),new r((o,i)=>{let a=new er({next:d=>{try{e(d)}catch(u){i(u),a.unsubscribe()}},error:i,complete:o});this.subscribe(a)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Co](){return this}pipe(...e){return Nd(e)(this)}toPromise(e){return e=nm(e),new e((r,o)=>{let i;this.subscribe(a=>i=a,a=>o(a),()=>r(i))})}}return n.create=t=>new n(t),n})();function nm(n){var t;return(t=n??Kt.Promise)!==null&&t!==void 0?t:Promise}function Py(n){return n&&Q(n.next)&&Q(n.error)&&Q(n.complete)}function ky(n){return n&&n instanceof Ir||Py(n)&&fs(n)}function Rd(n){return Q(n?.lift)}function ie(n){return t=>{if(Rd(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(n,t,e,r,o){return new Fd(n,t,e,r,o)}var Fd=class extends Ir{constructor(t,e,r,o,i,a){super(t),this.onFinalize=i,this.shouldUnsubscribe=a,this._next=e?function(d){try{e(d)}catch(u){t.error(u)}}:super._next,this._error=o?function(d){try{o(d)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function xo(){return ie((n,t)=>{let e=null;n._refCount++;let r=re(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let o=n._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Mo=class extends ne{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Rd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Le;let e=this.getSubject();t.add(this.source.subscribe(re(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Le.EMPTY)}return t}refCount(){return xo()(this)}};var rm=_o(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new ms(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new rm}next(e){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:o,observers:i}=this;return r||o?kd:(this.currentObservers=null,i.push(e),new Le(()=>{this.currentObservers=null,yi(i,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){let e=new ne;return e.source=this,e}}return n.create=(t,e)=>new ms(t,e),n})(),ms=class extends we{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:kd}};var Je=class extends we{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var xt=new ne(n=>n.complete());function om(n){return n&&Q(n.schedule)}function im(n){return n[n.length-1]}function hs(n){return Q(im(n))?n.pop():void 0}function tr(n){return om(im(n))?n.pop():void 0}function sm(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function d(g){try{p(r.next(g))}catch(h){a(h)}}function u(g){try{p(r.throw(g))}catch(h){a(h)}}function p(g){g.done?i(g.value):o(g.value).then(d,u)}p((r=r.apply(n,t||[])).next())})}function am(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tr(n){return this instanceof Tr?(this.v=n,this):new Tr(n)}function cm(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(C){return function(O){return Promise.resolve(O).then(C,h)}}function d(C,O){r[C]&&(o[C]=function(U){return new Promise(function(F,L){i.push([C,U,F,L])>1||u(C,U)})},O&&(o[C]=O(o[C])))}function u(C,O){try{p(r[C](O))}catch(U){M(i[0][3],U)}}function p(C){C.value instanceof Tr?Promise.resolve(C.value.v).then(g,h):M(i[0][2],C)}function g(C){u("next",C)}function h(C){u("throw",C)}function M(C,O){C(O),i.shift(),i.length&&u(i[0][0],i[0][1])}}function lm(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof am=="function"?am(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=n[i]&&function(a){return new Promise(function(d,u){a=n[i](a),o(d,u,a.done,a.value)})}}function o(i,a,d,u){Promise.resolve(u).then(function(p){i({value:p,done:d})},a)}}var bs=n=>n&&typeof n.length=="number"&&typeof n!="function";function _s(n){return Q(n?.then)}function vs(n){return Q(n[Co])}function ys(n){return Symbol.asyncIterator&&Q(n?.[Symbol.asyncIterator])}function Cs(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Dy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xs=Dy();function Ms(n){return Q(n?.[xs])}function ws(n){return cm(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:o}=yield Tr(e.read());if(o)return yield Tr(void 0);yield yield Tr(r)}}finally{e.releaseLock()}})}function Es(n){return Q(n?.getReader)}function Ve(n){if(n instanceof ne)return n;if(n!=null){if(vs(n))return Sy(n);if(bs(n))return Iy(n);if(_s(n))return Ty(n);if(ys(n))return dm(n);if(Ms(n))return Ay(n);if(Es(n))return Ny(n)}throw Cs(n)}function Sy(n){return new ne(t=>{let e=n[Co]();if(Q(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Iy(n){return new ne(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function Ty(n){return new ne(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ps)})}function Ay(n){return new ne(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function dm(n){return new ne(t=>{Ry(n,t).catch(e=>t.error(e))})}function Ny(n){return dm(ws(n))}function Ry(n,t){var e,r,o,i;return sm(this,void 0,void 0,function*(){try{for(e=lm(n);r=yield e.next(),!r.done;){let a=r.value;if(t.next(a),t.closed)return}}catch(a){o={error:a}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}t.complete()})}function Mt(n,t,e,r=0,o=!1){let i=t.schedule(function(){e(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Os(n,t=0){return ie((e,r)=>{e.subscribe(re(r,o=>Mt(r,n,()=>r.next(o),t),()=>Mt(r,n,()=>r.complete(),t),o=>Mt(r,n,()=>r.error(o),t)))})}function Ps(n,t=0){return ie((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function um(n,t){return Ve(n).pipe(Ps(t),Os(t))}function fm(n,t){return Ve(n).pipe(Ps(t),Os(t))}function pm(n,t){return new ne(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function gm(n,t){return new ne(e=>{let r;return Mt(e,t,()=>{r=n[xs](),Mt(e,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(a){e.error(a);return}i?e.complete():e.next(o)},0,!0)}),()=>Q(r?.return)&&r.return()})}function ks(n,t){if(!n)throw new Error("Iterable cannot be null");return new ne(e=>{Mt(e,t,()=>{let r=n[Symbol.asyncIterator]();Mt(e,t,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function mm(n,t){return ks(ws(n),t)}function hm(n,t){if(n!=null){if(vs(n))return um(n,t);if(bs(n))return pm(n,t);if(_s(n))return fm(n,t);if(ys(n))return ks(n,t);if(Ms(n))return gm(n,t);if(Es(n))return mm(n,t)}throw Cs(n)}function ve(n,t){return t?hm(n,t):Ve(n)}function B(...n){let t=tr(n);return ve(n,t)}function nr(n,t){let e=Q(n)?n:()=>n,r=o=>o.error(e());return new ne(t?o=>t.schedule(r,0,o):r)}function Ld(n){return!!n&&(n instanceof ne||Q(n.lift)&&Q(n.subscribe))}var Jt=_o(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function it(n,t){let e=typeof t=="object";return new Promise((r,o)=>{let i=new er({next:a=>{r(a),i.unsubscribe()},error:o,complete:()=>{e?r(t.defaultValue):o(new Jt)}});n.subscribe(i)})}function Y(n,t){return ie((e,r)=>{let o=0;e.subscribe(re(r,i=>{r.next(n.call(t,i,o++))}))})}var{isArray:Fy}=Array;function Ly(n,t){return Fy(t)?n(...t):n(t)}function Ds(n){return Y(t=>Ly(n,t))}var{isArray:Vy}=Array,{getPrototypeOf:jy,prototype:Uy,keys:By}=Object;function Ss(n){if(n.length===1){let t=n[0];if(Vy(t))return{args:t,keys:null};if(Hy(t)){let e=By(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function Hy(n){return n&&typeof n=="object"&&jy(n)===Uy}function Is(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}function xi(...n){let t=tr(n),e=hs(n),{args:r,keys:o}=Ss(n);if(r.length===0)return ve([],t);let i=new ne(zy(r,t,o?a=>Is(o,a):At));return e?i.pipe(Ds(e)):i}function zy(n,t,e=At){return r=>{bm(t,()=>{let{length:o}=n,i=new Array(o),a=o,d=o;for(let u=0;u<o;u++)bm(t,()=>{let p=ve(n[u],t),g=!1;p.subscribe(re(r,h=>{i[u]=h,g||(g=!0,d--),d||r.next(e(i.slice()))},()=>{--a||r.complete()}))},r)},r)}}function bm(n,t,e){n?Mt(e,n,t):t()}function _m(n,t,e,r,o,i,a,d){let u=[],p=0,g=0,h=!1,M=()=>{h&&!u.length&&!p&&t.complete()},C=U=>p<r?O(U):u.push(U),O=U=>{i&&t.next(U),p++;let F=!1;Ve(e(U,g++)).subscribe(re(t,L=>{o?.(L),i?C(L):t.next(L)},()=>{F=!0},void 0,()=>{if(F)try{for(p--;u.length&&p<r;){let L=u.shift();a?Mt(t,a,()=>O(L)):O(L)}M()}catch(L){t.error(L)}}))};return n.subscribe(re(t,C,()=>{h=!0,M()})),()=>{d?.()}}function Te(n,t,e=1/0){return Q(t)?Te((r,o)=>Y((i,a)=>t(r,i,o,a))(Ve(n(r,o))),e):(typeof t=="number"&&(e=t),ie((r,o)=>_m(r,o,n,e)))}function rr(n=1/0){return Te(At,n)}function vm(){return rr(1)}function wo(...n){return vm()(ve(n,tr(n)))}function Mi(n){return new ne(t=>{Ve(n()).subscribe(t)})}function Vd(...n){let t=hs(n),{args:e,keys:r}=Ss(n),o=new ne(i=>{let{length:a}=e;if(!a){i.complete();return}let d=new Array(a),u=a,p=a;for(let g=0;g<a;g++){let h=!1;Ve(e[g]).subscribe(re(i,M=>{h||(h=!0,p--),d[g]=M},()=>u--,void 0,()=>{(!u||!h)&&(p||i.next(r?Is(r,d):d),i.complete())}))}});return t?o.pipe(Ds(t)):o}function je(n,t){return ie((e,r)=>{let o=0;e.subscribe(re(r,i=>n.call(t,i,o++)&&r.next(i)))})}function wt(n){return ie((t,e)=>{let r=null,o=!1,i;r=t.subscribe(re(e,void 0,void 0,a=>{i=Ve(n(a,wt(n)(t))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function ym(n,t,e,r,o){return(i,a)=>{let d=e,u=t,p=0;i.subscribe(re(a,g=>{let h=p++;u=d?n(u,g,h):(d=!0,g),r&&a.next(u)},o&&(()=>{d&&a.next(u),a.complete()})))}}function mn(n,t){return Q(t)?Te(n,t,1):Te(n,1)}function or(n){return ie((t,e)=>{let r=!1;t.subscribe(re(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function Rn(n){return n<=0?()=>xt:ie((t,e)=>{let r=0;t.subscribe(re(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function Ts(n=$y){return ie((t,e)=>{let r=!1;t.subscribe(re(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function $y(){return new Jt}function Ar(n){return ie((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Fn(n,t){let e=arguments.length>=2;return r=>r.pipe(n?je((o,i)=>n(o,i,r)):At,Rn(1),e?or(t):Ts(()=>new Jt))}function Eo(n){return n<=0?()=>xt:ie((t,e)=>{let r=[];t.subscribe(re(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function jd(n,t){let e=arguments.length>=2;return r=>r.pipe(n?je((o,i)=>n(o,i,r)):At,Eo(1),e?or(t):Ts(()=>new Jt))}function Ud(n,t){return ie(ym(n,t,arguments.length>=2,!0))}function Bd(...n){let t=tr(n);return ie((e,r)=>{(t?wo(n,e,t):wo(n,e)).subscribe(r)})}function Xe(n,t){return ie((e,r)=>{let o=null,i=0,a=!1,d=()=>a&&!o&&r.complete();e.subscribe(re(r,u=>{o?.unsubscribe();let p=0,g=i++;Ve(n(u,g)).subscribe(o=re(r,h=>r.next(t?t(u,h,g,p++):h),()=>{o=null,d()}))},()=>{a=!0,d()}))})}function As(n){return ie((t,e)=>{Ve(n).subscribe(re(e,()=>e.complete(),Ci)),!e.closed&&t.subscribe(e)})}function Ae(n,t,e){let r=Q(n)||t||e?{next:n,error:t,complete:e}:n;return r?ie((o,i)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let d=!0;o.subscribe(re(i,u=>{var p;(p=r.next)===null||p===void 0||p.call(r,u),i.next(u)},()=>{var u;d=!1,(u=r.complete)===null||u===void 0||u.call(r),i.complete()},u=>{var p;d=!1,(p=r.error)===null||p===void 0||p.call(r,u),i.error(u)},()=>{var u,p;d&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(p=r.finalize)===null||p===void 0||p.call(r)}))}):At}function Cm(n){let t=ee(null);try{return n()}finally{ee(t)}}var Ls="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(t,e){super(Un(t,e)),this.code=t}};function Wy(n){return`NG0${Math.abs(n)}`}function Un(n,t){return`${Wy(n)}${t?": "+t:""}`}var Bn=globalThis;function ue(n){for(let t in n)if(n[t]===ue)return t;throw Error("")}function wm(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Vn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Vn).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function Vs(n,t){return n?t?`${n} ${t}`:n:t||""}var Gy=ue({__forward_ref__:ue});function jt(n){return n.__forward_ref__=jt,n.toString=function(){return Vn(this())},n}function et(n){return Xd(n)?n():n}function Xd(n){return typeof n=="function"&&n.hasOwnProperty(Gy)&&n.__forward_ref__===jt}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pi(n){return qy(n,js)}function eu(n){return Pi(n)!==null}function qy(n,t){return n.hasOwnProperty(t)&&n[t]||null}function Yy(n){let t=n?.[js]??null;return t||null}function zd(n){return n&&n.hasOwnProperty(Rs)?n[Rs]:null}var js=ue({\u0275prov:ue}),Rs=ue({\u0275inj:ue}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=I({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function tu(n){return n&&!!n.\u0275providers}var nu=ue({\u0275cmp:ue}),ru=ue({\u0275dir:ue}),ou=ue({\u0275pipe:ue}),iu=ue({\u0275mod:ue}),Ei=ue({\u0275fac:ue}),Vr=ue({__NG_ELEMENT_ID__:ue}),xm=ue({__NG_ENV_ID__:ue});function jr(n){return typeof n=="string"?n:n==null?"":String(n)}function Em(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():jr(n)}var Om=ue({ngErrorCode:ue}),Zy=ue({ngErrorMessage:ue}),Qy=ue({ngTokenPath:ue});function au(n,t){return Pm("",-200,t)}function Us(n,t){throw new D(-201,!1)}function Pm(n,t,e){let r=new D(t,n);return r[Om]=t,r[Zy]=n,e&&(r[Qy]=e),r}function Ky(n){return n[Om]}var $d;function km(){return $d}function gt(n){let t=$d;return $d=n,t}function su(n,t,e){let r=Pi(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&8)return null;if(t!==void 0)return t;Us(n,"Injector")}var Jy={},Nr=Jy,Xy="__NG_DI_FLAG__",Wd=class{injector;constructor(t){this.injector=t}retrieve(t,e){let r=Rr(e)||0;try{return this.injector.get(t,r&8?null:Nr,r)}catch(o){if(fo(o))return o;throw o}}};function eC(n,t=0){let e=es();if(e===void 0)throw new D(-203,!1);if(e===null)return su(n,void 0,t);{let r=tC(t),o=e.retrieve(n,r);if(fo(o)){if(r.optional)return null;throw o}return o}}function j(n,t=0){return(km()||eC)(et(n),t)}function x(n,t){return j(n,Rr(t))}function Rr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function tC(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Gd(n){let t=[];for(let e=0;e<n.length;e++){let r=et(n[e]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let o,i=0;for(let a=0;a<r.length;a++){let d=r[a],u=nC(d);typeof u=="number"?u===-1?o=d.token:i|=u:o=d}t.push(j(o,i))}else t.push(j(r))}return t}function nC(n){return n[Xy]}function ir(n,t){let e=n.hasOwnProperty(Ei);return e?n[Ei]:null}function Dm(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=t[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}function Sm(n){return n.flat(Number.POSITIVE_INFINITY)}function Bs(n,t){n.forEach(e=>Array.isArray(e)?Bs(e,t):t(e))}function cu(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ki(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Im(n,t,e,r){let o=n.length;if(o==t)n.push(e,r);else if(o===1)n.push(r,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;){let i=o-2;n[o]=n[i],o--}n[t]=e,n[t+1]=r}}function Di(n,t,e){let r=Po(n,t);return r>=0?n[r|1]=e:(r=~r,Im(n,r,t,e)),r}function Hs(n,t){let e=Po(n,t);if(e>=0)return n[e|1]}function Po(n,t){return rC(n,t,1)}function rC(n,t,e){let r=0,o=n.length>>e;for(;o!==r;){let i=r+(o-r>>1),a=n[i<<e];if(t===a)return i<<e;a>t?o=i:r=i+1}return~(o<<e)}var sr={},mt=[],Hn=new R(""),lu=new R("",-1),du=new R(""),Oi=class{get(t,e=Nr){if(e===Nr){let o=Pm("",-201);throw o.name="\u0275NotFound",o}return e}};function uu(n){return n[iu]||null}function zn(n){return n[nu]||null}function fu(n){return n[ru]||null}function Tm(n){return n[ou]||null}function hn(n){return{\u0275providers:n}}function Am(n){return hn([{provide:Hn,multi:!0,useValue:n}])}function Nm(...n){return{\u0275providers:pu(!0,n),\u0275fromNgModule:!0}}function pu(n,...t){let e=[],r=new Set,o,i=a=>{e.push(a)};return Bs(t,a=>{let d=a;Fs(d,i,[],r)&&(o||=[],o.push(d))}),o!==void 0&&Rm(o,i),e}function Rm(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:o}=n[e];gu(o,i=>{t(i,r)})}}function Fs(n,t,e,r){if(n=et(n),!n)return!1;let o=null,i=zd(n),a=!i&&zn(n);if(!i&&!a){let u=n.ngModule;if(i=zd(u),i)o=u;else return!1}else{if(a&&!a.standalone)return!1;o=n}let d=r.has(o);if(a){if(d)return!1;if(r.add(o),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let p of u)Fs(p,t,e,r)}}else if(i){if(i.imports!=null&&!d){r.add(o);let p;try{Bs(i.imports,g=>{Fs(g,t,e,r)&&(p||=[],p.push(g))})}finally{}p!==void 0&&Rm(p,t)}if(!d){let p=ir(o)||(()=>new o);t({provide:o,useFactory:p,deps:mt},o),t({provide:du,useValue:o,multi:!0},o),t({provide:Hn,useValue:()=>j(o),multi:!0},o)}let u=i.providers;if(u!=null&&!d){let p=n;gu(u,g=>{t(g,p)})}}else return!1;return o!==n&&n.providers!==void 0}function gu(n,t){for(let e of n)tu(e)&&(e=e.\u0275providers),Array.isArray(e)?gu(e,t):t(e)}var oC=ue({provide:String,useValue:ue});function Fm(n){return n!==null&&typeof n=="object"&&oC in n}function iC(n){return!!(n&&n.useExisting)}function aC(n){return!!(n&&n.useFactory)}function Fr(n){return typeof n=="function"}function Lm(n){return!!n.useClass}var Si=new R(""),Ns={},Mm={},Hd;function Ii(){return Hd===void 0&&(Hd=new Oi),Hd}var Ne=class{},Lr=class extends Ne{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,Yd(t,a=>this.processProvider(a)),this.records.set(lu,Oo(void 0,this)),o.has("environment")&&this.records.set(Ne,Oo(void 0,this));let i=this.records.get(Si);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(du,mt,{self:!0}))}retrieve(t,e){let r=Rr(e)||0;try{return this.get(t,Nr,r)}catch(o){if(fo(o))return o;throw o}}destroy(){wi(this),this._destroyed=!0;let t=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(t)}}onDestroy(t){return wi(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){wi(this);let e=gn(this),r=gt(void 0),o;try{return t()}finally{gn(e),gt(r)}}get(t,e=Nr,r){if(wi(this),t.hasOwnProperty(xm))return t[xm](this);let o=Rr(r),i,a=gn(this),d=gt(void 0);try{if(!(o&4)){let p=this.records.get(t);if(p===void 0){let g=uC(t)&&Pi(t);g&&this.injectableDefInScope(g)?p=Oo(qd(t),Ns):p=null,this.records.set(t,p)}if(p!=null)return this.hydrate(t,p,o)}let u=o&2?Ii():this.parent;return e=o&8&&e===Nr?null:e,u.get(t,e)}catch(u){let p=Ky(u);throw p===-200||p===-201?new D(p,null):u}finally{gt(d),gn(a)}}resolveInjectorInitializers(){let t=ee(null),e=gn(this),r=gt(void 0),o;try{let i=this.get(Hn,mt,{self:!0});for(let a of i)a()}finally{gn(e),gt(r),ee(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(Vn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=et(t);let e=Fr(t)?t:et(t&&t.provide),r=cC(t);if(!Fr(t)&&t.multi===!0){let o=this.records.get(e);o||(o=Oo(void 0,Ns,!0),o.factory=()=>Gd(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,r)}hydrate(t,e,r){let o=ee(null);try{if(e.value===Mm)throw au(Vn(t));return e.value===Ns&&(e.value=Mm,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&dC(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{ee(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=et(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function qd(n){let t=Pi(n),e=t!==null?t.factory:ir(n);if(e!==null)return e;if(n instanceof R)throw new D(204,!1);if(n instanceof Function)return sC(n);throw new D(204,!1)}function sC(n){if(n.length>0)throw new D(204,!1);let e=Yy(n);return e!==null?()=>e.factory(n):()=>new n}function cC(n){if(Fm(n))return Oo(void 0,n.useValue);{let t=mu(n);return Oo(t,Ns)}}function mu(n,t,e){let r;if(Fr(n)){let o=et(n);return ir(o)||qd(o)}else if(Fm(n))r=()=>et(n.useValue);else if(aC(n))r=()=>n.useFactory(...Gd(n.deps||[]));else if(iC(n))r=(o,i)=>j(et(n.useExisting),i!==void 0&&i&8?8:void 0);else{let o=et(n&&(n.useClass||n.provide));if(lC(n))r=()=>new o(...Gd(n.deps));else return ir(o)||qd(o)}return r}function wi(n){if(n.destroyed)throw new D(205,!1)}function Oo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function lC(n){return!!n.deps}function dC(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function uC(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Yd(n,t){for(let e of n)Array.isArray(e)?Yd(e,t):e&&tu(e)?Yd(e.\u0275providers,t):t(e)}function qe(n,t){let e;n instanceof Lr?(wi(n),e=n):e=new Wd(n);let r,o=gn(e),i=gt(void 0);try{return t()}finally{gn(o),gt(i)}}function Vm(){return km()!==void 0||es()!=null}var en=0,$=1,q=2,Ge=3,Bt=4,Ht=5,Ti=6,ko=7,at=8,cr=9,bn=10,Ce=11,Do=12,hu=13,Ur=14,zt=15,lr=16,Br=17,_n=18,Ai=19,bu=20,Ln=21,zs=22,Ni=23,Nt=24,Hr=25,Ri=26,Ue=27,jm=1;var dr=7,Fi=8,zr=9,ht=10;function vn(n){return Array.isArray(n)&&typeof n[jm]=="object"}function tn(n){return Array.isArray(n)&&n[jm]===!0}function _u(n){return(n.flags&4)!==0}function ur(n){return n.componentOffset>-1}function So(n){return(n.flags&1)===1}function yn(n){return!!n.template}function Io(n){return(n[q]&512)!==0}function $r(n){return(n[q]&256)===256}var vu="svg",Um="math";function $t(n){for(;Array.isArray(n);)n=n[en];return n}function yu(n,t){return $t(t[n])}function nn(n,t){return $t(t[n.index])}function $s(n,t){return n.data[t]}function Li(n,t){return n[t]}function Cu(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function Wt(n,t){let e=t[n];return vn(e)?e:e[en]}function Bm(n){return(n[q]&4)===4}function Ws(n){return(n[q]&128)===128}function Hm(n){return tn(n[Ge])}function Wr(n,t){return t==null?null:n[t]}function xu(n){n[Br]=0}function Mu(n){n[q]&1024||(n[q]|=1024,Ws(n)&&To(n))}function zm(n,t){for(;n>0;)t=t[Ur],n--;return t}function Vi(n){return!!(n[q]&9216||n[Nt]?.dirty)}function Gs(n){n[bn].changeDetectionScheduler?.notify(8),n[q]&64&&(n[q]|=1024),Vi(n)&&To(n)}function To(n){n[bn].changeDetectionScheduler?.notify(0);let t=ar(n);for(;t!==null&&!(t[q]&8192||(t[q]|=8192,!Ws(t)));)t=ar(t)}function wu(n,t){if($r(n))throw new D(911,!1);n[Ln]===null&&(n[Ln]=[]),n[Ln].push(t)}function $m(n,t){if(n[Ln]===null)return;let e=n[Ln].indexOf(t);e!==-1&&n[Ln].splice(e,1)}function ar(n){let t=n[Ge];return tn(t)?t[Ge]:t}function Eu(n){return n[ko]??=[]}function Ou(n){return n.cleanup??=[]}function Wm(n,t,e,r){let o=Eu(t);o.push(e),n.firstCreatePass&&Ou(n).push(r,o.length-1)}var J={lFrame:ih(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zd=!1;function Gm(){return J.lFrame.elementDepthCount}function qm(){J.lFrame.elementDepthCount++}function Pu(){J.lFrame.elementDepthCount--}function qs(){return J.bindingsEnabled}function Ym(){return J.skipHydrationRootTNode!==null}function ku(n){return J.skipHydrationRootTNode===n}function Du(){J.skipHydrationRootTNode=null}function K(){return J.lFrame.lView}function Ye(){return J.lFrame.tView}function v(n){return J.lFrame.contextLView=n,n[at]}function y(n){return J.lFrame.contextLView=null,n}function He(){let n=Su();for(;n!==null&&n.type===64;)n=n.parent;return n}function Su(){return J.lFrame.currentTNode}function Zm(){let n=J.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Ao(n,t){let e=J.lFrame;e.currentTNode=n,e.isParent=t}function Iu(){return J.lFrame.isParent}function Qm(){J.lFrame.isParent=!1}function Km(){return J.lFrame.contextLView}function Tu(){return Zd}function Au(n){let t=Zd;return Zd=n,t}function fr(){let n=J.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Jm(){return J.lFrame.bindingIndex}function Xm(n){return J.lFrame.bindingIndex=n}function ji(){return J.lFrame.bindingIndex++}function Ys(n){let t=J.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function eh(){return J.lFrame.inI18n}function th(n,t){let e=J.lFrame;e.bindingIndex=e.bindingRootIndex=n,Zs(t)}function nh(){return J.lFrame.currentDirectiveIndex}function Zs(n){J.lFrame.currentDirectiveIndex=n}function rh(n){let t=J.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function Nu(){return J.lFrame.currentQueryIndex}function Qs(n){J.lFrame.currentQueryIndex=n}function fC(n){let t=n[$];return t.type===2?t.declTNode:t.type===1?n[Ht]:null}function Ru(n,t,e){if(e&4){let o=t,i=n;for(;o=o.parent,o===null&&!(e&1);)if(o=fC(i),o===null||(i=i[Ur],o.type&10))break;if(o===null)return!1;t=o,n=i}let r=J.lFrame=oh();return r.currentTNode=t,r.lView=n,!0}function Ks(n){let t=oh(),e=n[$];J.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function oh(){let n=J.lFrame,t=n===null?null:n.child;return t===null?ih(n):t}function ih(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function ah(){let n=J.lFrame;return J.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Fu=ah;function Js(){let n=ah();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function sh(n){return(J.lFrame.contextLView=zm(n,J.lFrame.contextLView))[at]}function $n(){return J.lFrame.selectedIndex}function pr(n){J.lFrame.selectedIndex=n}function Xs(){let n=J.lFrame;return $s(n.tView,n.selectedIndex)}function No(){J.lFrame.currentNamespace=vu}function Ro(){pC()}function pC(){J.lFrame.currentNamespace=null}function ch(){return J.lFrame.currentNamespace}var lh=!0;function ec(){return lh}function Ui(n){lh=n}function Qd(n,t=null,e=null,r){let o=Lu(n,t,e,r);return o.resolveInjectorInitializers(),o}function Lu(n,t=null,e=null,r,o=new Set){let i=[e||mt,Nm(n)];return r=r||(typeof n=="object"?void 0:Vn(n)),new Lr(i,t||Ii(),r||null,o)}var Et=class n{static THROW_IF_NOT_FOUND=Nr;static NULL=new Oi;static create(t,e){if(Array.isArray(t))return Qd({name:""},e,t,"");{let r=t.name??"";return Qd({name:r},t.parent,t.providers,r)}}static \u0275prov=I({token:n,providedIn:"any",factory:()=>j(lu)});static __NG_ELEMENT_ID__=-1},Ee=new R(""),Gt=(()=>{class n{static __NG_ELEMENT_ID__=gC;static __NG_ENV_ID__=e=>e}return n})(),Kd=class extends Gt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return $r(this._lView)}onDestroy(t){let e=this._lView;return wu(e,t),()=>$m(e,t)}};function gC(){return new Kd(K())}var Xt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},bt=new R("",{providedIn:"root",factory:()=>{let n=x(Ne),t;return e=>{n.destroyed&&!t?setTimeout(()=>{throw e}):(t??=n.get(Xt),t.handleError(e))}}}),dh={provide:Hn,useValue:()=>void x(Xt),multi:!0},mC=new R("",{providedIn:"root",factory:()=>{let n=x(Ee).defaultView;if(!n)return;let t=x(bt),e=i=>{t(i.reason),i.preventDefault()},r=i=>{i.error?t(i.error):t(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{n.addEventListener("unhandledrejection",e),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),x(Gt).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",e)})}});function Vu(){return hn([Am(()=>void x(mC))])}function ju(n){return typeof n=="function"&&n[ot]!==void 0}function _t(n,t){let[e,r,o]=Od(n,t?.equal),i=e,a=i[ot];return i.set=r,i.update=o,i.asReadonly=uh.bind(i),i}function uh(){let n=this[ot];if(n.readonlyFn===void 0){let t=()=>this();t[ot]=n,n.readonlyFn=t}return n.readonlyFn}function Uu(n){return ju(n)&&typeof n.set=="function"}var tc=(()=>{class n{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=hC}return n})();function hC(){return new tc(K(),He())}var jn=class{},Bi=new R("",{providedIn:"root",factory:()=>!1});var Bu=new R(""),Hu=new R(""),Cn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Je(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ne(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),nc=(()=>{class n{internalPendingTasks=x(Cn);scheduler=x(jn);errorHandler=x(bt);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let r=this.add();e().catch(this.errorHandler).finally(r)}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})();function Hi(...n){}var zu=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>new Jd})}return n})(),Jd=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,r]of this.queues)e===null?t||=this.flushQueue(r):t||=e.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,e=!0,r.run());return e}};function Qi(n){return{toString:n}.toString()}function xC(n){return typeof n=="function"}var dc=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function $h(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var On=(()=>{let n=()=>Wh;return n.ngInherit=!0,n})();function Wh(n){return n.type.prototype.ngOnChanges&&(n.setInput=wC),MC}function MC(){let n=qh(this),t=n?.current;if(t){let e=n.previous;if(e===sr)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function wC(n,t,e,r,o){let i=this.declaredInputs[r],a=qh(n)||EC(n,{previous:sr,current:null}),d=a.current||(a.current={}),u=a.previous,p=u[i];d[i]=new dc(p&&p.currentValue,e,u===sr),$h(n,t,o,e)}var Gh="__ngSimpleChanges__";function qh(n){return n[Gh]||null}function EC(n,t){return n[Gh]=t}var fh=[];var pe=function(n,t=null,e){for(let r=0;r<fh.length;r++){let o=fh[r];o(n,t,e)}};function OC(n,t,e){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let a=Wh(t);(e.preOrderHooks??=[]).push(n,a),(e.preOrderCheckHooks??=[]).push(n,a)}o&&(e.preOrderHooks??=[]).push(0-n,o),i&&((e.preOrderHooks??=[]).push(n,i),(e.preOrderCheckHooks??=[]).push(n,i))}function Yh(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let i=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:d,ngAfterViewInit:u,ngAfterViewChecked:p,ngOnDestroy:g}=i;a&&(n.contentHooks??=[]).push(-e,a),d&&((n.contentHooks??=[]).push(e,d),(n.contentCheckHooks??=[]).push(e,d)),u&&(n.viewHooks??=[]).push(-e,u),p&&((n.viewHooks??=[]).push(e,p),(n.viewCheckHooks??=[]).push(e,p)),g!=null&&(n.destroyHooks??=[]).push(e,g)}}function ac(n,t,e){Zh(n,t,3,e)}function sc(n,t,e,r){(n[q]&3)===e&&Zh(n,t,e,r)}function $u(n,t){let e=n[q];(e&3)===t&&(e&=16383,e+=1,n[q]=e)}function Zh(n,t,e,r){let o=r!==void 0?n[Br]&65535:0,i=r??-1,a=t.length-1,d=0;for(let u=o;u<a;u++)if(typeof t[u+1]=="number"){if(d=t[u],r!=null&&d>=r)break}else t[u]<0&&(n[Br]+=65536),(d<i||i==-1)&&(PC(n,e,t,u),n[Br]=(n[Br]&4294901760)+u+2),u++}function ph(n,t){pe(4,n,t);let e=ee(null);try{t.call(n)}finally{ee(e),pe(5,n,t)}}function PC(n,t,e,r){let o=e[r]<0,i=e[r+1],a=o?-e[r]:e[r],d=n[a];o?n[q]>>14<n[Br]>>16&&(n[q]&3)===t&&(n[q]+=16384,ph(d,i)):ph(d,i)}var Lo=-1,qr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=e,this.injectImpl=r}};function kC(n){return(n.flags&8)!==0}function DC(n){return(n.flags&16)!==0}function SC(n,t,e){let r=0;for(;r<e.length;){let o=e[r];if(typeof o=="number"){if(o!==0)break;r++;let i=e[r++],a=e[r++],d=e[r++];n.setAttribute(t,a,d,i)}else{let i=o,a=e[++r];IC(i)?n.setProperty(t,i,a):n.setAttribute(t,i,a),r++}}return r}function Qh(n){return n===3||n===4||n===6}function IC(n){return n.charCodeAt(0)===64}function Vo(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?e=o:e===0||(e===-1||e===2?gh(n,e,o,null,t[++r]):gh(n,e,o,null,null))}}return n}function gh(n,t,e,r,o){let i=0,a=n.length;if(t===-1)a=-1;else for(;i<n.length;){let d=n[i++];if(typeof d=="number"){if(d===t){a=-1;break}else if(d>t){a=i-1;break}}}for(;i<n.length;){let d=n[i];if(typeof d=="number")break;if(d===e){o!==null&&(n[i+1]=o);return}i++,o!==null&&i++}a!==-1&&(n.splice(a,0,t),i=a+1),n.splice(i++,0,e),o!==null&&n.splice(i++,0,o)}function Kh(n){return n!==Lo}function uc(n){return n&32767}function TC(n){return n>>16}function fc(n,t){let e=TC(n),r=t;for(;e>0;)r=r[Ur],e--;return r}var tf=!0;function pc(n){let t=tf;return tf=n,t}var AC=256,Jh=AC-1,Xh=5,NC=0,xn={};function RC(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(Vr)&&(r=e[Vr]),r==null&&(r=e[Vr]=NC++);let o=r&Jh,i=1<<o;t.data[n+(o>>Xh)]|=i}function gc(n,t){let e=e0(n,t);if(e!==-1)return e;let r=t[$];r.firstCreatePass&&(n.injectorIndex=t.length,Wu(r.data,n),Wu(t,null),Wu(r.blueprint,null));let o=kf(n,t),i=n.injectorIndex;if(Kh(o)){let a=uc(o),d=fc(o,t),u=d[$].data;for(let p=0;p<8;p++)t[i+p]=d[a+p]|u[a+p]}return t[i+8]=o,i}function Wu(n,t){n.push(0,0,0,0,0,0,0,0,t)}function e0(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function kf(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,o=t;for(;o!==null;){if(r=i0(o),r===null)return Lo;if(e++,o=o[Ur],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Lo}function nf(n,t,e){RC(n,t,e)}function FC(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,o=0;for(;o<r;){let i=e[o];if(Qh(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof e[o]=="string";)o++;else{if(i===t)return e[o+1];o=o+2}}}return null}function t0(n,t,e){if(e&8||n!==void 0)return n;Us(t,"NodeInjector")}function n0(n,t,e,r){if(e&8&&r===void 0&&(r=null),(e&3)===0){let o=n[cr],i=gt(void 0);try{return o?o.get(t,r,e&8):su(t,r,e&8)}finally{gt(i)}}return t0(r,t,e)}function r0(n,t,e,r=0,o){if(n!==null){if(t[q]&2048&&!(r&2)){let a=UC(n,t,e,r,xn);if(a!==xn)return a}let i=o0(n,t,e,r,xn);if(i!==xn)return i}return n0(t,e,r,o)}function o0(n,t,e,r,o){let i=VC(e);if(typeof i=="function"){if(!Ru(t,n,r))return r&1?t0(o,e,r):n0(t,e,r,o);try{let a;if(a=i(r),a==null&&!(r&8))Us(e);else return a}finally{Fu()}}else if(typeof i=="number"){let a=null,d=e0(n,t),u=Lo,p=r&1?t[zt][Ht]:null;for((d===-1||r&4)&&(u=d===-1?kf(n,t):t[d+8],u===Lo||!hh(r,!1)?d=-1:(a=t[$],d=uc(u),t=fc(u,t)));d!==-1;){let g=t[$];if(mh(i,d,g.data)){let h=LC(d,t,e,a,r,p);if(h!==xn)return h}u=t[d+8],u!==Lo&&hh(r,t[$].data[d+8]===p)&&mh(i,d,t)?(a=g,d=uc(u),t=fc(u,t)):d=-1}}return o}function LC(n,t,e,r,o,i){let a=t[$],d=a.data[n+8],u=r==null?ur(d)&&tf:r!=a&&(d.type&3)!==0,p=o&1&&i===d,g=cc(d,a,e,u,p);return g!==null?Wi(t,a,g,d,o):xn}function cc(n,t,e,r,o){let i=n.providerIndexes,a=t.data,d=i&1048575,u=n.directiveStart,p=n.directiveEnd,g=i>>20,h=r?d:d+g,M=o?d+g:p;for(let C=h;C<M;C++){let O=a[C];if(C<u&&e===O||C>=u&&O.type===e)return C}if(o){let C=a[u];if(C&&yn(C)&&C.type===e)return u}return null}function Wi(n,t,e,r,o){let i=n[e],a=t.data;if(i instanceof qr){let d=i;if(d.resolving){let C=Em(a[e]);throw au(C)}let u=pc(d.canSeeViewProviders);d.resolving=!0;let p=a[e].type||a[e],g,h=d.injectImpl?gt(d.injectImpl):null,M=Ru(n,r,0);try{i=n[e]=d.factory(void 0,o,a,n,r),t.firstCreatePass&&e>=r.directiveStart&&OC(e,a[e],t)}finally{h!==null&&gt(h),pc(u),d.resolving=!1,Fu()}}return i}function VC(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Vr)?n[Vr]:void 0;return typeof t=="number"?t>=0?t&Jh:jC:t}function mh(n,t,e){let r=1<<n;return!!(e[t+(n>>Xh)]&r)}function hh(n,t){return!(n&2)&&!(n&1&&t)}var Gr=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return r0(this._tNode,this._lView,t,Rr(r),e)}};function jC(){return new Gr(He(),K())}function Pn(n){return Qi(()=>{let t=n.prototype.constructor,e=t[Ei]||rf(t),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[Ei]||rf(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function rf(n){return Xd(n)?()=>{let t=rf(et(n));return t&&t()}:ir(n)}function UC(n,t,e,r,o){let i=n,a=t;for(;i!==null&&a!==null&&a[q]&2048&&!Io(a);){let d=o0(i,a,e,r|2,xn);if(d!==xn)return d;let u=i.parent;if(!u){let p=a[bu];if(p){let g=p.get(e,xn,r);if(g!==xn)return g}u=i0(a),a=a[Ur]}i=u}return o}function i0(n){let t=n[$],e=t.type;return e===2?t.declTNode:e===1?n[Ht]:null}function Ki(n){return FC(He(),n)}function BC(){return zo(He(),K())}function zo(n,t){return new st(nn(n,t))}var st=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=BC}return n})();function HC(n){return n instanceof st?n.nativeElement:n}function zC(){return this._results[Symbol.iterator]()}var mc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new we}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=Sm(t);(this._changesDetected=!Dm(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=zC};function a0(n){return(n.flags&128)===128}var Df=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Df||{}),s0=new Map,$C=0;function WC(){return $C++}function GC(n){s0.set(n[Ai],n)}function of(n){s0.delete(n[Ai])}var bh="__ngContext__";function jo(n,t){vn(t)?(n[bh]=t[Ai],GC(t)):n[bh]=t}function c0(n){return d0(n[Do])}function l0(n){return d0(n[Bt])}function d0(n){for(;n!==null&&!tn(n);)n=n[Bt];return n}var af;function Sf(n){af=n}function u0(){if(af!==void 0)return af;if(typeof document<"u")return document;throw new D(210,!1)}var kc=new R("",{providedIn:"root",factory:()=>qC}),qC="ng",Dc=new R(""),Ji=new R("",{providedIn:"platform",factory:()=>"unknown"});var Sc=new R("",{providedIn:"root",factory:()=>u0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var YC="h",ZC="b";var f0=!1,p0=new R("",{providedIn:"root",factory:()=>f0});var If=new R("");var QC=(n,t,e,r)=>{};function KC(n,t,e,r){QC(n,t,e,r)}function Tf(n){return(n.flags&32)===32}var JC=()=>null;function g0(n,t,e=!1){return JC(n,t,e)}function m0(n,t){let e=n.contentQueries;if(e!==null){let r=ee(null);try{for(let o=0;o<e.length;o+=2){let i=e[o],a=e[o+1];if(a!==-1){let d=n.data[a];Qs(i),d.contentQueries(2,t[a],a)}}}finally{ee(r)}}}function sf(n,t,e){Qs(0);let r=ee(null);try{t(n,e)}finally{ee(r)}}function Af(n,t,e){if(_u(t)){let r=ee(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let a=o;a<i;a++){let d=n.data[a];if(d.contentQueries){let u=e[a];d.contentQueries(1,u,a)}}}finally{ee(r)}}}var Wn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Wn||{});var rc;function XC(){if(rc===void 0&&(rc=null,Bn.trustedTypes))try{rc=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rc}function _h(n){return XC()?.createScriptURL(n)||n}var hc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ls})`}};function Jr(n){return n instanceof hc?n.changingThisBreaksApplicationSecurity:n}function Nf(n,t){let e=h0(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Ls})`)}return e===t}function h0(n){return n instanceof hc&&n.getTypeName()||null}var ex=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function b0(n){return n=String(n),n.match(ex)?n:"unsafe:"+n}var Ic=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Ic||{});function _0(n){let t=y0();return t?t.sanitize(Ic.URL,n)||"":Nf(n,"URL")?Jr(n):b0(jr(n))}function v0(n){let t=y0();if(t)return _h(t.sanitize(Ic.RESOURCE_URL,n)||"");if(Nf(n,"ResourceURL"))return _h(Jr(n));throw new D(904,!1)}function tx(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?v0:_0}function Rf(n,t,e){return tx(t,e)(n)}function y0(){let n=K();return n&&n[bn].sanitizer}var nx=/^>|^->|<!--|-->|--!>|<!-$/g,rx=/(<|>)/g,ox="\u200B$1\u200B";function ix(n){return n.replace(nx,t=>t.replace(rx,ox))}function mr(n){return n.ownerDocument}function C0(n){return n instanceof Function?n():n}function ax(n,t,e){let r=n.length;for(;;){let o=n.indexOf(t,e);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}e=o+1}}var x0="ng-template";function sx(n,t,e,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&ax(t[o+1].toLowerCase(),e,0)!==-1)return!0}else if(Ff(n))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===e)return!0}return!1}function Ff(n){return n.type===4&&n.value!==x0}function cx(n,t,e){let r=n.type===4&&!e?x0:n.value;return t===r}function lx(n,t,e){let r=4,o=n.attrs,i=o!==null?fx(o):0,a=!1;for(let d=0;d<t.length;d++){let u=t[d];if(typeof u=="number"){if(!a&&!rn(r)&&!rn(u))return!1;if(a&&rn(u))continue;a=!1,r=u|r&1;continue}if(!a)if(r&4){if(r=2|r&1,u!==""&&!cx(n,u,e)||u===""&&t.length===1){if(rn(r))return!1;a=!0}}else if(r&8){if(o===null||!sx(n,o,u,e)){if(rn(r))return!1;a=!0}}else{let p=t[++d],g=dx(u,o,Ff(n),e);if(g===-1){if(rn(r))return!1;a=!0;continue}if(p!==""){let h;if(g>i?h="":h=o[g+1].toLowerCase(),r&2&&p!==h){if(rn(r))return!1;a=!0}}}}return rn(r)||a}function rn(n){return(n&1)===0}function dx(n,t,e,r){if(t===null)return-1;let o=0;if(r||!e){let i=!1;for(;o<t.length;){let a=t[o];if(a===n)return o;if(a===3||a===6)i=!0;else if(a===1||a===2){let d=t[++o];for(;typeof d=="string";)d=t[++o];continue}else{if(a===4)break;if(a===0){o+=4;continue}}o+=i?1:2}return-1}else return px(t,n)}function ux(n,t,e=!1){for(let r=0;r<t.length;r++)if(lx(n,t[r],e))return!0;return!1}function fx(n){for(let t=0;t<n.length;t++){let e=n[t];if(Qh(e))return t}return n.length}function px(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function vh(n,t){return n?":not("+t.trim()+")":t}function gx(n){let t=n[0],e=1,r=2,o="",i=!1;for(;e<n.length;){let a=n[e];if(typeof a=="string")if(r&2){let d=n[++e];o+="["+a+(d.length>0?'="'+d+'"':"")+"]"}else r&8?o+="."+a:r&4&&(o+=" "+a);else o!==""&&!rn(a)&&(t+=vh(i,o),o=""),r=a,i=i||!rn(r);e++}return o!==""&&(t+=vh(i,o)),t}function mx(n){return n.map(gx).join(",")}function hx(n){let t=[],e=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&t.push(i,n[++r]):o===8&&e.push(i);else{if(!rn(o))break;o=i}r++}return e.length&&t.push(1,...e),t}var Ot={};function bx(n,t){return n.createText(t)}function _x(n,t,e){n.setValue(t,e)}function vx(n,t){return n.createComment(ix(t))}function M0(n,t,e){return n.createElement(t,e)}function bc(n,t,e,r,o){n.insertBefore(t,e,r,o)}function w0(n,t,e){n.appendChild(t,e)}function yh(n,t,e,r,o){r!==null?bc(n,t,e,r,o):w0(n,t,e)}function yx(n,t,e,r){n.removeChild(null,t,e,r)}function Cx(n,t,e){n.setAttribute(t,"style",e)}function xx(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function E0(n,t,e){let{mergedAttrs:r,classes:o,styles:i}=e;r!==null&&SC(n,t,r),o!==null&&xx(n,t,o),i!==null&&Cx(n,t,i)}function Lf(n,t,e,r,o,i,a,d,u,p,g){let h=Ue+r,M=h+o,C=Mx(h,M),O=typeof p=="function"?p():p;return C[$]={type:n,blueprint:C,template:e,queries:null,viewQuery:d,declTNode:t,data:C.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:O,incompleteFirstPass:!1,ssrId:g}}function Mx(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Ot);return e}function wx(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Lf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Vf(n,t,e,r,o,i,a,d,u,p,g){let h=t.blueprint.slice();return h[en]=o,h[q]=r|4|128|8|64|1024,(p!==null||n&&n[q]&2048)&&(h[q]|=2048),xu(h),h[Ge]=h[Ur]=n,h[at]=e,h[bn]=a||n&&n[bn],h[Ce]=d||n&&n[Ce],h[cr]=u||n&&n[cr]||null,h[Ht]=i,h[Ai]=WC(),h[Ti]=g,h[bu]=p,h[zt]=t.type==2?n[zt]:h,h}function Ex(n,t,e){let r=nn(t,n),o=wx(e),i=n[bn].rendererFactory,a=jf(n,Vf(n,o,null,O0(e),r,t,null,i.createRenderer(r,e),null,null,null));return n[t.index]=a}function O0(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function P0(n,t,e,r){if(e===0)return-1;let o=t.length;for(let i=0;i<e;i++)t.push(r),n.blueprint.push(r),n.data.push(null);return o}function jf(n,t){return n[Do]?n[hu][Bt]=t:n[Do]=t,n[hu]=t,t}function f(n=1){k0(Ye(),K(),$n()+n,!1)}function k0(n,t,e,r){if(!r)if((t[q]&3)===3){let i=n.preOrderCheckHooks;i!==null&&ac(t,i,e)}else{let i=n.preOrderHooks;i!==null&&sc(t,i,0,e)}pr(e)}var Tc=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Tc||{});function cf(n,t,e,r){let o=ee(null);try{let[i,a,d]=n.inputs[e],u=null;(a&Tc.SignalBased)!==0&&(u=t[i][ot]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):d!==null&&(r=d.call(t,r)),n.setInput!==null?n.setInput(t,u,r,e,i):$h(t,u,i,r)}finally{ee(o)}}var Mn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Mn||{}),Ox;function Uf(n,t){return Ox(n,t)}var Uo=new Set,Ac=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Ac||{}),Xr=new R(""),Ch=new Set;function eo(n){Ch.has(n)||(Ch.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var D0=!1,lf=class extends we{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Vm()&&(this.destroyRef=x(Gt,{optional:!0})??void 0,this.pendingTasks=x(Cn,{optional:!0})??void 0)}emit(t){let e=ee(null);try{super.next(t)}finally{ee(e)}}subscribe(t,e,r){let o=t,i=e||(()=>null),a=r;if(t&&typeof t=="object"){let u=t;o=u.next?.bind(u),i=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));let d=super.subscribe({next:o,error:i,complete:a});return t instanceof Le&&t.add(d),d}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Re=lf;function S0(n){let t,e;function r(){n=Hi;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function xh(n){return queueMicrotask(()=>n()),()=>{n=Hi}}var Bf="isAngularZone",_c=Bf+"_ID",Px=0,Pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Re(!1);onMicrotaskEmpty=new Re(!1);onStable=new Re(!1);onError=new Re(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=D0}=t;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=i,Sx(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bf)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new D(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,o){let i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+o,t,kx,Hi,Hi);try{return i.runTask(a,e,r)}finally{i.cancelTask(a)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},kx={};function Hf(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Dx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){S0(()=>{n.callbackScheduled=!1,df(n),n.isCheckStableRunning=!0,Hf(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),df(n)}function Sx(n){let t=()=>{Dx(n)},e=Px++;n._inner=n._inner.fork({name:"angular",properties:{[Bf]:!0,[_c]:e,[_c+e]:!0},onInvokeTask:(r,o,i,a,d,u)=>{if(Ix(u))return r.invokeTask(i,a,d,u);try{return Mh(n),r.invokeTask(i,a,d,u)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),wh(n)}},onInvoke:(r,o,i,a,d,u,p)=>{try{return Mh(n),r.invoke(i,a,d,u,p)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Tx(u)&&t(),wh(n)}},onHasTask:(r,o,i,a)=>{r.hasTask(i,a),o===i&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,df(n),Hf(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,i,a)=>(r.handleError(i,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function df(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Mh(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wh(n){n._nesting--,Hf(n)}var vc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Re;onMicrotaskEmpty=new Re;onStable=new Re;onError=new Re;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,o){return t.apply(e,r)}};function Ix(n){return I0(n,"__ignore_ng_zone__")}function Tx(n){return I0(n,"__scheduler_tick__")}function I0(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var zf=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),T0=[0,1,2,3],A0=(()=>{class n{ngZone=x(Pe);scheduler=x(jn);errorHandler=x(Xt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(Xr,{optional:!0})}execute(){let e=this.sequences.size>0;e&&pe(16),this.executing=!0;for(let r of T0)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&pe(17)}register(e){let{view:r}=e;r!==void 0?((r[Hr]??=[]).push(e),To(r),r[q]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Ac.AFTER_NEXT_RENDER,e):e()}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),yc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,o,i,a=null){this.impl=t,this.hooks=e,this.view=r,this.once=o,this.snapshot=a,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Hr];t&&(this.view[Hr]=t.filter(e=>e!==this))}};function Xi(n,t){let e=t?.injector??x(Et);return eo("NgAfterNextRender"),Nx(n,e,t,!0)}function Ax(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Nx(n,t,e,r){let o=t.get(zf);o.impl??=t.get(A0);let i=t.get(Xr,null,{optional:!0}),a=e?.manualCleanup!==!0?t.get(Gt):null,d=t.get(tc,null,{optional:!0}),u=new yc(o.impl,Ax(n),d?.view,r,a,i?.snapshot(null));return o.impl.register(u),u}var Rx=new R("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function N0(n,t,e){let r=n.get(Rx);if(Array.isArray(t))for(let o of t)r.queue.add(o),e?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(n)}function Fx(n,t){for(let[e,r]of t)N0(n,r.animateFns)}function Eh(n,t,e,r){let o=n?.[Ri]?.enter;t!==null&&o&&o.has(e.index)&&Fx(r,o)}function Fo(n,t,e,r,o,i,a,d){if(o!=null){let u,p=!1;tn(o)?u=o:vn(o)&&(p=!0,o=o[en]);let g=$t(o);n===0&&r!==null?(Eh(d,r,i,e),a==null?w0(t,r,g):bc(t,r,g,a||null,!0)):n===1&&r!==null?(Eh(d,r,i,e),bc(t,r,g,a||null,!0)):n===2?Oh(d,i,e,h=>{yx(t,g,p,h)}):n===3&&Oh(d,i,e,()=>{t.destroyNode(g)}),u!=null&&Zx(t,n,e,u,i,r,a)}}function Lx(n,t){R0(n,t),t[en]=null,t[Ht]=null}function Vx(n,t,e,r,o,i){r[en]=o,r[Ht]=t,Nc(n,r,e,1,o,i)}function R0(n,t){t[bn].changeDetectionScheduler?.notify(9),Nc(n,t,t[Ce],2,null,null)}function jx(n){let t=n[Do];if(!t)return Gu(n[$],n);for(;t;){let e=null;if(vn(t))e=t[Do];else{let r=t[ht];r&&(e=r)}if(!e){for(;t&&!t[Bt]&&t!==n;)vn(t)&&Gu(t[$],t),t=t[Ge];t===null&&(t=n),vn(t)&&Gu(t[$],t),e=t&&t[Bt]}t=e}}function $f(n,t){let e=n[zr],r=e.indexOf(t);e.splice(r,1)}function F0(n,t){if($r(t))return;let e=t[Ce];e.destroyNode&&Nc(n,t,e,3,null,null),jx(t)}function Gu(n,t){if($r(t))return;let e=ee(null);try{t[q]&=-129,t[q]|=256,t[Nt]&&vi(t[Nt]),Hx(n,t),Bx(n,t),t[$].type===1&&t[Ce].destroy();let r=t[lr];if(r!==null&&tn(t[Ge])){r!==t[Ge]&&$f(r,t);let o=t[_n];o!==null&&o.detachView(n)}of(t)}finally{ee(e)}}function Oh(n,t,e,r){let o=n?.[Ri];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);n&&Uo.add(n),N0(e,()=>{if(o.leave&&o.leave.has(t.index)){let a=o.leave.get(t.index),d=[];if(a){for(let u=0;u<a.animateFns.length;u++){let p=a.animateFns[u],{promise:g}=p();d.push(g)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(d),Ux(n,r)}else n&&Uo.delete(n),r(!1)},o)}function Ux(n,t){let e=n[Ri]?.running;if(e){e.then(()=>{n[Ri].running=void 0,Uo.delete(n),t(!0)});return}t(!1)}function Bx(n,t){let e=n.cleanup,r=t[ko];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let d=e[a+3];d>=0?r[d]():r[-d].unsubscribe(),a+=2}else{let d=r[e[a+1]];e[a].call(d)}r!==null&&(t[ko]=null);let o=t[Ln];if(o!==null){t[Ln]=null;for(let a=0;a<o.length;a++){let d=o[a];d()}}let i=t[Ni];if(i!==null){t[Ni]=null;for(let a of i)a.destroy()}}function Hx(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let o=t[e[r]];if(!(o instanceof qr)){let i=e[r+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){let d=o[i[a]],u=i[a+1];pe(4,d,u);try{u.call(d)}finally{pe(5,d,u)}}else{pe(4,o,i);try{i.call(o)}finally{pe(5,o,i)}}}}}function zx(n,t,e){return $x(n,t.parent,e)}function $x(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[en];if(ur(r)){let{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===Wn.None||o===Wn.Emulated)return null}return nn(r,e)}function Wx(n,t,e){return qx(n,t,e)}function Gx(n,t,e){return n.type&40?nn(n,e):null}var qx=Gx,Ph;function Wf(n,t,e,r){let o=zx(n,r,t),i=t[Ce],a=r.parent||t[Ht],d=Wx(a,r,t);if(o!=null)if(Array.isArray(e))for(let u=0;u<e.length;u++)yh(i,o,e[u],d,!1);else yh(i,o,e,d,!1);Ph!==void 0&&Ph(i,r,t,e,o)}function zi(n,t){if(t!==null){let e=t.type;if(e&3)return nn(t,n);if(e&4)return uf(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return zi(n,r);{let o=n[t.index];return tn(o)?uf(-1,o):$t(o)}}else{if(e&128)return zi(n,t.next);if(e&32)return Uf(t,n)()||$t(n[t.index]);{let r=L0(n,t);if(r!==null){if(Array.isArray(r))return r[0];let o=ar(n[zt]);return zi(o,r)}else return zi(n,t.next)}}}return null}function L0(n,t){if(t!==null){let r=n[zt][Ht],o=t.projection;return r.projection[o]}return null}function uf(n,t){let e=ht+n+1;if(e<t.length){let r=t[e],o=r[$].firstChild;if(o!==null)return zi(r,o)}return t[dr]}function Gf(n,t,e,r,o,i,a){for(;e!=null;){let d=r[cr];if(e.type===128){e=e.next;continue}let u=r[e.index],p=e.type;if(a&&t===0&&(u&&jo($t(u),r),e.flags|=2),!Tf(e))if(p&8)Gf(n,t,e.child,r,o,i,!1),Fo(t,n,d,o,u,e,i,r);else if(p&32){let g=Uf(e,r),h;for(;h=g();)Fo(t,n,d,o,h,e,i,r);Fo(t,n,d,o,u,e,i,r)}else p&16?Yx(n,t,r,e,o,i):Fo(t,n,d,o,u,e,i,r);e=a?e.projectionNext:e.next}}function Nc(n,t,e,r,o,i){Gf(e,r,n.firstChild,t,o,i,!1)}function Yx(n,t,e,r,o,i){let a=e[zt],u=a[Ht].projection[r.projection];if(Array.isArray(u))for(let p=0;p<u.length;p++){let g=u[p];Fo(t,n,e[cr],o,g,r,i,e)}else{let p=u,g=a[Ge];a0(r)&&(p.flags|=128),Gf(n,t,p,g,o,i,!0)}}function Zx(n,t,e,r,o,i,a){let d=r[dr],u=$t(r);d!==u&&Fo(t,n,e,i,d,o,a);for(let p=ht;p<r.length;p++){let g=r[p];Nc(g[$],g,n,t,i,d)}}function Qx(n,t,e,r,o){if(t)o?n.addClass(e,r):n.removeClass(e,r);else{let i=r.indexOf("-")===-1?void 0:Mn.DashCase;o==null?n.removeStyle(e,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Mn.Important),n.setStyle(e,r,o,i))}}function V0(n,t,e,r,o){let i=$n(),a=r&2;try{pr(-1),a&&t.length>Ue&&k0(n,t,Ue,!1),pe(a?2:0,o,e),e(r,o)}finally{pr(i),pe(a?3:1,o,e)}}function Rc(n,t,e){r1(n,t,e),(e.flags&64)===64&&o1(n,t,e)}function Fc(n,t,e=nn){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let a=r[i+1],d=a===-1?e(t,n):n[a];n[o++]=d}}}function Kx(n,t,e,r){let i=r.get(p0,f0)||e===Wn.ShadowDom,a=n.selectRootElement(t,i);return Jx(a),a}function Jx(n){Xx(n)}var Xx=()=>null;function e1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function j0(n,t,e,r,o,i){let a=t[$];if(Qf(n,a,t,e,r)){ur(n)&&n1(t,n.index);return}n.type&3&&(e=e1(e)),t1(n,t,e,r,o,i)}function t1(n,t,e,r,o,i){if(n.type&3){let a=nn(n,t);r=i!=null?i(r,n.value||"",e):r,o.setProperty(a,e,r)}else n.type&12}function n1(n,t){let e=Wt(t,n);e[q]&16||(e[q]|=64)}function r1(n,t,e){let r=e.directiveStart,o=e.directiveEnd;ur(e)&&Ex(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||gc(e,t);let i=e.initialInputs;for(let a=r;a<o;a++){let d=n.data[a],u=Wi(t,n,a,e);if(jo(u,t),i!==null&&c1(t,a-r,u,d,e,i),yn(d)){let p=Wt(e.index,t);p[at]=Wi(t,n,a,e)}}}function o1(n,t,e){let r=e.directiveStart,o=e.directiveEnd,i=e.index,a=nh();try{pr(i);for(let d=r;d<o;d++){let u=n.data[d],p=t[d];Zs(d),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&i1(u,p)}}finally{pr(-1),Zs(a)}}function i1(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function qf(n,t){let e=n.directiveRegistry,r=null;if(e)for(let o=0;o<e.length;o++){let i=e[o];ux(t,i.selectors,!1)&&(r??=[],yn(i)?r.unshift(i):r.push(i))}return r}function a1(n,t,e,r,o,i){let a=nn(n,t);s1(t[Ce],a,i,n.value,e,r,o)}function s1(n,t,e,r,o,i,a){if(i==null)n.removeAttribute(t,o,e);else{let d=a==null?jr(i):a(i,r||"",o);n.setAttribute(t,o,d,e)}}function c1(n,t,e,r,o,i){let a=i[t];if(a!==null)for(let d=0;d<a.length;d+=2){let u=a[d],p=a[d+1];cf(r,e,u,p)}}function Yf(n,t,e,r,o){let i=Ue+e,a=t[$],d=o(a,t,n,r,e);t[i]=d,Ao(n,!0);let u=n.type===2;return u?(E0(t[Ce],d,n),(Gm()===0||So(n))&&jo(d,t),qm()):jo(d,t),ec()&&(!u||!Tf(n))&&Wf(a,t,d,n),n}function Zf(n){let t=n;return Iu()?Qm():(t=t.parent,Ao(t,!1)),t}function l1(n,t){let e=n[cr];if(!e)return;let r;try{r=e.get(bt,null)}catch{r=null}r?.(t)}function Qf(n,t,e,r,o){let i=n.inputs?.[r],a=n.hostDirectiveInputs?.[r],d=!1;if(a)for(let u=0;u<a.length;u+=2){let p=a[u],g=a[u+1],h=t.data[p];cf(h,e[p],g,o),d=!0}if(i)for(let u of i){let p=e[u],g=t.data[u];cf(g,p,r,o),d=!0}return d}function d1(n,t){let e=Wt(t,n),r=e[$];u1(r,e);let o=e[en];o!==null&&e[Ti]===null&&(e[Ti]=g0(o,e[cr])),pe(18),Kf(r,e,e[at]),pe(19,e[at])}function u1(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Kf(n,t,e){Ks(t);try{let r=n.viewQuery;r!==null&&sf(1,r,e);let o=n.template;o!==null&&V0(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[_n]?.finishViewCreation(n),n.staticContentQueries&&m0(n,t),n.staticViewQueries&&sf(2,n.viewQuery,e);let i=n.components;i!==null&&f1(t,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[q]&=-5,Js()}}function f1(n,t){for(let e=0;e<t.length;e++)d1(n,t[e])}function p1(n,t,e,r){let o=ee(null);try{let i=t.tView,d=n[q]&4096?4096:16,u=Vf(n,i,e,d,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),p=n[t.index];u[lr]=p;let g=n[_n];return g!==null&&(u[_n]=g.createEmbeddedView(i)),Kf(i,u,e),u}finally{ee(o)}}function kh(n,t){return!t||t.firstChild===null||a0(n)}function Gi(n,t,e,r,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let i=t[e.index];i!==null&&r.push($t(i)),tn(i)&&U0(i,r);let a=e.type;if(a&8)Gi(n,t,e.child,r);else if(a&32){let d=Uf(e,t),u;for(;u=d();)r.push(u)}else if(a&16){let d=L0(t,e);if(Array.isArray(d))r.push(...d);else{let u=ar(t[zt]);Gi(u[$],u,d,r,!0)}}e=o?e.projectionNext:e.next}return r}function U0(n,t){for(let e=ht;e<n.length;e++){let r=n[e],o=r[$].firstChild;o!==null&&Gi(r[$],r,o,t)}n[dr]!==n[en]&&t.push(n[dr])}function B0(n){if(n[Hr]!==null){for(let t of n[Hr])t.impl.addSequence(t);n[Hr].length=0}}var H0=[];function g1(n){return n[Nt]??m1(n)}function m1(n){let t=H0.pop()??Object.create(b1);return t.lView=n,t}function h1(n){n.lView[Nt]!==n&&(n.lView=null,H0.push(n))}var b1=X(P({},po),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{To(n.lView)},consumerOnSignalRead(){this.lView[Nt]=this}});function _1(n){let t=n[Nt]??Object.create(v1);return t.lView=n,t}var v1=X(P({},po),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=ar(n.lView);for(;t&&!z0(t[$]);)t=ar(t);t&&Mu(t)},consumerOnSignalRead(){this.lView[Nt]=this}});function z0(n){return n.type!==2}function $0(n){if(n[Ni]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[Ni])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[q]&8192)}}var y1=100;function W0(n,t=0){let r=n[bn].rendererFactory,o=!1;o||r.begin?.();try{C1(n,t)}finally{o||r.end?.()}}function C1(n,t){let e=Tu();try{Au(!0),ff(n,t);let r=0;for(;Vi(n);){if(r===y1)throw new D(103,!1);r++,ff(n,1)}}finally{Au(e)}}function x1(n,t,e,r){if($r(t))return;let o=t[q],i=!1,a=!1;Ks(t);let d=!0,u=null,p=null;i||(z0(n)?(p=g1(t),u=mo(p)):is()===null?(d=!1,p=_1(t),u=mo(p)):t[Nt]&&(vi(t[Nt]),t[Nt]=null));try{xu(t),Xm(n.bindingStartIndex),e!==null&&V0(n,t,e,2,r);let g=(o&3)===3;if(!i)if(g){let C=n.preOrderCheckHooks;C!==null&&ac(t,C,null)}else{let C=n.preOrderHooks;C!==null&&sc(t,C,0,null),$u(t,0)}if(a||M1(t),$0(t),G0(t,0),n.contentQueries!==null&&m0(n,t),!i)if(g){let C=n.contentCheckHooks;C!==null&&ac(t,C)}else{let C=n.contentHooks;C!==null&&sc(t,C,1),$u(t,1)}E1(n,t);let h=n.components;h!==null&&Y0(t,h,0);let M=n.viewQuery;if(M!==null&&sf(2,M,r),!i)if(g){let C=n.viewCheckHooks;C!==null&&ac(t,C)}else{let C=n.viewHooks;C!==null&&sc(t,C,2),$u(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[zs]){for(let C of t[zs])C();t[zs]=null}i||(B0(t),t[q]&=-73)}catch(g){throw i||To(t),g}finally{p!==null&&(bi(p,u),d&&h1(p)),Js()}}function G0(n,t){for(let e=c0(n);e!==null;e=l0(e))for(let r=ht;r<e.length;r++){let o=e[r];q0(o,t)}}function M1(n){for(let t=c0(n);t!==null;t=l0(t)){if(!(t[q]&2))continue;let e=t[zr];for(let r=0;r<e.length;r++){let o=e[r];Mu(o)}}}function w1(n,t,e){pe(18);let r=Wt(t,n);q0(r,e),pe(19,r[at])}function q0(n,t){Ws(n)&&ff(n,t)}function ff(n,t){let r=n[$],o=n[q],i=n[Nt],a=!!(t===0&&o&16);if(a||=!!(o&64&&t===0),a||=!!(o&1024),a||=!!(i?.dirty&&_i(i)),a||=!1,i&&(i.dirty=!1),n[q]&=-9217,a)x1(r,n,r.template,n[at]);else if(o&8192){let d=ee(null);try{$0(n),G0(n,1);let u=r.components;u!==null&&Y0(n,u,1),B0(n)}finally{ee(d)}}}function Y0(n,t,e){for(let r=0;r<t.length;r++)w1(n,t[r],e)}function E1(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let o=e[r];if(o<0)pr(~o);else{let i=o,a=e[++r],d=e[++r];th(a,i);let u=t[i];pe(24,u),d(2,u),pe(25,u)}}}finally{pr(-1)}}function Jf(n,t){let e=Tu()?64:1088;for(n[bn].changeDetectionScheduler?.notify(t);n;){n[q]|=e;let r=ar(n);if(Io(n)&&!r)return n;n=r}return null}function Z0(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function O1(n,t,e,r=!0){let o=t[$];if(P1(o,t,n,e),r){let a=uf(e,n),d=t[Ce],u=d.parentNode(n[dr]);u!==null&&Vx(o,n[Ht],d,t,u,a)}let i=t[Ti];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function pf(n,t){if(n.length<=ht)return;let e=ht+t,r=n[e];if(r){let o=r[lr];o!==null&&o!==n&&$f(o,r),t>0&&(n[e-1][Bt]=r[Bt]);let i=ki(n,ht+t);Lx(r[$],r);let a=i[_n];a!==null&&a.detachView(i[$]),r[Ge]=null,r[Bt]=null,r[q]&=-129}return r}function P1(n,t,e,r){let o=ht+r,i=e.length;r>0&&(e[o-1][Bt]=t),r<i-ht?(t[Bt]=e[o],cu(e,ht+r,t)):(e.push(t),t[Bt]=null),t[Ge]=e;let a=t[lr];a!==null&&e!==a&&Q0(a,t);let d=t[_n];d!==null&&d.insertView(n),Gs(t),t[q]|=128}function Q0(n,t){let e=n[zr],r=t[Ge];if(vn(r))n[q]|=2;else{let o=r[Ge][zt];t[zt]!==o&&(n[q]|=2)}e===null?n[zr]=[t]:e.push(t)}var gr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[$];return Gi(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[at]}set context(t){this._lView[at]=t}get destroyed(){return $r(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ge];if(tn(t)){let e=t[Fi],r=e?e.indexOf(this):-1;r>-1&&(pf(t,r),ki(e,r))}this._attachedToViewContainer=!1}F0(this._lView[$],this._lView)}onDestroy(t){wu(this._lView,t)}markForCheck(){Jf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){Gs(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,W0(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Io(this._lView),e=this._lView[lr];e!==null&&!t&&$f(e,this._lView),R0(this._lView[$],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t;let e=Io(this._lView),r=this._lView[lr];r!==null&&!e&&Q0(r,this._lView),Gs(this._lView)}};var wn=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=k1;constructor(e,r,o){this._declarationLView=e,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,o){let i=p1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:o});return new gr(i)}}return n})();function k1(){return Lc(He(),K())}function Lc(n,t){return n.type&4?new wn(t,n,zo(n,t)):null}function Vc(n,t,e,r,o){let i=n.data[t];if(i===null)i=D1(n,t,e,r,o),eh()&&(i.flags|=32);else if(i.type&64){i.type=e,i.value=r,i.attrs=o;let a=Zm();i.injectorIndex=a===null?-1:a.injectorIndex}return Ao(i,!0),i}function D1(n,t,e,r,o){let i=Su(),a=Iu(),d=a?i:i&&i.parent,u=n.data[t]=I1(n,d,e,t,r,o);return S1(n,u,i,a),u}function S1(n,t,e,r){n.firstChild===null&&(n.firstChild=t),e!==null&&(r?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function I1(n,t,e,r,o,i){let a=t?t.injectorIndex:-1,d=0;return Ym()&&(d|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var f3=new RegExp(`^(\\d+)*(${ZC}|${YC})*(.*)`);var T1=()=>null;function Dh(n,t){return T1(n,t)}var K0=class{},jc=class{},gf=class{resolveComponentFactory(t){throw new D(917,!1)}},ea=class{static NULL=new gf},Yr=class{},qt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>A1()}return n})();function A1(){let n=K(),t=He(),e=Wt(t.index,n);return(vn(e)?e:n)[Ce]}var J0=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>null})}return n})();var lc={},mf=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){let o=this.injector.get(t,lc,r);return o!==lc||e===lc?o:this.parentInjector.get(t,e,r)}};function Cc(n,t,e){let r=e?n.styles:null,o=e?n.classes:null,i=0;if(t!==null)for(let a=0;a<t.length;a++){let d=t[a];if(typeof d=="number")i=d;else if(i==1)o=Vs(o,d);else if(i==2){let u=d,p=t[++a];r=Vs(r,u+": "+p+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=o:n.classesWithoutHost=o}function S(n,t=0){let e=K();if(e===null)return j(n,t);let r=He();return r0(r,e,et(n),t)}function Xf(){let n="invalid";throw new Error(n)}function X0(n,t,e,r,o){let i=r===null?null:{"":-1},a=o(n,e);if(a!==null){let d=a,u=null,p=null;for(let g of a)if(g.resolveHostDirectives!==null){[d,u,p]=g.resolveHostDirectives(a);break}F1(n,t,e,d,i,u,p)}i!==null&&r!==null&&N1(e,r,i)}function N1(n,t,e){let r=n.localNames=[];for(let o=0;o<t.length;o+=2){let i=e[t[o+1]];if(i==null)throw new D(-301,!1);r.push(t[o],i)}}function R1(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function F1(n,t,e,r,o,i,a){let d=r.length,u=!1;for(let M=0;M<d;M++){let C=r[M];!u&&yn(C)&&(u=!0,R1(n,e,M)),nf(gc(e,t),n,C.type)}H1(e,n.data.length,d);for(let M=0;M<d;M++){let C=r[M];C.providersResolver&&C.providersResolver(C)}let p=!1,g=!1,h=P0(n,t,d,null);d>0&&(e.directiveToIndex=new Map);for(let M=0;M<d;M++){let C=r[M];if(e.mergedAttrs=Vo(e.mergedAttrs,C.hostAttrs),V1(n,e,t,h,C),B1(h,C,o),a!==null&&a.has(C)){let[U,F]=a.get(C);e.directiveToIndex.set(C.type,[h,U+e.directiveStart,F+e.directiveStart])}else(i===null||!i.has(C))&&e.directiveToIndex.set(C.type,h);C.contentQueries!==null&&(e.flags|=4),(C.hostBindings!==null||C.hostAttrs!==null||C.hostVars!==0)&&(e.flags|=64);let O=C.type.prototype;!p&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),p=!0),!g&&(O.ngOnChanges||O.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),g=!0),h++}L1(n,e,i)}function L1(n,t,e){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=n.data[r];if(e===null||!e.has(o))Sh(0,t,o,r),Sh(1,t,o,r),Th(t,r,!1);else{let i=e.get(o);Ih(0,t,i,r),Ih(1,t,i,r),Th(t,r,!0)}}}function Sh(n,t,e,r){let o=n===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a;n===0?a=t.inputs??={}:a=t.outputs??={},a[i]??=[],a[i].push(r),eb(t,i)}}function Ih(n,t,e,r){let o=n===0?e.inputs:e.outputs;for(let i in o)if(o.hasOwnProperty(i)){let a=o[i],d;n===0?d=t.hostDirectiveInputs??={}:d=t.hostDirectiveOutputs??={},d[a]??=[],d[a].push(r,i),eb(t,a)}}function eb(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function Th(n,t,e){let{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(r===null||!e&&o===null||e&&i===null||Ff(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let a=null,d=0;for(;d<r.length;){let u=r[d];if(u===0){d+=4;continue}else if(u===5){d+=2;continue}else if(typeof u=="number")break;if(!e&&o.hasOwnProperty(u)){let p=o[u];for(let g of p)if(g===t){a??=[],a.push(u,r[d+1]);break}}else if(e&&i.hasOwnProperty(u)){let p=i[u];for(let g=0;g<p.length;g+=2)if(p[g]===t){a??=[],a.push(p[g+1],r[d+1]);break}}d+=2}n.initialInputs??=[],n.initialInputs.push(a)}function V1(n,t,e,r,o){n.data[r]=o;let i=o.factory||(o.factory=ir(o.type,!0)),a=new qr(i,yn(o),S,null);n.blueprint[r]=a,e[r]=a,j1(n,t,r,P0(n,e,o.hostVars,Ot),o)}function j1(n,t,e,r,o){let i=o.hostBindings;if(i){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let d=~t.index;U1(a)!=d&&a.push(d),a.push(e,r,i)}}function U1(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function B1(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;yn(t)&&(e[""]=n)}}function H1(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function ep(n,t,e,r,o,i,a,d){let u=t[$],p=u.consts,g=Wr(p,a),h=Vc(u,n,e,r,g);return i&&X0(u,t,h,Wr(p,d),o),h.mergedAttrs=Vo(h.mergedAttrs,h.attrs),h.attrs!==null&&Cc(h,h.attrs,!1),h.mergedAttrs!==null&&Cc(h,h.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,h),h}function tp(n,t){Yh(n,t),_u(t)&&n.queries.elementEnd(t)}function z1(n,t,e,r,o,i){let a=t.consts,d=Wr(a,o),u=Vc(t,n,e,r,d);if(u.mergedAttrs=Vo(u.mergedAttrs,u.attrs),i!=null){let p=Wr(a,i);u.localNames=[];for(let g=0;g<p.length;g+=2)u.localNames.push(p[g],-1)}return u.attrs!==null&&Cc(u,u.attrs,!1),u.mergedAttrs!==null&&Cc(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function np(n){return nb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function tb(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function nb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ta(n,t,e){return n[t]=e}function $1(n,t){return n[t]}function En(n,t,e){if(e===Ot)return!1;let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function qi(n,t,e,r){let o=En(n,t,e);return En(n,t+1,r)||o}function W1(n,t,e,r,o){let i=qi(n,t,e,r);return En(n,t+2,o)||i}function G1(n,t,e,r,o,i){let a=qi(n,t,e,r);return qi(n,t+2,o,i)||a}function qu(n,t,e){return function r(o){let i=ur(n)?Wt(n.index,t):t;Jf(i,5);let a=t[at],d=Ah(t,a,e,o),u=r.__ngNextListenerFn__;for(;u;)d=Ah(t,a,u,o)&&d,u=u.__ngNextListenerFn__;return d}}function Ah(n,t,e,r){let o=ee(null);try{return pe(6,t,e),e(r)!==!1}catch(i){return l1(n,i),!1}finally{pe(7,t,e),ee(o)}}function q1(n,t,e,r,o,i,a,d){let u=So(n),p=!1,g=null;if(!r&&u&&(g=Z1(t,e,i,n.index)),g!==null){let h=g.__ngLastListenerFn__||g;h.__ngNextListenerFn__=a,g.__ngLastListenerFn__=a,p=!0}else{let h=nn(n,e),M=r?r(h):h;KC(e,M,i,d);let C=o.listen(M,i,d);if(!Y1(i)){let O=r?U=>r($t(U[n.index])):n.index;rb(O,t,e,i,d,C,!1)}}return p}function Y1(n){return n.startsWith("animation")||n.startsWith("transition")}function Z1(n,t,e,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let a=o[i];if(a===e&&o[i+1]===r){let d=t[ko],u=o[i+2];return d&&d.length>u?d[u]:null}typeof a=="string"&&(i+=2)}return null}function rb(n,t,e,r,o,i,a){let d=t.firstCreatePass?Ou(t):null,u=Eu(e),p=u.length;u.push(o,i),d&&d.push(r,n,p,(p+1)*(a?-1:1))}function Nh(n,t,e,r,o,i){let a=t[e],d=t[$],p=d.data[e].outputs[r],h=a[p].subscribe(i);rb(n.index,d,t,o,i,h,!0)}var hf=Symbol("BINDING");var xc=class extends ea{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=zn(t);return new Zr(e,this.ngModule)}};function Q1(n){return Object.keys(n).map(t=>{let[e,r,o]=n[t],i={propName:e,templateName:t,isSignal:(r&Tc.SignalBased)!==0};return o&&(i.transform=o),i})}function K1(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function J1(n,t,e){let r=t instanceof Ne?t:t?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new mf(e,r):e}function X1(n){let t=n.get(Yr,null);if(t===null)throw new D(407,!1);let e=n.get(J0,null),r=n.get(jn,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:r,ngReflect:!1}}function eM(n,t){let e=ob(n);return M0(t,e,e==="svg"?vu:e==="math"?Um:null)}function ob(n){return(n.selectors[0][0]||"div").toLowerCase()}var Zr=class extends jc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Q1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=K1(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=mx(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,r,o,i,a){pe(22);let d=ee(null);try{let u=this.componentDef,p=tM(r,u,a,i),g=J1(u,o||this.ngModule,t),h=X1(g),M=h.rendererFactory.createRenderer(null,u),C=r?Kx(M,r,u.encapsulation,g):eM(u,M),O=a?.some(Rh)||i?.some(L=>typeof L!="function"&&L.bindings.some(Rh)),U=Vf(null,p,null,512|O0(u),null,null,h,M,g,null,g0(C,g,!0));U[Ue]=C,Ks(U);let F=null;try{let L=ep(Ue,U,2,"#host",()=>p.directiveRegistry,!0,0);E0(M,C,L),jo(C,U),Rc(p,U,L),Af(p,L,U),tp(p,L),e!==void 0&&rM(L,this.ngContentSelectors,e),F=Wt(L.index,U),U[at]=F[at],Kf(p,U,null)}catch(L){throw F!==null&&of(F),of(U),L}finally{pe(23),Js()}return new Mc(this.componentType,U,!!O)}finally{ee(d)}}};function tM(n,t,e,r){let o=n?["ng-version","20.3.12"]:hx(t.selectors[0]),i=null,a=null,d=0;if(e)for(let g of e)d+=g[hf].requiredVars,g.create&&(g.targetIdx=0,(i??=[]).push(g)),g.update&&(g.targetIdx=0,(a??=[]).push(g));if(r)for(let g=0;g<r.length;g++){let h=r[g];if(typeof h!="function")for(let M of h.bindings){d+=M[hf].requiredVars;let C=g+1;M.create&&(M.targetIdx=C,(i??=[]).push(M)),M.update&&(M.targetIdx=C,(a??=[]).push(M))}}let u=[t];if(r)for(let g of r){let h=typeof g=="function"?g:g.type,M=fu(h);u.push(M)}return Lf(0,null,nM(i,a),1,d,u,null,null,null,[o],null)}function nM(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let r of n)r.create();if(e&2&&t)for(let r of t)r.update()}}function Rh(n){let t=n[hf].kind;return t==="input"||t==="twoWay"}var Mc=class extends K0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,r){super(),this._rootLView=e,this._hasInputBindings=r,this._tNode=$s(e[$],Ue),this.location=zo(this._tNode,e),this.instance=Wt(this._tNode.index,e)[at],this.hostView=this.changeDetectorRef=new gr(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView,i=Qf(r,o[$],o,t,e);this.previousInputValues.set(t,e);let a=Wt(r.index,o);Jf(a,1)}get injector(){return new Gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function rM(n,t,e){let r=n.projection=[];for(let o=0;o<t.length;o++){let i=e[o];r.push(i!=null&&i.length?Array.from(i):null)}}var on=(()=>{class n{static __NG_ELEMENT_ID__=oM}return n})();function oM(){let n=He();return ab(n,K())}var iM=on,ib=class extends iM{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return zo(this._hostTNode,this._hostLView)}get injector(){return new Gr(this._hostTNode,this._hostLView)}get parentInjector(){let t=kf(this._hostTNode,this._hostLView);if(Kh(t)){let e=fc(t,this._hostLView),r=uc(t),o=e[$].data[r+8];return new Gr(o,e)}else return new Gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Fh(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let a=Dh(this._lContainer,t.ssrId),d=t.createEmbeddedViewImpl(e||{},i,a);return this.insertImpl(d,o,kh(this._hostTNode,a)),d}createComponent(t,e,r,o,i,a,d){let u=t&&!xC(t),p;if(u)p=e;else{let F=e||{};p=F.index,r=F.injector,o=F.projectableNodes,i=F.environmentInjector||F.ngModuleRef,a=F.directives,d=F.bindings}let g=u?t:new Zr(zn(t)),h=r||this.parentInjector;if(!i&&g.ngModule==null){let L=(u?h:this.parentInjector).get(Ne,null);L&&(i=L)}let M=zn(g.componentType??{}),C=Dh(this._lContainer,M?.id??null),O=C?.firstChild??null,U=g.create(h,o,O,i,a,d);return this.insertImpl(U.hostView,p,kh(this._hostTNode,C)),U}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let o=t._lView;if(Hm(o)){let d=this.indexOf(t);if(d!==-1)this.detach(d);else{let u=o[Ge],p=new ib(u,u[Ht],u[Ge]);p.detach(p.indexOf(t))}}let i=this._adjustIndex(e),a=this._lContainer;return O1(a,o,i,r),t.attachToViewContainerRef(),cu(Yu(a),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Fh(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=pf(this._lContainer,e);r&&(ki(Yu(this._lContainer),e),F0(r[$],r))}detach(t){let e=this._adjustIndex(t,-1),r=pf(this._lContainer,e);return r&&ki(Yu(this._lContainer),e)!=null?new gr(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function Fh(n){return n[Fi]}function Yu(n){return n[Fi]||(n[Fi]=[])}function ab(n,t){let e,r=t[n.index];return tn(r)?e=r:(e=Z0(r,t,null,n),t[n.index]=e,jf(t,e)),sM(e,t,n,r),new ib(e,n,t)}function aM(n,t){let e=n[Ce],r=e.createComment(""),o=nn(t,n),i=e.parentNode(o);return bc(e,i,r,e.nextSibling(o),!1),r}var sM=dM,cM=()=>!1;function lM(n,t,e){return cM(n,t,e)}function dM(n,t,e,r){if(n[dr])return;let o;e.type&8?o=$t(r):o=aM(t,e),n[dr]=o}var bf=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},_f=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){let a=e.getByIndex(i),d=this.queries[a.indexInDeclarationView];o.push(d.clone())}return new n(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)rp(t,e).matches!==null&&this.queries[e].setDirty()}},vf=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=_M(t):this.predicate=t}},yf=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let o=e!==null?e.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,e!==null?e.push(i):e=[i])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Cf=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,e,uM(e,i)),this.matchTNodeWithReadOption(t,e,cc(e,t,i,!1,!1))}else r===wn?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,cc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===st||o===on||o===wn&&e.type&4)this.addMatch(e.index,-2);else{let i=cc(e,t,o,!1,!1);i!==null&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function uM(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function fM(n,t){return n.type&11?zo(n,t):n.type&4?Lc(n,t):null}function pM(n,t,e,r){return e===-1?fM(t,n):e===-2?gM(n,t,r):Wi(n,n[$],e,t)}function gM(n,t,e){if(e===st)return zo(t,n);if(e===wn)return Lc(t,n);if(e===on)return ab(t,n)}function sb(n,t,e,r){let o=t[_n].queries[r];if(o.matches===null){let i=n.data,a=e.matches,d=[];for(let u=0;a!==null&&u<a.length;u+=2){let p=a[u];if(p<0)d.push(null);else{let g=i[p];d.push(pM(t,g,a[u+1],e.metadata.read))}}o.matches=d}return o.matches}function xf(n,t,e,r){let o=n.queries.getByIndex(e),i=o.matches;if(i!==null){let a=sb(n,t,o,e);for(let d=0;d<i.length;d+=2){let u=i[d];if(u>0)r.push(a[d/2]);else{let p=i[d+1],g=t[-u];for(let h=ht;h<g.length;h++){let M=g[h];M[lr]===M[Ge]&&xf(M[$],M,p,r)}if(g[zr]!==null){let h=g[zr];for(let M=0;M<h.length;M++){let C=h[M];xf(C[$],C,p,r)}}}}}return r}function mM(n,t){return n[_n].queries[t].queryList}function hM(n,t,e){let r=new mc((e&4)===4);return Wm(n,t,r,r.destroy),(t[_n]??=new _f).queries.push(new bf(r))-1}function bM(n,t,e,r){let o=Ye();if(o.firstCreatePass){let i=He();vM(o,new vf(t,e,r),i.index),yM(o,n),(e&2)===2&&(o.staticContentQueries=!0)}return hM(o,K(),e)}function _M(n){return n.split(",").map(t=>t.trim())}function vM(n,t,e){n.queries===null&&(n.queries=new yf),n.queries.track(new Cf(t,e))}function yM(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function rp(n,t){return n.queries.getByIndex(t)}function CM(n,t){let e=n[$],r=rp(e,t);return r.crossesNgTemplate?xf(e,n,t,[]):sb(e,n,r,t)}var Qr=class{},Uc=class{};var wc=class extends Qr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new xc(this);constructor(t,e,r,o=!0){super(),this.ngModuleType=t,this._parent=e;let i=uu(t);this._bootstrapComponents=C0(i.bootstrap),this._r3Injector=Lu(t,e,[{provide:Qr,useValue:this},{provide:ea,useValue:this.componentFactoryResolver},...r],Vn(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Ec=class extends Uc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new wc(this.moduleType,t,[])}};var Yi=class extends Qr{injector;componentFactoryResolver=new xc(this);instance=null;constructor(t){super();let e=new Lr([...t.providers,{provide:Qr,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],t.parent||Ii(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function $o(n,t,e=null){return new Yi({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var xM=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=pu(!1,e.type),o=r.length>0?$o([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:n,providedIn:"environment",factory:()=>new n(j(Ne))})}return n})();function te(n){return Qi(()=>{let t=cb(n),e=X(P({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Df.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(xM).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Wn.Emulated,styles:n.styles||mt,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&eo("NgStandalone"),lb(e);let r=n.dependencies;return e.directiveDefs=Lh(r,MM),e.pipeDefs=Lh(r,Tm),e.id=OM(e),e})}function MM(n){return zn(n)||fu(n)}function an(n){return Qi(()=>({type:n.type,bootstrap:n.bootstrap||mt,declarations:n.declarations||mt,imports:n.imports||mt,exports:n.exports||mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wM(n,t){if(n==null)return sr;let e={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,a,d,u;Array.isArray(o)?(d=o[0],i=o[1],a=o[2]??i,u=o[3]||null):(i=o,a=o,d=Tc.None,u=null),e[i]=[r,d,u],t[i]=a}return e}function EM(n){if(n==null)return sr;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function ge(n){return Qi(()=>{let t=cb(n);return lb(t),t})}function Wo(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function cb(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||sr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:wM(n.inputs,t),outputs:EM(n.outputs),debugInfo:null}}function lb(n){n.features?.forEach(t=>t(n))}function Lh(n,t){return n?()=>{let e=typeof n=="function"?n():n,r=[];for(let o of e){let i=t(o);i!==null&&r.push(i)}return r}:null}function OM(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function PM(n){return Object.getPrototypeOf(n.prototype).constructor}function Rt(n){let t=PM(n.type),e=!0,r=[n];for(;t;){let o;if(yn(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new D(903,!1);o=t.\u0275dir}if(o){if(e){r.push(o);let a=n;a.inputs=Zu(n.inputs),a.declaredInputs=Zu(n.declaredInputs),a.outputs=Zu(n.outputs);let d=o.hostBindings;d&&TM(n,d);let u=o.viewQuery,p=o.contentQueries;if(u&&SM(n,u),p&&IM(n,p),kM(n,o),wm(n.outputs,o.outputs),yn(o)&&o.data.animation){let g=n.data;g.animation=(g.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let a=0;a<i.length;a++){let d=i[a];d&&d.ngInherit&&d(n),d===Rt&&(e=!1)}}t=Object.getPrototypeOf(t)}DM(r)}function kM(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e])}}function DM(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Vo(o.hostAttrs,e=Vo(e,o.hostAttrs))}}function Zu(n){return n===sr?{}:n===mt?[]:n}function SM(n,t){let e=n.viewQuery;e?n.viewQuery=(r,o)=>{t(r,o),e(r,o)}:n.viewQuery=t}function IM(n,t){let e=n.contentQueries;e?n.contentQueries=(r,o,i)=>{t(r,o,i),e(r,o,i)}:n.contentQueries=t}function TM(n,t){let e=n.hostBindings;e?n.hostBindings=(r,o)=>{t(r,o),e(r,o)}:n.hostBindings=t}function AM(n,t,e,r,o,i,a,d){if(e.firstCreatePass){n.mergedAttrs=Vo(n.mergedAttrs,n.attrs);let g=n.tView=Lf(2,n,o,i,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),g.queries=e.queries.embeddedTView(n))}d&&(n.flags|=d),Ao(n,!1);let u=RM(e,t,n,r);ec()&&Wf(e,t,u,n),jo(u,t);let p=Z0(u,t,u,n);t[r+Ue]=p,jf(t,p),lM(p,n,t)}function NM(n,t,e,r,o,i,a,d,u,p,g){let h=e+Ue,M;return t.firstCreatePass?(M=Vc(t,h,4,a||null,d||null),qs()&&X0(t,n,M,Wr(t.consts,p),qf),Yh(t,M)):M=t.data[h],AM(M,n,t,e,r,o,i,u),So(M)&&Rc(t,n,M),p!=null&&Fc(n,M,g),M}function E(n,t,e,r,o,i,a,d){let u=K(),p=Ye(),g=Wr(p.consts,i);return NM(u,p,n,t,e,r,o,g,void 0,a,d),E}var RM=FM;function FM(n,t,e,r){return Ui(!0),t[Ce].createComment("")}var op=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var ip=new R("");function hr(n){return!!n&&typeof n.then=="function"}function ap(n){return!!n&&typeof n.subscribe=="function"}var na=new R("");function Bc(n){return hn([{provide:na,multi:!0,useValue:n}])}var sp=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=x(na,{optional:!0})??[];injector=x(Et);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let i=qe(this.injector,o);if(hr(i))e.push(i);else if(ap(i)){let a=new Promise((d,u)=>{i.subscribe({complete:d,error:u})});e.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ra=new R("");function db(){Ed(()=>{let n="";throw new D(600,n)})}function ub(n){return n.isBoundToModule}var LM=10;var Gn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(bt);afterRenderManager=x(zf);zonelessEnabled=x(Bi);rootEffectScheduler=x(zu);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new we;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(Cn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Y(e=>!e))}constructor(){x(Xr,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=x(Ne);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,o=Et.NULL){return this._injector.get(Pe).run(()=>{pe(10);let a=e instanceof jc;if(!this._injector.get(sp).done){let O="";throw new D(405,O)}let u;a?u=e:u=this._injector.get(ea).resolveComponentFactory(e),this.componentTypes.push(u.componentType);let p=ub(u)?void 0:this._injector.get(Qr),g=r||u.selector,h=u.create(o,[],g,p),M=h.location.nativeElement,C=h.injector.get(ip,null);return C?.registerApplication(M),h.onDestroy(()=>{this.detachView(h.hostView),$i(this.components,h),C?.unregisterApplication(M)}),this._loadComponent(h),pe(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){pe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ac.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let e=ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(e),this.afterTick.next(),pe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Yr,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<LM;)pe(14),this.synchronizeOnce(),pe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Vi(o))continue;let i=r&&!this.zonelessEnabled?0:1;W0(o,i),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Vi(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;$i(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(e),this._injector.get(ra,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>$i(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new D(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $i(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function kn(n,t,e,r){let o=K(),i=ji();if(En(o,i,t)){let a=Ye(),d=Xs();a1(d,o,n,t,e,r)}return kn}var v3=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function b(n,t,e){let r=K(),o=ji();if(En(r,o,t)){let i=Ye(),a=Xs();j0(a,r,n,t,r[Ce],e)}return b}function Mf(n,t,e,r,o){Qf(t,n,e,o?"class":"style",r)}function s(n,t,e,r){let o=K(),i=o[$],a=n+Ue,d=i.firstCreatePass?ep(a,o,2,t,qf,qs(),e,r):i.data[a];if(Yf(d,o,n,t,fb),So(d)){let u=o[$];Rc(u,o,d),Af(u,d,o)}return r!=null&&Fc(o,d),s}function c(){let n=Ye(),t=He(),e=Zf(t);return n.firstCreatePass&&tp(n,e),ku(e)&&Du(),Pu(),e.classesWithoutHost!=null&&kC(e)&&Mf(n,e,K(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DC(e)&&Mf(n,e,K(),e.stylesWithoutHost,!1),c}function H(n,t,e,r){return s(n,t,e,r),c(),H}function z(n,t,e,r){let o=K(),i=o[$],a=n+Ue,d=i.firstCreatePass?z1(a,i,2,t,e,r):i.data[a];return Yf(d,o,n,t,fb),r!=null&&Fc(o,d),z}function G(){let n=He(),t=Zf(n);return ku(t)&&Du(),Pu(),G}function Pt(n,t,e,r){return z(n,t,e,r),G(),Pt}var fb=(n,t,e,r,o)=>(Ui(!0),M0(t[Ce],r,ch()));function ct(n,t,e){let r=K(),o=r[$],i=n+Ue,a=o.firstCreatePass?ep(i,r,8,"ng-container",qf,qs(),t,e):o.data[i];if(Yf(a,r,n,"ng-container",VM),So(a)){let d=r[$];Rc(d,r,a),Af(d,a,r)}return e!=null&&Fc(r,a),ct}function lt(){let n=Ye(),t=He(),e=Zf(t);return n.firstCreatePass&&tp(n,e),lt}var VM=(n,t,e,r,o)=>(Ui(!0),vx(t[Ce],""));function V(){return K()}var oc=void 0;function jM(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var UM=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oc,"{1} 'at' {0}",oc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jM],Qu={};function kt(n){let t=BM(n),e=Vh(t);if(e)return e;let r=t.split("-")[0];if(e=Vh(r),e)return e;if(r==="en")return UM;throw new D(701,!1)}function Vh(n){return n in Qu||(Qu[n]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[n]),Qu[n]}var ke=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(ke||{});function BM(n){return n.toLowerCase().replace(/_/g,"-")}var oa="en-US";var HM=oa;function pb(n){typeof n=="string"&&(HM=n.toLowerCase().replace(/_/g,"-"))}function _(n,t,e){let r=K(),o=Ye(),i=He();return gb(o,r,r[Ce],i,n,t,e),_}function gb(n,t,e,r,o,i,a){let d=!0,u=null;if((r.type&3||a)&&(u??=qu(r,t,i),q1(r,n,t,a,e,o,i,u)&&(d=!1)),d){let p=r.outputs?.[o],g=r.hostDirectiveOutputs?.[o];if(g&&g.length)for(let h=0;h<g.length;h+=2){let M=g[h],C=g[h+1];u??=qu(r,t,i),Nh(r,t,M,C,o,u)}if(p&&p.length)for(let h of p)u??=qu(r,t,i),Nh(r,t,h,o,o,u)}}function m(n=1){return sh(n)}function cp(n,t,e,r){bM(n,t,e,r)}function lp(n){let t=K(),e=Ye(),r=Nu();Qs(r+1);let o=rp(e,r);if(n.dirty&&Bm(t)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let i=CM(t,r);n.reset(i,HC),n.notifyOnChanges()}return!0}return!1}function dp(){return mM(K(),Nu())}function ia(n){let t=Km();return Li(t,Ue+n)}function ic(n,t){return n<<17|t<<2}function Kr(n){return n>>17&32767}function zM(n){return(n&2)==2}function $M(n,t){return n&131071|t<<17}function wf(n){return n|2}function Bo(n){return(n&131068)>>2}function Ku(n,t){return n&-131069|t<<2}function WM(n){return(n&1)===1}function Ef(n){return n|1}function GM(n,t,e,r,o,i){let a=i?t.classBindings:t.styleBindings,d=Kr(a),u=Bo(a);n[r]=e;let p=!1,g;if(Array.isArray(e)){let h=e;g=h[1],(g===null||Po(h,g)>0)&&(p=!0)}else g=e;if(o)if(u!==0){let M=Kr(n[d+1]);n[r+1]=ic(M,d),M!==0&&(n[M+1]=Ku(n[M+1],r)),n[d+1]=$M(n[d+1],r)}else n[r+1]=ic(d,0),d!==0&&(n[d+1]=Ku(n[d+1],r)),d=r;else n[r+1]=ic(u,0),d===0?d=r:n[u+1]=Ku(n[u+1],r),u=r;p&&(n[r+1]=wf(n[r+1])),jh(n,g,r,!0),jh(n,g,r,!1),qM(t,g,n,r,i),a=ic(d,u),i?t.classBindings=a:t.styleBindings=a}function qM(n,t,e,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof t=="string"&&Po(i,t)>=0&&(e[r+1]=Ef(e[r+1]))}function jh(n,t,e,r){let o=n[e+1],i=t===null,a=r?Kr(o):Bo(o),d=!1;for(;a!==0&&(d===!1||i);){let u=n[a],p=n[a+1];YM(u,t)&&(d=!0,n[a+1]=r?Ef(p):wf(p)),a=r?Kr(p):Bo(p)}d&&(n[e+1]=r?wf(o):Ef(o))}function YM(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Po(n,t)>=0:!1}var ze={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mb(n){return n.substring(ze.key,ze.keyEnd)}function ZM(n){return n.substring(ze.value,ze.valueEnd)}function QM(n){return _b(n),hb(n,Ho(n,0,ze.textEnd))}function hb(n,t){let e=ze.textEnd;return e===t?-1:(t=ze.keyEnd=JM(n,ze.key=t,e),Ho(n,t,e))}function KM(n){return _b(n),bb(n,Ho(n,0,ze.textEnd))}function bb(n,t){let e=ze.textEnd,r=ze.key=Ho(n,t,e);return e===r?-1:(r=ze.keyEnd=XM(n,r,e),r=Uh(n,r,e,58),r=ze.value=Ho(n,r,e),r=ze.valueEnd=ew(n,r,e),Uh(n,r,e,59))}function _b(n){ze.key=0,ze.keyEnd=0,ze.value=0,ze.valueEnd=0,ze.textEnd=n.length}function Ho(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function JM(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function XM(n,t,e){let r;for(;t<e&&((r=n.charCodeAt(t))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)t++;return t}function Uh(n,t,e,r){return t=Ho(n,t,e),t<e&&t++,t}function ew(n,t,e){let r=-1,o=-1,i=-1,a=t,d=a;for(;a<e;){let u=n.charCodeAt(a++);if(u===59)return d;u===34||u===39?d=a=Bh(n,u,a,e):t===a-4&&i===85&&o===82&&r===76&&u===40?d=a=Bh(n,41,a,e):u>32&&(d=a),i=o,o=r,r=u&-33}return d}function Bh(n,t,e,r){let o=-1,i=e;for(;i<r;){let a=n.charCodeAt(i++);if(a==t&&o!==92)return i;a==92&&o===92?o=0:o=a}throw new Error}function Dn(n,t,e){return vb(n,t,e,!1),Dn}function W(n,t){return vb(n,t,null,!0),W}function aa(n){yb(Mb,tw,n,!1)}function tw(n,t){for(let e=KM(t);e>=0;e=bb(t,e))Mb(n,mb(t),ZM(t))}function up(n){yb(cw,nw,n,!0)}function nw(n,t){for(let e=QM(t);e>=0;e=hb(t,e))Di(n,mb(t),!0)}function vb(n,t,e,r){let o=K(),i=Ye(),a=Ys(2);if(i.firstUpdatePass&&xb(i,n,a,r),t!==Ot&&En(o,a,t)){let d=i.data[$n()];wb(i,d,o,o[Ce],n,o[a+1]=dw(t,e),r,a)}}function yb(n,t,e,r){let o=Ye(),i=Ys(2);o.firstUpdatePass&&xb(o,null,i,r);let a=K();if(e!==Ot&&En(a,i,e)){let d=o.data[$n()];if(Eb(d,r)&&!Cb(o,i)){let u=r?d.classesWithoutHost:d.stylesWithoutHost;u!==null&&(e=Vs(u,e||"")),Mf(o,d,a,e,r)}else lw(o,d,a,a[Ce],a[i+1],a[i+1]=sw(n,t,e),r,i)}}function Cb(n,t){return t>=n.expandoStartIndex}function xb(n,t,e,r){let o=n.data;if(o[e+1]===null){let i=o[$n()],a=Cb(n,e);Eb(i,r)&&t===null&&!a&&(t=!1),t=rw(o,i,t,r),GM(o,i,t,e,a,r)}}function rw(n,t,e,r){let o=rh(n),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(e=Ju(null,n,t,e,r),e=Zi(e,t.attrs,r),i=null);else{let a=t.directiveStylingLast;if(a===-1||n[a]!==o)if(e=Ju(o,n,t,e,r),i===null){let u=ow(n,t,r);u!==void 0&&Array.isArray(u)&&(u=Ju(null,n,t,u[1],r),u=Zi(u,t.attrs,r),iw(n,t,r,u))}else i=aw(n,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),e}function ow(n,t,e){let r=e?t.classBindings:t.styleBindings;if(Bo(r)!==0)return n[Kr(r)]}function iw(n,t,e,r){let o=e?t.classBindings:t.styleBindings;n[Kr(o)]=r}function aw(n,t,e){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let a=n[i].hostAttrs;r=Zi(r,a,e)}return Zi(r,t.attrs,e)}function Ju(n,t,e,r,o){let i=null,a=e.directiveEnd,d=e.directiveStylingLast;for(d===-1?d=e.directiveStart:d++;d<a&&(i=t[d],r=Zi(r,i.hostAttrs,o),i!==n);)d++;return n!==null&&(e.directiveStylingLast=d),r}function Zi(n,t,e){let r=e?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let a=t[i];typeof a=="number"?o=a:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Di(n,a,e?!0:t[++i]))}return n===void 0?null:n}function sw(n,t,e){if(e==null||e==="")return mt;let r=[],o=Jr(e);if(Array.isArray(o))for(let i=0;i<o.length;i++)n(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&n(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function Mb(n,t,e){Di(n,t,Jr(e))}function cw(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&Di(n,r,e)}function lw(n,t,e,r,o,i,a,d){o===Ot&&(o=mt);let u=0,p=0,g=0<o.length?o[0]:null,h=0<i.length?i[0]:null;for(;g!==null||h!==null;){let M=u<o.length?o[u+1]:void 0,C=p<i.length?i[p+1]:void 0,O=null,U;g===h?(u+=2,p+=2,M!==C&&(O=h,U=C)):h===null||g!==null&&g<h?(u+=2,O=g):(p+=2,O=h,U=C),O!==null&&wb(n,t,e,r,O,U,a,d),g=u<o.length?o[u]:null,h=p<i.length?i[p]:null}}function wb(n,t,e,r,o,i,a,d){if(!(t.type&3))return;let u=n.data,p=u[d+1],g=WM(p)?Hh(u,t,e,o,Bo(p),a):void 0;if(!Oc(g)){Oc(i)||zM(p)&&(i=Hh(u,null,e,o,d,a));let h=yu($n(),e);Qx(r,a,h,o,i)}}function Hh(n,t,e,r,o,i){let a=t===null,d;for(;o>0;){let u=n[o],p=Array.isArray(u),g=p?u[1]:u,h=g===null,M=e[o+1];M===Ot&&(M=h?mt:void 0);let C=h?Hs(M,r):g===r?M:void 0;if(p&&!Oc(C)&&(C=Hs(u,r)),Oc(C)&&(d=C,a))return d;let O=n[o+1];o=a?Kr(O):Bo(O)}if(t!==null){let u=i?t.residualClasses:t.residualStyles;u!=null&&(d=Hs(u,r))}return d}function Oc(n){return n!==void 0}function dw(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Vn(Jr(n)))),n}function Eb(n,t){return(n.flags&(t?8:16))!==0}function l(n,t=""){let e=K(),r=Ye(),o=n+Ue,i=r.firstCreatePass?Vc(r,o,1,t,null):r.data[o],a=uw(r,e,i,t,n);e[o]=a,ec()&&Wf(r,e,a,i),Ao(i,!1)}var uw=(n,t,e,r,o)=>(Ui(!0),bx(t[Ce],r));function Ob(n,t,e,r=""){return En(n,ji(),e)?t+jr(e)+r:Ot}function fw(n,t,e,r,o,i=""){let a=Jm(),d=qi(n,a,e,o);return Ys(2),d?t+jr(e)+r+jr(o)+i:Ot}function w(n){return k("",n),w}function k(n,t,e){let r=K(),o=Ob(r,n,t,e);return o!==Ot&&Pb(r,$n(),o),k}function Ft(n,t,e,r,o){let i=K(),a=fw(i,n,t,e,r,o);return a!==Ot&&Pb(i,$n(),a),Ft}function Pb(n,t,e){let r=yu(t,n);_x(n[Ce],r,e)}function T(n,t,e){Uu(t)&&(t=t());let r=K(),o=ji();if(En(r,o,t)){let i=Ye(),a=Xs();j0(a,r,n,t,r[Ce],e)}return T}function N(n,t){let e=Uu(n);return e&&n.set(t),e}function A(n,t){let e=K(),r=Ye(),o=He();return gb(r,e,e[Ce],o,n,t),A}function to(n,t,e=""){return Ob(K(),n,t,e)}function pw(n,t,e){let r=Ye();if(r.firstCreatePass){let o=yn(n);Of(e,r.data,r.blueprint,o,!0),Of(t,r.data,r.blueprint,o,!1)}}function Of(n,t,e,r,o){if(n=et(n),Array.isArray(n))for(let i=0;i<n.length;i++)Of(n[i],t,e,r,o);else{let i=Ye(),a=K(),d=He(),u=Fr(n)?n:et(n.provide),p=mu(n),g=d.providerIndexes&1048575,h=d.directiveStart,M=d.providerIndexes>>20;if(Fr(n)||!n.multi){let C=new qr(p,o,S,null),O=ef(u,t,o?g:g+M,h);O===-1?(nf(gc(d,a),i,u),Xu(i,n,t.length),t.push(u),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),e.push(C),a.push(C)):(e[O]=C,a[O]=C)}else{let C=ef(u,t,g+M,h),O=ef(u,t,g,g+M),U=C>=0&&e[C],F=O>=0&&e[O];if(o&&!F||!o&&!U){nf(gc(d,a),i,u);let L=hw(o?mw:gw,e.length,o,r,p,n);!o&&F&&(e[O].providerFactory=L),Xu(i,n,t.length,0),t.push(u),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),e.push(L),a.push(L)}else{let L=kb(e[o?O:C],p,!o&&r);Xu(i,n,C>-1?C:O,L)}!o&&r&&F&&e[O].componentProviders++}}}function Xu(n,t,e,r){let o=Fr(t),i=Lm(t);if(o||i){let u=(i?et(t.useClass):t).prototype.ngOnDestroy;if(u){let p=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){let g=p.indexOf(e);g===-1?p.push(e,[r,u]):p[g+1].push(r,u)}else p.push(e,u)}}}function kb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ef(n,t,e,r){for(let o=e;o<r;o++)if(t[o]===n)return o;return-1}function gw(n,t,e,r,o){return Pf(this.multi,[])}function mw(n,t,e,r,o){let i=this.multi,a;if(this.providerFactory){let d=this.providerFactory.componentProviders,u=Wi(r,r[$],this.providerFactory.index,o);a=u.slice(0,d),Pf(i,a);for(let p=d;p<u.length;p++)a.push(u[p])}else a=[],Pf(i,a);return a}function Pf(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function hw(n,t,e,r,o,i){let a=new qr(n,e,S,null);return a.multi=[],a.index=t,a.componentProviders=0,kb(a,o,r&&!e),a}function qn(n,t=[]){return e=>{e.providersResolver=(r,o)=>pw(r,o?o(n):n,t)}}function fp(n,t,e){let r=fr()+n,o=K();return o[r]===Ot?ta(o,r,e?t.call(e):t()):$1(o,r)}function Go(n,t,e,r){return Db(K(),fr(),n,t,e,r)}function sa(n,t,e,r,o,i){return Sb(K(),fr(),n,t,e,r,o,i)}function pp(n,t,e,r,o,i,a){return _w(K(),fr(),n,t,e,r,o,i,a)}function Hc(n,t){let e=n[t];return e===Ot?void 0:e}function Db(n,t,e,r,o,i){let a=t+e;return En(n,a,o)?ta(n,a+1,i?r.call(i,o):r(o)):Hc(n,a+1)}function bw(n,t,e,r,o,i,a){let d=t+e;return qi(n,d,o,i)?ta(n,d+2,a?r.call(a,o,i):r(o,i)):Hc(n,d+2)}function Sb(n,t,e,r,o,i,a,d){let u=t+e;return W1(n,u,o,i,a)?ta(n,u+3,d?r.call(d,o,i,a):r(o,i,a)):Hc(n,u+3)}function _w(n,t,e,r,o,i,a,d,u){let p=t+e;return G1(n,p,o,i,a,d)?ta(n,p+4,u?r.call(u,o,i,a,d):r(o,i,a,d)):Hc(n,p+4)}function oe(n,t){let e=Ye(),r,o=n+Ue;e.firstCreatePass?(r=vw(t,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks??=[]).push(o,r.onDestroy)):r=e.data[o];let i=r.factory||(r.factory=ir(r.type,!0)),a,d=gt(S);try{let u=pc(!1),p=i();return pc(u),Cu(e,K(),o,p),p}finally{gt(d)}}function vw(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function ca(n,t,e){let r=n+Ue,o=K(),i=Li(o,r);return mp(o,r)?Db(o,fr(),t,i.transform,e,i):i.transform(e)}function ce(n,t,e,r){let o=n+Ue,i=K(),a=Li(i,o);return mp(i,o)?bw(i,fr(),t,a.transform,e,r,a):a.transform(e,r)}function gp(n,t,e,r,o){let i=n+Ue,a=K(),d=Li(a,i);return mp(a,i)?Sb(a,fr(),t,d.transform,e,r,o,d):d.transform(e,r,o)}function mp(n,t){return n[$].data[t].pure}function hp(n,t){return Lc(n,t)}var Pc=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},bp=(()=>{class n{compileModuleSync(e){return new Ec(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),o=uu(e),i=C0(o.declarations).reduce((a,d)=>{let u=zn(d);return u&&a.push(new Zr(u)),a},[]);return new Pc(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yw=(()=>{class n{zone=x(Pe);changeDetectionScheduler=x(jn);applicationRef=x(Gn);applicationErrorHandler=x(bt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ib=new R("",{factory:()=>!1});function _p({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Pe(X(P({},yp()),{scheduleInRootZone:e})),[{provide:Pe,useFactory:n},{provide:Hn,multi:!0,useFactory:()=>{let r=x(yw,{optional:!0});return()=>r.initialize()}},{provide:Hn,multi:!0,useFactory:()=>{let r=x(Cw);return()=>{r.initialize()}}},t===!0?{provide:Bu,useValue:!0}:[],{provide:Hu,useValue:e??D0},{provide:bt,useFactory:()=>{let r=x(Pe),o=x(Ne),i;return a=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw a}):(i??=o.get(Xt),i.handleError(a))})}}}]}function vp(n){let t=n?.ignoreChangesOutsideZone,e=n?.scheduleInRootZone,r=_p({ngZoneFactory:()=>{let o=yp(n);return o.scheduleInRootZone=e,o.shouldCoalesceEventChangeDetection&&eo("NgZone_CoalesceEvent"),new Pe(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:e});return hn([{provide:Ib,useValue:!0},{provide:Bi,useValue:!1},r])}function yp(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Cw=(()=>{class n{subscription=new Le;initialized=!1;zone=x(Pe);pendingTasks=x(Cn);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Tb=(()=>{class n{applicationErrorHandler=x(bt);appRef=x(Gn);taskService=x(Cn);ngZone=x(Pe);zonelessEnabled=x(Bi);tracing=x(Xr,{optional:!0});disableScheduling=x(Bu,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_c):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Hu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vc||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?xh:S0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_c+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(e),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xw(){return typeof $localize<"u"&&$localize.locale||oa}var qo=new R("",{providedIn:"root",factory:()=>x(qo,{optional:!0,skipSelf:!0})||xw()});function Ze(n){return Cm(n)}function Yo(n,t){return ls(n,t?.equal)}var Ab=class{[ot];constructor(t){this[ot]=t}destroy(){this[ot].destroy()}};var jb=Symbol("InputSignalNode#UNSET"),Nw=X(P({},ds),{transformFn:void 0,applyValueToInputSignal(n,t){bo(n,t)}});function Ub(n,t){let e=Object.create(Nw);e.value=n,e.transformFn=t?.transform;function r(){if(go(e),e.value===jb){let o=null;throw new D(-950,o)}return e.value}return r[ot]=e,r}var $c=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Ki(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Rw=new R("");Rw.__NG_ELEMENT_ID__=n=>{let t=He();if(t===null)throw new D(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new D(204,!1)};function Nb(n,t){return Ub(n,t)}function Fw(n){return Ub(jb,n)}var Bb=(Nb.required=Fw,Nb);var Cp=new R(""),Lw=new R("");function la(n){return!n.moduleRef}function Vw(n){let t=la(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Pe);return e.run(()=>{la(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(bt),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:r})}),la(n)){let i=()=>t.destroy(),a=n.platformInjector.get(Cp);a.add(i),t.onDestroy(()=>{o.unsubscribe(),a.delete(i)})}else{let i=()=>n.moduleRef.destroy(),a=n.platformInjector.get(Cp);a.add(i),n.moduleRef.onDestroy(()=>{$i(n.allPlatformModules,n.moduleRef),o.unsubscribe(),a.delete(i)})}return Uw(r,e,()=>{let i=t.get(Cn),a=i.add(),d=t.get(sp);return d.runInitializers(),d.donePromise.then(()=>{let u=t.get(qo,oa);if(pb(u||oa),!t.get(Lw,!0))return la(n)?t.get(Gn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(la(n)){let g=t.get(Gn);return n.rootComponent!==void 0&&g.bootstrap(n.rootComponent),g}else return jw?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void i.remove(a))})})}var jw;function Uw(n,t,e){try{let r=e();return hr(r)?r.catch(o=>{throw t.runOutsideAngular(()=>n(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>n(r)),r}}var zc=null;function Bw(n=[],t){return Et.create({name:t,providers:[{provide:Si,useValue:"platform"},{provide:Cp,useValue:new Set([()=>zc=null])},...n]})}function Hw(n=[]){if(zc)return zc;let t=Bw(n);return zc=t,db(),zw(t),t}function zw(n){let t=n.get(Dc,null);qe(n,()=>{t?.forEach(e=>e())})}var Yn=(()=>{class n{static __NG_ELEMENT_ID__=$w}return n})();function $w(n){return Ww(He(),K(),(n&16)===16)}function Ww(n,t,e){if(ur(n)&&!e){let r=Wt(n.index,t);return new gr(r,r)}else if(n.type&175){let r=t[zt];return new gr(r,t)}return null}var xp=class{constructor(){}supports(t){return np(t)}create(t){return new Mp(t)}},Gw=(n,t)=>t,Mp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||Gw}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){let a=!r||e&&e.currentIndex<Rb(r,o,i)?e:r,d=Rb(a,o,i),u=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(e=e._next,a.previousIndex==null)o++;else{i||(i=[]);let p=d-o,g=u-o;if(p!=g){for(let M=0;M<p;M++){let C=M<i.length?i[M]:i[M]=0,O=C+M;g<=O&&O<p&&(i[M]=C+1)}let h=a.previousIndex;i[h]=g-p}}d!==u&&t(a,d,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!np(t))throw new D(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,o,i,a;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)i=t[d],a=this._trackByFn(d,i),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,i,a,d),r=!0):(r&&(e=this._verifyReinsertion(e,i,a,d)),Object.is(e.item,i)||this._addIdentityChange(e,i)),e=e._next}else o=0,tb(t,d=>{a=this._trackByFn(o,d),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,d,a,o),r=!0):(r&&(e=this._verifyReinsertion(e,d,a,o)),Object.is(e.item,d)||this._addIdentityChange(e,d)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,o)):t=this._addAfter(new wp(e,r),i,o)),t}_verifyReinsertion(t,e,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let o=e===null?this._itHead:e._next;return t._next=o,t._prev=e,o===null?this._itTail=t:o._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Wc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},wp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Ep=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},Wc=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new Ep,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,o=this.map.get(r);return o?o.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Rb(n,t,e){let r=n.previousIndex;if(r===null)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+t+o}function Fb(){return new Op([new xp])}var Op=(()=>{class n{factories;static \u0275prov=I({token:n,providedIn:"root",factory:Fb});constructor(e){this.factories=e}static create(e,r){if(r!=null){let o=r.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let r=x(n,{optional:!0,skipSelf:!0});return n.create(e,r||Fb())}}}find(e){let r=this.factories.find(o=>o.supports(e));if(r!=null)return r;throw new D(901,!1)}}return n})();function Hb(n){let{rootComponent:t,appProviders:e,platformProviders:r,platformRef:o}=n;pe(8);try{let i=o?.injector??Hw(r),a=[_p({}),{provide:jn,useExisting:Tb},dh,...e||[]],d=new Yi({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1});return Vw({r3Injector:d.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{pe(9)}}function br(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function zb(n){let t=zn(n);if(!t)return null;let e=new Zr(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Gb=null;function Yt(){return Gb}function Pp(n){Gb??=n}var da=class{},ua=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>x(qb),providedIn:"platform"})}return n})(),kp=new R(""),qb=(()=>{class n extends ua{_location;_history;_doc=x(Ee);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yt().getBaseHref(this._doc)}onPopState(e){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Gc(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function $b(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function sn(n){return n&&n[0]!=="?"?`?${n}`:n}var cn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>x(Yc),providedIn:"root"})}return n})(),qc=new R(""),Yc=(()=>{class n extends cn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Gc(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+sn(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){let a=this.prepareExternalUrl(o+sn(i));this._platformLocation.pushState(e,r,a)}replaceState(e,r,o,i){let a=this.prepareExternalUrl(o+sn(i));this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(j(ua),j(qc,8))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_r=(()=>{class n{_subject=new we;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=Zw($b(Wb(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+sn(r))}normalize(e){return n.stripTrailingSlash(Yw(this._basePath,Wb(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sn(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=sn;static joinWithSlash=Gc;static stripTrailingSlash=$b;static \u0275fac=function(r){return new(r||n)(j(cn))};static \u0275prov=I({token:n,factory:()=>qw(),providedIn:"root"})}return n})();function qw(){return new _r(j(cn))}function Yw(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Wb(n){return n.replace(/\/index.html$/,"")}function Zw(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Rp=(()=>{class n extends cn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Gc(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let a=this.prepareExternalUrl(o+sn(i))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,a)}replaceState(e,r,o,i){let a=this.prepareExternalUrl(o+sn(i))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(j(ua),j(qc,8))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();var Fp=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Fp||{});var dt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(dt||{}),he=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(he||{}),Dt=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Dt||{}),St={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Xb(n){return kt(n)[ke.LocaleId]}function e_(n,t,e){let r=kt(n),o=[r[ke.DayPeriodsFormat],r[ke.DayPeriodsStandalone]],i=Zt(o,t);return Zt(i,e)}function t_(n,t,e){let r=kt(n),o=[r[ke.DaysFormat],r[ke.DaysStandalone]],i=Zt(o,t);return Zt(i,e)}function n_(n,t,e){let r=kt(n),o=[r[ke.MonthsFormat],r[ke.MonthsStandalone]],i=Zt(o,t);return Zt(i,e)}function r_(n,t){let r=kt(n)[ke.Eras];return Zt(r,t)}function fa(n,t){let e=kt(n);return Zt(e[ke.DateFormat],t)}function pa(n,t){let e=kt(n);return Zt(e[ke.TimeFormat],t)}function ga(n,t){let r=kt(n)[ke.DateTimeFormat];return Zt(r,t)}function Sn(n,t){let e=kt(n),r=e[ke.NumberSymbols][t];if(typeof r>"u"){if(t===St.CurrencyDecimal)return e[ke.NumberSymbols][St.Decimal];if(t===St.CurrencyGroup)return e[ke.NumberSymbols][St.Group]}return r}function o_(n,t){return kt(n)[ke.NumberFormats][t]}function i_(n){if(!n[ke.ExtraData])throw new D(2303,!1)}function a_(n){let t=kt(n);return i_(t),(t[ke.ExtraData][2]||[]).map(r=>typeof r=="string"?Dp(r):[Dp(r[0]),Dp(r[1])])}function s_(n,t,e){let r=kt(n);i_(r);let o=[r[ke.ExtraData][0],r[ke.ExtraData][1]],i=Zt(o,t)||[];return Zt(i,e)||[]}function Zt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new D(2304,!1)}function Dp(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var Qw=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zc={},Kw=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function c_(n,t,e,r){let o=aE(n);t=Zn(e,t)||t;let a=[],d;for(;t;)if(d=Kw.exec(t),d){a=a.concat(d.slice(1));let g=a.pop();if(!g)break;t=g}else{a.push(t);break}let u=o.getTimezoneOffset();r&&(u=d_(r,u),o=iE(o,r));let p="";return a.forEach(g=>{let h=rE(g);p+=h?h(o,e,u):g==="''"?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function el(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Zn(n,t){let e=Xb(n);if(Zc[e]??={},Zc[e][t])return Zc[e][t];let r="";switch(t){case"shortDate":r=fa(n,Dt.Short);break;case"mediumDate":r=fa(n,Dt.Medium);break;case"longDate":r=fa(n,Dt.Long);break;case"fullDate":r=fa(n,Dt.Full);break;case"shortTime":r=pa(n,Dt.Short);break;case"mediumTime":r=pa(n,Dt.Medium);break;case"longTime":r=pa(n,Dt.Long);break;case"fullTime":r=pa(n,Dt.Full);break;case"short":let o=Zn(n,"shortTime"),i=Zn(n,"shortDate");r=Qc(ga(n,Dt.Short),[o,i]);break;case"medium":let a=Zn(n,"mediumTime"),d=Zn(n,"mediumDate");r=Qc(ga(n,Dt.Medium),[a,d]);break;case"long":let u=Zn(n,"longTime"),p=Zn(n,"longDate");r=Qc(ga(n,Dt.Long),[u,p]);break;case"full":let g=Zn(n,"fullTime"),h=Zn(n,"fullDate");r=Qc(ga(n,Dt.Full),[g,h]);break}return r&&(Zc[e][t]=r),r}function Qc(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function ln(n,t,e="-",r,o){let i="";(n<0||o&&n<=0)&&(o?n=-n+1:(n=-n,i=e));let a=String(n);for(;a.length<t;)a="0"+a;return r&&(a=a.slice(a.length-t)),i+a}function Jw(n,t){return ln(n,3).substring(0,t)}function Be(n,t,e=0,r=!1,o=!1){return function(i,a){let d=Xw(n,i);if((e>0||d>-e)&&(d+=e),n===3)d===0&&e===-12&&(d=12);else if(n===6)return Jw(d,t);let u=Sn(a,St.MinusSign);return ln(d,t,u,r,o)}}function Xw(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new D(2301,!1)}}function _e(n,t,e=dt.Format,r=!1){return function(o,i){return eE(o,i,n,t,e,r)}}function eE(n,t,e,r,o,i){switch(e){case 2:return n_(t,o,r)[n.getMonth()];case 1:return t_(t,o,r)[n.getDay()];case 0:let a=n.getHours(),d=n.getMinutes();if(i){let p=a_(t),g=s_(t,o,r),h=p.findIndex(M=>{if(Array.isArray(M)){let[C,O]=M,U=a>=C.hours&&d>=C.minutes,F=a<O.hours||a===O.hours&&d<O.minutes;if(C.hours<O.hours){if(U&&F)return!0}else if(U||F)return!0}else if(M.hours===a&&M.minutes===d)return!0;return!1});if(h!==-1)return g[h]}return e_(t,o,r)[a<12?0:1];case 3:return r_(t,r)[n.getFullYear()<=0?0:1];default:let u=e;throw new D(2302,!1)}}function Kc(n){return function(t,e,r){let o=-1*r,i=Sn(e,St.MinusSign),a=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case 0:return(o>=0?"+":"")+ln(a,2,i)+ln(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+ln(a,1,i);case 2:return"GMT"+(o>=0?"+":"")+ln(a,2,i)+":"+ln(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+ln(a,2,i)+":"+ln(Math.abs(o%60),2,i);default:throw new D(2310,!1)}}}var tE=0,Xc=4;function nE(n){let t=el(n,tE,1).getDay();return el(n,0,1+(t<=Xc?Xc:Xc+7)-t)}function l_(n){let t=n.getDay(),e=t===0?-3:Xc-t;return el(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Sp(n,t=!1){return function(e,r){let o;if(t){let i=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();o=1+Math.floor((a+i)/7)}else{let i=l_(e),a=nE(i.getFullYear()),d=i.getTime()-a.getTime();o=1+Math.round(d/6048e5)}return ln(o,n,Sn(r,St.MinusSign))}}function Jc(n,t=!1){return function(e,r){let i=l_(e).getFullYear();return ln(i,n,Sn(r,St.MinusSign),t)}}var Ip={};function rE(n){if(Ip[n])return Ip[n];let t;switch(n){case"G":case"GG":case"GGG":t=_e(3,he.Abbreviated);break;case"GGGG":t=_e(3,he.Wide);break;case"GGGGG":t=_e(3,he.Narrow);break;case"y":t=Be(0,1,0,!1,!0);break;case"yy":t=Be(0,2,0,!0,!0);break;case"yyy":t=Be(0,3,0,!1,!0);break;case"yyyy":t=Be(0,4,0,!1,!0);break;case"Y":t=Jc(1);break;case"YY":t=Jc(2,!0);break;case"YYY":t=Jc(3);break;case"YYYY":t=Jc(4);break;case"M":case"L":t=Be(1,1,1);break;case"MM":case"LL":t=Be(1,2,1);break;case"MMM":t=_e(2,he.Abbreviated);break;case"MMMM":t=_e(2,he.Wide);break;case"MMMMM":t=_e(2,he.Narrow);break;case"LLL":t=_e(2,he.Abbreviated,dt.Standalone);break;case"LLLL":t=_e(2,he.Wide,dt.Standalone);break;case"LLLLL":t=_e(2,he.Narrow,dt.Standalone);break;case"w":t=Sp(1);break;case"ww":t=Sp(2);break;case"W":t=Sp(1,!0);break;case"d":t=Be(2,1);break;case"dd":t=Be(2,2);break;case"c":case"cc":t=Be(7,1);break;case"ccc":t=_e(1,he.Abbreviated,dt.Standalone);break;case"cccc":t=_e(1,he.Wide,dt.Standalone);break;case"ccccc":t=_e(1,he.Narrow,dt.Standalone);break;case"cccccc":t=_e(1,he.Short,dt.Standalone);break;case"E":case"EE":case"EEE":t=_e(1,he.Abbreviated);break;case"EEEE":t=_e(1,he.Wide);break;case"EEEEE":t=_e(1,he.Narrow);break;case"EEEEEE":t=_e(1,he.Short);break;case"a":case"aa":case"aaa":t=_e(0,he.Abbreviated);break;case"aaaa":t=_e(0,he.Wide);break;case"aaaaa":t=_e(0,he.Narrow);break;case"b":case"bb":case"bbb":t=_e(0,he.Abbreviated,dt.Standalone,!0);break;case"bbbb":t=_e(0,he.Wide,dt.Standalone,!0);break;case"bbbbb":t=_e(0,he.Narrow,dt.Standalone,!0);break;case"B":case"BB":case"BBB":t=_e(0,he.Abbreviated,dt.Format,!0);break;case"BBBB":t=_e(0,he.Wide,dt.Format,!0);break;case"BBBBB":t=_e(0,he.Narrow,dt.Format,!0);break;case"h":t=Be(3,1,-12);break;case"hh":t=Be(3,2,-12);break;case"H":t=Be(3,1);break;case"HH":t=Be(3,2);break;case"m":t=Be(4,1);break;case"mm":t=Be(4,2);break;case"s":t=Be(5,1);break;case"ss":t=Be(5,2);break;case"S":t=Be(6,1);break;case"SS":t=Be(6,2);break;case"SSS":t=Be(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Kc(0);break;case"ZZZZZ":t=Kc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Kc(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Kc(2);break;default:return null}return Ip[n]=t,t}function d_(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function oE(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function iE(n,t,e){let o=n.getTimezoneOffset(),i=d_(t,o);return oE(n,-1*(i-o))}function aE(n){if(Yb(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[o,i=1,a=1]=n.split("-").map(d=>+d);return el(o,i-1,a)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(Qw))return sE(r)}let t=new Date(n);if(!Yb(t))throw new D(2311,!1);return t}function sE(n){let t=new Date(0),e=0,r=0,o=n[8]?t.setUTCFullYear:t.setFullYear,i=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let a=Number(n[4]||0)-e,d=Number(n[5]||0)-r,u=Number(n[6]||0),p=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return i.call(t,a,d,u,p),t}function Yb(n){return n instanceof Date&&!isNaN(n.valueOf())}var cE=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Zb=22,tl=".",ma="0",lE=";",dE=",",Tp="#";function uE(n,t,e,r,o,i,a=!1){let d="",u=!1;if(!isFinite(n))d=Sn(e,St.Infinity);else{let p=gE(n);a&&(p=pE(p));let g=t.minInt,h=t.minFrac,M=t.maxFrac;if(i){let Ie=i.match(cE);if(Ie===null)throw new D(2306,!1);let Ct=Ie[1],Fe=Ie[3],pn=Ie[5];Ct!=null&&(g=Ap(Ct)),Fe!=null&&(h=Ap(Fe)),pn!=null?M=Ap(pn):Fe!=null&&h>M&&(M=h)}mE(p,h,M);let C=p.digits,O=p.integerLen,U=p.exponent,F=[];for(u=C.every(Ie=>!Ie);O<g;O++)C.unshift(0);for(;O<0;O++)C.unshift(0);O>0?F=C.splice(O,C.length):(F=C,C=[0]);let L=[];for(C.length>=t.lgSize&&L.unshift(C.splice(-t.lgSize,C.length).join(""));C.length>t.gSize;)L.unshift(C.splice(-t.gSize,C.length).join(""));C.length&&L.unshift(C.join("")),d=L.join(Sn(e,r)),F.length&&(d+=Sn(e,o)+F.join("")),U&&(d+=Sn(e,St.Exponential)+"+"+U)}return n<0&&!u?d=t.negPre+d+t.negSuf:d=t.posPre+d+t.posSuf,d}function u_(n,t,e){let r=o_(t,Fp.Decimal),o=fE(r,Sn(t,St.MinusSign));return uE(n,o,t,St.Group,St.Decimal,e)}function fE(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(lE),o=r[0],i=r[1],a=o.indexOf(tl)!==-1?o.split(tl):[o.substring(0,o.lastIndexOf(ma)+1),o.substring(o.lastIndexOf(ma)+1)],d=a[0],u=a[1]||"";e.posPre=d.substring(0,d.indexOf(Tp));for(let g=0;g<u.length;g++){let h=u.charAt(g);h===ma?e.minFrac=e.maxFrac=g+1:h===Tp?e.maxFrac=g+1:e.posSuf+=h}let p=d.split(dE);if(e.gSize=p[1]?p[1].length:0,e.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,i){let g=o.length-e.posPre.length-e.posSuf.length,h=i.indexOf(Tp);e.negPre=i.substring(0,h).replace(/'/g,""),e.negSuf=i.slice(h+g).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function pE(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function gE(n){let t=Math.abs(n)+"",e=0,r,o,i,a,d;for((o=t.indexOf(tl))>-1&&(t=t.replace(tl,"")),(i=t.search(/e/i))>0?(o<0&&(o=i),o+=+t.slice(i+1),t=t.substring(0,i)):o<0&&(o=t.length),i=0;t.charAt(i)===ma;i++);if(i===(d=t.length))r=[0],o=1;else{for(d--;t.charAt(d)===ma;)d--;for(o-=i,r=[],a=0;i<=d;i++,a++)r[a]=Number(t.charAt(i))}return o>Zb&&(r=r.splice(0,Zb-1),e=o-1,o=1),{digits:r,exponent:e,integerLen:o}}function mE(n,t,e){if(t>e)throw new D(2307,!1);let r=n.digits,o=r.length-n.integerLen,i=Math.min(Math.max(t,o),e),a=i+n.integerLen,d=r[a];if(a>0){r.splice(Math.max(n.integerLen,a));for(let h=a;h<r.length;h++)r[h]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,a=i+1),r[0]=0;for(let h=1;h<a;h++)r[h]=0}if(d>=5)if(a-1<0){for(let h=0;h>a;h--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[a-1]++;for(;o<Math.max(0,i);o++)r.push(0);let u=i!==0,p=t+n.integerLen,g=r.reduceRight(function(h,M,C,O){return M=M+h,O[C]=M<10?M:M-10,u&&(O[C]===0&&C>=p?O.pop():u=!1),M>=10?1:0},0);g&&(r.unshift(g),n.integerLen++)}function Ap(n){let t=parseInt(n);if(isNaN(t))throw new D(2305,!1);return t}var Np=/\s+/,Qb=[],vt=(()=>{class n{_ngEl;_renderer;initialClasses=Qb;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Np):Qb}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Np):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let o=this.stateMap.get(e);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],o=e[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Np).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||n)(S(st),S(qt))};static \u0275dir=ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var nl=class{$implicit;ngForOf;index;count;constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},be=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((o,i,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new nl(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(i===null?void 0:i);else if(i!==null){let d=r.get(i);r.move(d,a),Kb(d,o)}});for(let o=0,i=r.length;o<i;o++){let d=r.get(o).context;d.index=o,d.count=i,d.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Kb(i,o)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(S(on),S(wn),S(Op))};static \u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Kb(n,t){n.context.$implicit=t.item}var me=(()=>{class n{_viewContainer;_context=new rl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Jb(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Jb(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(S(on),S(wn))};static \u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),rl=class{$implicit=null;ngIf=null};function Jb(n,t){if(n&&!n.createEmbeddedView)throw new D(2020,!1)}var ol=class{_viewContainerRef;_templateRef;_created=!1;constructor(t,e){this._viewContainerRef=t,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},no=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let r=e===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let r of this._defaultViews)r.enforceState(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),ha=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new ol(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(S(on),S(wn),S(no,9))};static \u0275dir=ge({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})(),ba=(()=>{class n{constructor(e,r,o){o._addDefault(new ol(e,r))}static \u0275fac=function(r){return new(r||n)(S(on),S(wn),S(no,9))};static \u0275dir=ge({type:n,selectors:[["","ngSwitchDefault",""]]})}return n})();function il(n,t){return new D(2100,!1)}var hE=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Lp=(()=>{class n{transform(e){if(e==null)return null;if(typeof e!="string")throw il(n,e);return e.replace(hE,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Wo({name:"titlecase",type:n,pure:!0})}return n})();var bE="mediumDate",f_=new R(""),p_=new R(""),tt=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,o){this.locale=e,this.defaultTimezone=r,this.defaultOptions=o}transform(e,r,o,i){if(e==null||e===""||e!==e)return null;try{let a=r??this.defaultOptions?.dateFormat??bE,d=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return c_(e,a,i||this.locale,d)}catch(a){throw il(n,a.message)}}static \u0275fac=function(r){return new(r||n)(S(qo,16),S(f_,24),S(p_,24))};static \u0275pipe=Wo({name:"date",type:n,pure:!0})}return n})();var _a=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,r,o){if(!_E(e))return null;o||=this._locale;try{let i=vE(e);return u_(i,o,r)}catch(i){throw il(n,i.message)}}static \u0275fac=function(r){return new(r||n)(S(qo,16))};static \u0275pipe=Wo({name:"number",type:n,pure:!0})}return n})();function _E(n){return!(n==null||n===""||n!==n)}function vE(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new D(2309,!1);return n}var Vp=(()=>{class n{transform(e,r,o){if(e==null)return null;if(!(typeof e=="string"||Array.isArray(e)))throw il(n,e);return e.slice(r,o)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Wo({name:"slice",type:n,pure:!1})}return n})();var ae=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=Ut({})}return n})();function va(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[o,i]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var ro=class{};var g_="browser";var m_=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>new jp(x(Ee),window)})}return n})(),jp=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(X(P({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let r=yE(this.document,t);r&&(this.scrollToElement(r,e),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Un(2400,!1))}}scrollToElement(t,e){let r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(X(P({},e),{left:o-a[0],top:i-a[1]}))}};function yE(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let a=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(a)return a}o=r.nextNode()}}return null}var ya=class{_doc;constructor(t){this._doc=t}manager},al=(()=>{class n extends ya{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o,i){return e.addEventListener(r,o,i),()=>this.removeEventListener(e,r,o,i)}removeEventListener(e,r,o,i){return e.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(j(Ee))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),cl=new R(""),$p=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(a=>{a.manager=this});let o=e.filter(a=>!(a instanceof al));this._plugins=o.slice().reverse();let i=e.find(a=>a instanceof al);i&&this._plugins.push(i)}addEventListener(e,r,o,i){return this._findPluginFor(r).addEventListener(e,r,o,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(i=>i.supports(e)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(j(cl),j(Pe))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Up="ng-app-id";function h_(n){for(let t of n)t.remove()}function b_(n,t){let e=t.createElement("style");return e.textContent=n,e}function CE(n,t,e,r){let o=n.head?.querySelectorAll(`style[${Up}="${t}"],link[${Up}="${t}"]`);if(o)for(let i of o)i.removeAttribute(Up),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function Hp(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Wp=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,o,i={}){this.doc=e,this.appId=r,this.nonce=o,CE(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let o of e)this.addUsage(o,this.inline,b_);r?.forEach(o=>this.addUsage(o,this.external,Hp))}removeStyles(e,r){for(let o of e)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,r,o){let i=r.get(e);i?i.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(e,this.doc)))})}removeUsage(e,r){let o=r.get(e);o&&(o.usage--,o.usage<=0&&(h_(o.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])h_(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(e,b_(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(e,Hp(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(j(Ee),j(kc),j(Sc,8),j(Ji))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Bp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gp=/%COMP%/g;var v_="%COMP%",xE=`_nghost-${v_}`,ME=`_ngcontent-${v_}`,wE=!0,EE=new R("",{providedIn:"root",factory:()=>wE});function OE(n){return ME.replace(Gp,n)}function PE(n){return xE.replace(Gp,n)}function y_(n,t){return t.map(e=>e.replace(Gp,n))}var qp=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,o,i,a,d,u=null,p=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=a,this.ngZone=d,this.nonce=u,this.tracingService=p,this.platformIsServer=!1,this.defaultRenderer=new Ca(e,a,d,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(e,r);return o instanceof sl?o.applyToHost(e):o instanceof xa&&o.applyStyles(),o}getOrCreateRenderer(e,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let a=this.doc,d=this.ngZone,u=this.eventManager,p=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,h=this.platformIsServer,M=this.tracingService;switch(r.encapsulation){case Wn.Emulated:i=new sl(u,p,r,this.appId,g,a,d,h,M);break;case Wn.ShadowDom:return new zp(u,p,e,r,a,d,this.nonce,h,M);default:i=new xa(u,p,r,g,a,d,h,M);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(j($p),j(Wp),j(kc),j(EE),j(Ee),j(Pe),j(Sc),j(Xr,8))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Ca=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,o,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Bp[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(__(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(__(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new D(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;let i=Bp[o];i?t.setAttributeNS(i,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let o=Bp[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(Mn.DashCase|Mn.Important)?t.style.setProperty(e,r,o&Mn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Mn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,o){if(typeof t=="string"&&(t=Yt().getGlobalEventTarget(this.doc,t),!t))throw new D(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,e,i)),this.eventManager.addEventListener(t,e,i,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function __(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zp=class extends Ca{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,o,i,a,d,u,p){super(t,i,a,u,p),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=o.styles;g=y_(o.id,g);for(let M of g){let C=document.createElement("style");d&&C.setAttribute("nonce",d),C.textContent=M,this.shadowRoot.appendChild(C)}let h=o.getExternalStyles?.();if(h)for(let M of h){let C=Hp(M,i);d&&C.setAttribute("nonce",d),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xa=class extends Ca{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,o,i,a,d,u,p){super(t,i,a,d,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let g=r.styles;this.styles=p?y_(p,g):g,this.styleUrls=r.getExternalStyles?.(p)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Uo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},sl=class extends xa{contentAttr;hostAttr;constructor(t,e,r,o,i,a,d,u,p){let g=o+"-"+r.id;super(t,e,r,i,a,d,u,p,g),this.contentAttr=OE(g),this.hostAttr=PE(g)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}};var ll=class n extends da{supportsDOMEvents=!0;static makeCurrent(){Pp(new n)}onAndCancel(t,e,r,o){return t.addEventListener(e,r,o),()=>{t.removeEventListener(e,r,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=kE();return e==null?null:DE(e)}resetBaseElement(){Ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return va(document.cookie,t)}},Ma=null;function kE(){return Ma=Ma||document.head.querySelector("base"),Ma?Ma.getAttribute("href"):null}function DE(n){return new URL(n,document.baseURI).pathname}var SE=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),C_=["alt","control","meta","shift"],IE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TE={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},x_=(()=>{class n extends ya{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,o,i){let a=n.parseEventName(r),d=n.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(e,a.domEventName,d,i))}static parseEventName(e){let r=e.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),a="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),a="code."),C_.forEach(p=>{let g=r.indexOf(p);g>-1&&(r.splice(g,1),a+=p+".")}),a+=i,r.length!=0||i.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(e,r){let o=IE[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),C_.forEach(a=>{if(a!==o){let d=TE[a];d(e)&&(i+=a+".")}}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{n.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(j(Ee))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function Yp(n,t,e){let r=P({rootComponent:n,platformRef:e?.platformRef},AE(t));return Hb(r)}function AE(n){return{appProviders:[...VE,...n?.providers??[]],platformProviders:LE}}function NE(){ll.makeCurrent()}function RE(){return new Xt}function FE(){return Sf(document),document}var LE=[{provide:Ji,useValue:g_},{provide:Dc,useValue:NE,multi:!0},{provide:Ee,useFactory:FE}];var VE=[{provide:Si,useValue:"root"},{provide:Xt,useFactory:RE},{provide:cl,useClass:al,multi:!0,deps:[Ee]},{provide:cl,useClass:x_,multi:!0,deps:[Ee]},qp,Wp,$p,{provide:Yr,useExisting:qp},{provide:ro,useClass:SE},[]];var Ko=class{},wa=class{},vr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let o=e.slice(0,r),i=e.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let o=(t.op==="a"?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":let i=t.value;if(!i)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(d=>i.indexOf(d)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var ul=class{encodeKey(t){return M_(t)}encodeValue(t){return M_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function jE(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[a,d]=i==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],u=e.get(a)||[];u.push(d),e.set(a,u)}),e}var UE=/%(\d[a-f0-9])/gi,BE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function M_(n){return encodeURIComponent(n).replace(UE,(t,e)=>BE[e]??t)}function dl(n){return`${n}`}var dn=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new ul,t.fromString){if(t.fromObject)throw new D(2805,!1);this.map=jE(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],o=Array.isArray(r)?r.map(dl):[dl(r)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let o=t[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(dl(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],o=r.indexOf(dl(t.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var fl=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function HE(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function w_(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function E_(n){return typeof Blob<"u"&&n instanceof Blob}function O_(n){return typeof FormData<"u"&&n instanceof FormData}function zE(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var P_="Content-Type",k_="Accept",D_="X-Request-URL",S_="text/plain",I_="application/json",$E=`${I_}, ${S_}, */*`,Zo=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,r,o){this.url=e,this.method=t.toUpperCase();let i;if(HE(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new D(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new vr,this.context??=new fl,!this.params)this.params=new dn,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let d=e.indexOf("?"),u=d===-1?"?":d<e.length-1?"&":"";this.urlWithParams=e+u+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||w_(this.body)||E_(this.body)||O_(this.body)||zE(this.body)?this.body:this.body instanceof dn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||O_(this.body)?null:E_(this.body)?this.body.type||null:w_(this.body)?null:typeof this.body=="string"?S_:this.body instanceof dn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?I_:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,a=t.priority||this.priority,d=t.cache||this.cache,u=t.mode||this.mode,p=t.redirect||this.redirect,g=t.credentials||this.credentials,h=t.referrer||this.referrer,M=t.integrity||this.integrity,C=t.transferCache??this.transferCache,O=t.timeout??this.timeout,U=t.body!==void 0?t.body:this.body,F=t.withCredentials??this.withCredentials,L=t.reportProgress??this.reportProgress,Ie=t.headers||this.headers,Ct=t.params||this.params,Fe=t.context??this.context;return t.setHeaders!==void 0&&(Ie=Object.keys(t.setHeaders).reduce((pn,Dr)=>pn.set(Dr,t.setHeaders[Dr]),Ie)),t.setParams&&(Ct=Object.keys(t.setParams).reduce((pn,Dr)=>pn.set(Dr,t.setParams[Dr]),Ct)),new n(e,r,U,{params:Ct,headers:Ie,context:Fe,reportProgress:L,responseType:o,withCredentials:F,transferCache:C,keepalive:i,cache:d,priority:a,timeout:O,mode:u,redirect:p,credentials:g,referrer:h,integrity:M})}},oo=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(oo||{}),Jo=class{headers;status;statusText;url;ok;type;redirected;constructor(t,e=200,r="OK"){this.headers=t.headers||new vr,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},pl=class n extends Jo{constructor(t={}){super(t)}type=oo.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ea=class n extends Jo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=oo.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},Qo=class extends Jo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},WE=200,GE=204;function Zp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var It=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof Zo)i=e;else{let u;o.headers instanceof vr?u=o.headers:u=new vr(o.headers);let p;o.params&&(o.params instanceof dn?p=o.params:p=new dn({fromObject:o.params})),i=new Zo(e,r,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:p,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let a=B(i).pipe(mn(u=>this.handler.handle(u)));if(e instanceof Zo||o.observe==="events")return a;let d=a.pipe(je(u=>u instanceof Ea));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return d.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new D(2806,!1);return u.body}));case"blob":return d.pipe(Y(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new D(2807,!1);return u.body}));case"text":return d.pipe(Y(u=>{if(u.body!==null&&typeof u.body!="string")throw new D(2808,!1);return u.body}));case"json":default:return d.pipe(Y(u=>u.body))}case"response":return d;default:throw new D(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new dn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Zp(o,r))}post(e,r,o={}){return this.request("POST",e,Zp(o,r))}put(e,r,o={}){return this.request("PUT",e,Zp(o,r))}static \u0275fac=function(r){return new(r||n)(j(Ko))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();var qE=new R("");function YE(n,t){return t(n)}function ZE(n,t,e){return(r,o)=>qe(e,()=>t(r,i=>n(i,o)))}var Kp=new R(""),T_=new R(""),A_=new R("",{providedIn:"root",factory:()=>!0});var gl=(()=>{class n extends Ko{backend;injector;chain=null;pendingTasks=x(nc);contributeToStability=x(A_);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Kp),...this.injector.get(T_,[])]));this.chain=r.reduceRight((o,i)=>ZE(o,i,this.injector),YE)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Ar(r))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(j(wa),j(Ne))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();var QE=/^\)\]\}',?\n/,KE=RegExp(`^${D_}:`,"m");function JE(n){return"responseURL"in n&&n.responseURL?n.responseURL:KE.test(n.getAllResponseHeaders())?n.getResponseHeader(D_):null}var Qp=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new D(-2800,!1);let r=this.xhrFactory;return B(null).pipe(Xe(()=>new ne(i=>{let a=r.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((F,L)=>a.setRequestHeader(F,L.join(","))),e.headers.has(k_)||a.setRequestHeader(k_,$E),!e.headers.has(P_)){let F=e.detectContentTypeHeader();F!==null&&a.setRequestHeader(P_,F)}if(e.timeout&&(a.timeout=e.timeout),e.responseType){let F=e.responseType.toLowerCase();a.responseType=F!=="json"?F:"text"}let d=e.serializeBody(),u=null,p=()=>{if(u!==null)return u;let F=a.statusText||"OK",L=new vr(a.getAllResponseHeaders()),Ie=JE(a)||e.url;return u=new pl({headers:L,status:a.status,statusText:F,url:Ie}),u},g=()=>{let{headers:F,status:L,statusText:Ie,url:Ct}=p(),Fe=null;L!==GE&&(Fe=typeof a.response>"u"?a.responseText:a.response),L===0&&(L=Fe?WE:0);let pn=L>=200&&L<300;if(e.responseType==="json"&&typeof Fe=="string"){let Dr=Fe;Fe=Fe.replace(QE,"");try{Fe=Fe!==""?JSON.parse(Fe):null}catch(uy){Fe=Dr,pn&&(pn=!1,Fe={error:uy,text:Fe})}}pn?(i.next(new Ea({body:Fe,headers:F,status:L,statusText:Ie,url:Ct||void 0})),i.complete()):i.error(new Qo({error:Fe,headers:F,status:L,statusText:Ie,url:Ct||void 0}))},h=F=>{let{url:L}=p(),Ie=new Qo({error:F,status:a.status||0,statusText:a.statusText||"Unknown Error",url:L||void 0});i.error(Ie)},M=h;e.timeout&&(M=F=>{let{url:L}=p(),Ie=new Qo({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:L||void 0});i.error(Ie)});let C=!1,O=F=>{C||(i.next(p()),C=!0);let L={type:oo.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(L.total=F.total),e.responseType==="text"&&a.responseText&&(L.partialText=a.responseText),i.next(L)},U=F=>{let L={type:oo.UploadProgress,loaded:F.loaded};F.lengthComputable&&(L.total=F.total),i.next(L)};return a.addEventListener("load",g),a.addEventListener("error",h),a.addEventListener("timeout",M),a.addEventListener("abort",h),e.reportProgress&&(a.addEventListener("progress",O),d!==null&&a.upload&&a.upload.addEventListener("progress",U)),a.send(d),i.next({type:oo.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",g),a.removeEventListener("timeout",M),e.reportProgress&&(a.removeEventListener("progress",O),d!==null&&a.upload&&a.upload.removeEventListener("progress",U)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||n)(j(ro))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),N_=new R(""),XE="XSRF-TOKEN",eO=new R("",{providedIn:"root",factory:()=>XE}),tO="X-XSRF-TOKEN",nO=new R("",{providedIn:"root",factory:()=>tO}),Oa=class{},rO=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=va(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(j(Ee),j(eO))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function oO(n,t){let e=n.url.toLowerCase();if(!x(N_)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=x(Oa).getToken(),o=x(nO);return r!=null&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),t(n)}var Jp=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(Jp||{});function iO(n,t){return{\u0275kind:n,\u0275providers:t}}function Xp(...n){let t=[It,Qp,gl,{provide:Ko,useExisting:gl},{provide:wa,useFactory:()=>x(qE,{optional:!0})??x(Qp)},{provide:Kp,useValue:oO,multi:!0},{provide:N_,useValue:!0},{provide:Oa,useClass:rO}];for(let e of n)t.push(...e.\u0275providers);return hn(t)}function eg(n){return iO(Jp.Interceptors,n.map(t=>({provide:Kp,useValue:t,multi:!0})))}var R_=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(j(Ee))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z="primary",ja=Symbol("RouteTitle"),ig=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function so(n){return new ig(n)}function z_(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let a=r[i],d=n[i];if(a[0]===":")o[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function sO(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!In(n[e],t[e]))return!1;return!0}function In(n,t){let e=n?ag(n):void 0,r=t?ag(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!$_(n[o],t[o]))return!1;return!0}function ag(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function $_(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((o,i)=>r[i]===o)}else return n===t}function W_(n){return n.length>0?n[n.length-1]:null}function Qn(n){return Ld(n)?n:hr(n)?ve(Promise.resolve(n)):B(n)}var cO={exact:q_,subset:Y_},G_={exact:lO,subset:dO,ignored:()=>!0};function F_(n,t,e){return cO[e.paths](n.root,t.root,e.matrixParams)&&G_[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function lO(n,t){return In(n,t)}function q_(n,t,e){if(!io(n.segments,t.segments)||!_l(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!q_(n.children[r],t.children[r],e))return!1;return!0}function dO(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>$_(n[e],t[e]))}function Y_(n,t,e){return Z_(n,t,t.segments,e)}function Z_(n,t,e,r){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!io(o,e)||t.hasChildren()||!_l(o,e,r))}else if(n.segments.length===e.length){if(!io(n.segments,e)||!_l(n.segments,e,r))return!1;for(let o in t.children)if(!n.children[o]||!Y_(n.children[o],t.children[o],r))return!1;return!0}else{let o=e.slice(0,n.segments.length),i=e.slice(n.segments.length);return!io(n.segments,o)||!_l(n.segments,o,r)||!n.children[Z]?!1:Z_(n.children[Z],t,i,r)}}function _l(n,t,e){return t.every((r,o)=>G_[e](n[o].parameters,r.parameters))}var Tn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new le([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=so(this.queryParams),this._queryParamMap}toString(){return pO.serialize(this)}},le=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vl(this)}},yr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=so(this.parameters),this._parameterMap}toString(){return K_(this)}};function uO(n,t){return io(n,t)&&n.every((e,r)=>In(e.parameters,t[r].parameters))}function io(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function fO(n,t){let e=[];return Object.entries(n.children).forEach(([r,o])=>{r===Z&&(e=e.concat(t(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==Z&&(e=e.concat(t(o,r)))}),e}var co=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>new Cr,providedIn:"root"})}return n})(),Cr=class{parse(t){let e=new cg(t);return new Tn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Pa(t.root,!0)}`,r=hO(t.queryParams),o=typeof t.fragment=="string"?`#${gO(t.fragment)}`:"";return`${e}${r}${o}`}},pO=new Cr;function vl(n){return n.segments.map(t=>K_(t)).join("/")}function Pa(n,t){if(!n.hasChildren())return vl(n);if(t){let e=n.children[Z]?Pa(n.children[Z],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==Z&&r.push(`${o}:${Pa(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=fO(n,(r,o)=>o===Z?[Pa(n.children[Z],!1)]:[`${o}:${Pa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${vl(n)}/${e[0]}`:`${vl(n)}/(${e.join("//")})`}}function Q_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hl(n){return Q_(n).replace(/%3B/gi,";")}function gO(n){return encodeURI(n)}function sg(n){return Q_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yl(n){return decodeURIComponent(n)}function L_(n){return yl(n.replace(/\+/g,"%20"))}function K_(n){return`${sg(n.path)}${mO(n.parameters)}`}function mO(n){return Object.entries(n).map(([t,e])=>`;${sg(t)}=${sg(e)}`).join("")}function hO(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(o=>`${hl(e)}=${hl(o)}`).join("&"):`${hl(e)}=${hl(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var bO=/^[^\/()?;#]+/;function tg(n){let t=n.match(bO);return t?t[0]:""}var _O=/^[^\/()?;=#]+/;function vO(n){let t=n.match(_O);return t?t[0]:""}var yO=/^[^=?&#]+/;function CO(n){let t=n.match(yO);return t?t[0]:""}var xO=/^[^&#]+/;function MO(n){let t=n.match(xO);return t?t[0]:""}var cg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Z]=new le(t,e)),r}parseSegment(){let t=tg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(t),new yr(yl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=vO(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=tg(this.remaining);o&&(r=o,this.capture(r))}t[yl(e)]=yl(r)}parseQueryParam(t){let e=CO(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let a=MO(this.remaining);a&&(r=a,this.capture(r))}let o=L_(e),i=L_(r);if(t.hasOwnProperty(o)){let a=t[o];Array.isArray(a)||(a=[a],t[o]=a),a.push(i)}else t[o]=i}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tg(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new D(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Z);let a=this.parseChildren();e[i??Z]=Object.keys(a).length===1&&a[Z]?a[Z]:new le([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new D(4011,!1)}};function J_(n){return n.segments.length>0?new le([],{[Z]:n}):n}function X_(n){let t={};for(let[r,o]of Object.entries(n.children)){let i=X_(o);if(r===Z&&i.segments.length===0&&i.hasChildren())for(let[a,d]of Object.entries(i.children))t[a]=d;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let e=new le(n.segments,t);return wO(e)}function wO(n){if(n.numberOfChildren===1&&n.children[Z]){let t=n.children[Z];return new le(n.segments.concat(t.segments),t.children)}return n}function xr(n){return n instanceof Tn}function ev(n,t,e=null,r=null){let o=tv(n);return nv(o,t,e,r)}function tv(n){let t;function e(i){let a={};for(let u of i.children){let p=e(u);a[u.outlet]=p}let d=new le(i.url,a);return i===n&&(t=d),d}let r=e(n.root),o=J_(r);return t??o}function nv(n,t,e,r){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return ng(o,o,o,e,r);let i=EO(t);if(i.toRoot())return ng(o,o,new le([],{}),e,r);let a=OO(i,o,n),d=a.processChildren?Da(a.segmentGroup,a.index,i.commands):ov(a.segmentGroup,a.index,i.commands);return ng(o,a.segmentGroup,d,e,r)}function Cl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ia(n){return typeof n=="object"&&n!=null&&n.outlets}function ng(n,t,e,r,o){let i={};r&&Object.entries(r).forEach(([u,p])=>{i[u]=Array.isArray(p)?p.map(g=>`${g}`):`${p}`});let a;n===t?a=e:a=rv(n,t,e);let d=J_(X_(a));return new Tn(d,i,o)}function rv(n,t,e){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===t?r[o]=e:r[o]=rv(i,t,e)}),new le(n.segments,r)}var xl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Cl(r[0]))throw new D(4003,!1);let o=r.find(Ia);if(o&&o!==W_(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function EO(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new xl(!0,0,n);let t=0,e=!1,r=n.reduce((o,i,a)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let d={};return Object.entries(i.outlets).forEach(([u,p])=>{d[u]=typeof p=="string"?p.split("/"):p}),[...o,{outlets:d}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:a===0?(i.split("/").forEach((d,u)=>{u==0&&d==="."||(u==0&&d===""?e=!0:d===".."?t++:d!=""&&o.push(d))}),o):[...o,i]},[]);return new xl(e,t,r)}var ti=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function OO(n,t,e){if(n.isAbsolute)return new ti(t,!0,0);if(!e)return new ti(t,!1,NaN);if(e.parent===null)return new ti(e,!0,0);let r=Cl(n.commands[0])?0:1,o=e.segments.length-1+r;return PO(e,o,n.numberOfDoubleDots)}function PO(n,t,e){let r=n,o=t,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new D(4005,!1);o=r.segments.length}return new ti(r,!1,o-i)}function kO(n){return Ia(n[0])?n[0].outlets:{[Z]:n}}function ov(n,t,e){if(n??=new le([],{}),n.segments.length===0&&n.hasChildren())return Da(n,t,e);let r=DO(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new le(n.segments.slice(0,r.pathIndex),{});return i.children[Z]=new le(n.segments.slice(r.pathIndex),n.children),Da(i,0,o)}else return r.match&&o.length===0?new le(n.segments,{}):r.match&&!n.hasChildren()?lg(n,t,e):r.match?Da(n,0,o):lg(n,t,e)}function Da(n,t,e){if(e.length===0)return new le(n.segments,{});{let r=kO(e),o={};if(Object.keys(r).some(i=>i!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let i=Da(n.children[Z],t,e);return new le(n.segments,i.children)}return Object.entries(r).forEach(([i,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(o[i]=ov(n.children[i],t,a))}),Object.entries(n.children).forEach(([i,a])=>{r[i]===void 0&&(o[i]=a)}),new le(n.segments,o)}}function DO(n,t,e){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return i;let a=n.segments[o],d=e[r];if(Ia(d))break;let u=`${d}`,p=r<e.length-1?e[r+1]:null;if(o>0&&u===void 0)break;if(u&&p&&typeof p=="object"&&p.outlets===void 0){if(!j_(u,p,a))return i;r+=2}else{if(!j_(u,{},a))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function lg(n,t,e){let r=n.segments.slice(0,t),o=0;for(;o<e.length;){let i=e[o];if(Ia(i)){let u=SO(i.outlets);return new le(r,u)}if(o===0&&Cl(e[0])){let u=n.segments[t];r.push(new yr(u.path,V_(e[0]))),o++;continue}let a=Ia(i)?i.outlets[Z]:`${i}`,d=o<e.length-1?e[o+1]:null;a&&d&&Cl(d)?(r.push(new yr(a,V_(d))),o+=2):(r.push(new yr(a,{})),o++)}return new le(r,{})}function SO(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=lg(new le([],{}),0,r))}),t}function V_(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function j_(n,t,e){return n==e.path&&In(t,e.parameters)}var ni="imperative",We=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(We||{}),Vt=class{id;url;constructor(t,e){this.id=t,this.url=e}},An=class extends Vt{type=We.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$e=class extends Vt{urlAfterRedirects;type=We.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(yt||{}),oi=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(oi||{}),Qt=class extends Vt{reason;code;type=We.NavigationCancel;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nn=class extends Vt{reason;code;type=We.NavigationSkipped;constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o}},Mr=class extends Vt{error;target;type=We.NavigationError;constructor(t,e,r,o){super(t,e),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ta=class extends Vt{urlAfterRedirects;state;type=We.RoutesRecognized;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ml=class extends Vt{urlAfterRedirects;state;type=We.GuardsCheckStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wl=class extends Vt{urlAfterRedirects;state;shouldActivate;type=We.GuardsCheckEnd;constructor(t,e,r,o,i){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},El=class extends Vt{urlAfterRedirects;state;type=We.ResolveStart;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ol=class extends Vt{urlAfterRedirects;state;type=We.ResolveEnd;constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pl=class{route;type=We.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kl=class{route;type=We.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Dl=class{snapshot;type=We.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sl=class{snapshot;type=We.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Il=class{snapshot;type=We.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tl=class{snapshot;type=We.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ii=class{routerEvent;position;anchor;type=We.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Aa=class{},ai=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function IO(n){return!(n instanceof Aa)&&!(n instanceof ai)}function TO(n,t){return n.providers&&!n._injector&&(n._injector=$o(n.providers,t,`Route: ${n.path}`)),n._injector??t}function un(n){return n.outlet||Z}function AO(n,t){let e=n.filter(r=>un(r)===t);return e.push(...n.filter(r=>un(r)!==t)),e}function li(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Al=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return li(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new lo(this.rootInjector)}},lo=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Al(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(j(Ne))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=dg(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=dg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=ug(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return ug(t,this._root).map(e=>e.value)}};function dg(n,t){if(n===t.value)return t;for(let e of t.children){let r=dg(n,e);if(r)return r}return null}function ug(n,t){if(n===t.value)return[t];for(let e of t.children){let r=ug(n,e);if(r.length)return r.unshift(t),r}return[]}var Lt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ei(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Na=class extends Nl{snapshot;constructor(t,e){super(t),this.snapshot=e,vg(this,t)}toString(){return this.snapshot.toString()}};function iv(n){let t=NO(n),e=new Je([new yr("",{})]),r=new Je({}),o=new Je({}),i=new Je({}),a=new Je(""),d=new Ke(e,r,i,a,o,Z,n,t.root);return d.snapshot=t.root,new Na(new Lt(d,[]),t)}function NO(n){let t={},e={},r={},i=new ao([],t,r,"",e,Z,n,null,{});return new Ra("",new Lt(i,[]))}var Ke=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,o,i,a,d,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=a,this.component=d,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Y(p=>p[ja]))??B(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Y(t=>so(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Y(t=>so(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rl(n,t,e="emptyOnly"){let r,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:P(P({},t.params),n.params),data:P(P({},t.data),n.data),resolve:P(P(P(P({},n.data),t.data),o?.data),n._resolvedData)}:r={params:P({},n.params),data:P({},n.data),resolve:P(P({},n.data),n._resolvedData??{})},o&&sv(o)&&(r.resolve[ja]=o.title),r}var ao=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ja]}constructor(t,e,r,o,i,a,d,u,p){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=a,this.component=d,this.routeConfig=u,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=so(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=so(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ra=class extends Nl{url;constructor(t,e){super(e),this.url=t,vg(this,e)}toString(){return av(this._root)}};function vg(n,t){t.value._routerState=n,t.children.forEach(e=>vg(n,e))}function av(n){let t=n.children.length>0?` { ${n.children.map(av).join(", ")} } `:"";return`${n.value}${t}`}function rg(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,In(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),In(t.params,e.params)||n.paramsSubject.next(e.params),sO(t.url,e.url)||n.urlSubject.next(e.url),In(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fg(n,t){let e=In(n.params,t.params)&&uO(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||fg(n.parent,t.parent))}function sv(n){return typeof n.title=="string"||n.title===null}var cv=new R(""),Kn=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Re;deactivateEvents=new Re;attachEvents=new Re;detachEvents=new Re;routerOutletData=Bb();parentContexts=x(lo);location=x(on);changeDetector=x(Yn);inputBinder=x(Ua,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=e;let o=this.location,a=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,u=new pg(e,d,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[On]})}return n})(),pg=class{route;childContexts;parent;outletData;constructor(t,e,r,o){this.route=t,this.childContexts=e,this.parent=r,this.outletData=o}get(t,e){return t===Ke?this.route:t===lo?this.childContexts:t===cv?this.outletData:this.parent.get(t,e)}},Ua=new R(""),yg=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,o=xi([r.queryParams,r.params,r.data]).pipe(Xe(([i,a,d],u)=>(d=P(P(P({},i),a),d),u===0?B(d):Promise.resolve(d)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let a=zb(r.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:d}of a.inputs)e.activatedComponentRef.setInput(d,i[d])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Cg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=te({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&H(0,"router-outlet")},dependencies:[Kn],encapsulation:2})}return n})();function xg(n){let t=n.children&&n.children.map(xg),e=t?X(P({},n),{children:t}):P({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Z&&(e.component=Cg),e}function RO(n,t,e){let r=Fa(n,t._root,e?e._root:void 0);return new Na(r,t)}function Fa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let o=FO(n,t,e);return new Lt(r,o)}else{if(n.shouldAttach(t.value)){let i=n.retrieve(t.value);if(i!==null){let a=i.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(d=>Fa(n,d)),a}}let r=LO(t.value),o=t.children.map(i=>Fa(n,i));return new Lt(r,o)}}function FO(n,t,e){return t.children.map(r=>{for(let o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Fa(n,r,o);return Fa(n,r)})}function LO(n){return new Ke(new Je(n.url),new Je(n.params),new Je(n.queryParams),new Je(n.fragment),new Je(n.data),n.outlet,n.component,n)}var si=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},lv="ngNavigationCancelingError";function Fl(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=xr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=dv(!1,yt.Redirect);return o.url=e,o.navigationBehaviorOptions=r,o}function dv(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[lv]=!0,e.cancellationCode=t,e}function VO(n){return uv(n)&&xr(n.url)}function uv(n){return!!n&&n[lv]}var jO=(n,t,e,r)=>Y(o=>(new gg(t,o.targetRouterState,o.currentRouterState,e,r).activate(n),o)),gg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,o,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),rg(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let o=ei(e);t.children.forEach(i=>{let a=i.value.outlet;this.deactivateRoutes(i,o[a],r),delete o[a]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,e,r){let o=t.value,i=e?e.value:null;if(o===i)if(o.component){let a=r.getContext(o.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=ei(t);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);if(r&&r.outlet){let a=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=ei(t);for(let a of Object.values(i))this.deactivateRouteAndItsChildren(a,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let o=ei(e);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Tl(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Sl(t.value.snapshot))}activateRoutes(t,e,r){let o=t.value,i=e?e.value:null;if(rg(o),o===i)if(o.component){let a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,r);else if(o.component){let a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let d=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),rg(d.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=o,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,r)}},Ll=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ri=class{component;route;constructor(t,e){this.component=t,this.route=e}};function UO(n,t,e){let r=n._root,o=t?t._root:null;return ka(r,o,e,[r.value])}function BO(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function di(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!eu(n)?n:t.get(n):r}function ka(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=ei(t);return n.children.forEach(a=>{HO(a,i[a.value.outlet],e,r.concat([a.value]),o),delete i[a.value.outlet]}),Object.entries(i).forEach(([a,d])=>Sa(d,e.getContext(a),o)),o}function HO(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,a=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(a&&i.routeConfig===a.routeConfig){let u=zO(a,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Ll(r)):(i.data=a.data,i._resolvedData=a._resolvedData),i.component?ka(n,t,d?d.children:null,r,o):ka(n,t,e,r,o),u&&d&&d.outlet&&d.outlet.isActivated&&o.canDeactivateChecks.push(new ri(d.outlet.component,a))}else a&&Sa(t,d,o),o.canActivateChecks.push(new Ll(r)),i.component?ka(n,null,d?d.children:null,r,o):ka(n,null,e,r,o);return o}function zO(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!io(n.url,t.url);case"pathParamsOrQueryParamsChange":return!io(n.url,t.url)||!In(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fg(n,t)||!In(n.queryParams,t.queryParams);case"paramsChange":default:return!fg(n,t)}}function Sa(n,t,e){let r=ei(n),o=n.value;Object.entries(r).forEach(([i,a])=>{o.component?t?Sa(a,t.children.getContext(i),e):Sa(a,null,e):Sa(a,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ri(t.outlet.component,o)):e.canDeactivateChecks.push(new ri(null,o)):e.canDeactivateChecks.push(new ri(null,o))}function Ba(n){return typeof n=="function"}function $O(n){return typeof n=="boolean"}function WO(n){return n&&Ba(n.canLoad)}function GO(n){return n&&Ba(n.canActivate)}function qO(n){return n&&Ba(n.canActivateChild)}function YO(n){return n&&Ba(n.canDeactivate)}function ZO(n){return n&&Ba(n.canMatch)}function fv(n){return n instanceof Jt||n?.name==="EmptyError"}var bl=Symbol("INITIAL_VALUE");function ci(){return Xe(n=>xi(n.map(t=>t.pipe(Rn(1),Bd(bl)))).pipe(Y(t=>{for(let e of t)if(e!==!0){if(e===bl)return bl;if(e===!1||QO(e))return e}return!0}),je(t=>t!==bl),Rn(1)))}function QO(n){return xr(n)||n instanceof si}function KO(n,t){return Te(e=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:a}}=e;return a.length===0&&i.length===0?B(X(P({},e),{guardsResult:!0})):JO(a,r,o,n).pipe(Te(d=>d&&$O(d)?XO(r,i,n,t):B(d)),Y(d=>X(P({},e),{guardsResult:d})))})}function JO(n,t,e,r){return ve(n).pipe(Te(o=>oP(o.component,o.route,e,t,r)),Fn(o=>o!==!0,!0))}function XO(n,t,e,r){return ve(t).pipe(mn(o=>wo(tP(o.route.parent,r),eP(o.route,r),rP(n,o.path,e),nP(n,o.route,e))),Fn(o=>o!==!0,!0))}function eP(n,t){return n!==null&&t&&t(new Il(n)),B(!0)}function tP(n,t){return n!==null&&t&&t(new Dl(n)),B(!0)}function nP(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let o=r.map(i=>Mi(()=>{let a=li(t)??e,d=di(i,a),u=GO(d)?d.canActivate(t,n):qe(a,()=>d(t,n));return Qn(u).pipe(Fn())}));return B(o).pipe(ci())}function rP(n,t,e){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(a=>BO(a)).filter(a=>a!==null).map(a=>Mi(()=>{let d=a.guards.map(u=>{let p=li(a.node)??e,g=di(u,p),h=qO(g)?g.canActivateChild(r,n):qe(p,()=>g(r,n));return Qn(h).pipe(Fn())});return B(d).pipe(ci())}));return B(i).pipe(ci())}function oP(n,t,e,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return B(!0);let a=i.map(d=>{let u=li(t)??o,p=di(d,u),g=YO(p)?p.canDeactivate(n,t,e,r):qe(u,()=>p(n,t,e,r));return Qn(g).pipe(Fn())});return B(a).pipe(ci())}function iP(n,t,e,r){let o=t.canLoad;if(o===void 0||o.length===0)return B(!0);let i=o.map(a=>{let d=di(a,n),u=WO(d)?d.canLoad(t,e):qe(n,()=>d(t,e));return Qn(u)});return B(i).pipe(ci(),pv(r))}function pv(n){return Ad(Ae(t=>{if(typeof t!="boolean")throw Fl(n,t)}),Y(t=>t===!0))}function aP(n,t,e,r){let o=t.canMatch;if(!o||o.length===0)return B(!0);let i=o.map(a=>{let d=di(a,n),u=ZO(d)?d.canMatch(t,e):qe(n,()=>d(t,e));return Qn(u)});return B(i).pipe(ci(),pv(r))}var La=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Va=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Xo(n){return nr(new La(n))}function sP(n){return nr(new D(4e3,!1))}function cP(n){return nr(dv(!1,yt.GuardRejected))}var mg=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return B(r);if(o.numberOfChildren>1||!o.children[Z])return sP(`${t.redirectTo}`);o=o.children[Z]}}applyRedirectCommands(t,e,r,o,i){return lP(e,o,i).pipe(Y(a=>{if(a instanceof Tn)throw new Va(a);let d=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,r);if(a[0]==="/")throw new Va(d);return d}))}applyRedirectCreateUrlTree(t,e,r,o){let i=this.createSegmentGroup(t,e.root,r,o);return new Tn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let d=i.substring(1);r[o]=e[d]}else r[o]=i}),r}createSegmentGroup(t,e,r,o){let i=this.createSegments(t,e.segments,r,o),a={};return Object.entries(e.children).forEach(([d,u])=>{a[d]=this.createSegmentGroup(t,u,r,o)}),new le(i,a)}createSegments(t,e,r,o){return e.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,e,r){let o=r[e.path.substring(1)];if(!o)throw new D(4001,!1);return o}findOrReturn(t,e){let r=0;for(let o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}};function lP(n,t,e){if(typeof n=="string")return B(n);let r=n,{queryParams:o,fragment:i,routeConfig:a,url:d,outlet:u,params:p,data:g,title:h}=t;return Qn(qe(e,()=>r({params:p,data:g,queryParams:o,fragment:i,routeConfig:a,url:d,outlet:u,title:h})))}var hg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dP(n,t,e,r,o){let i=gv(n,t,e);return i.matched?(r=TO(t,r),aP(r,t,e,o).pipe(Y(a=>a===!0?i:P({},hg)))):B(i)}function gv(n,t,e){if(t.path==="**")return uP(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?P({},hg):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||z_)(e,n,t);if(!o)return P({},hg);let i={};Object.entries(o.posParams??{}).forEach(([d,u])=>{i[d]=u.path});let a=o.consumed.length>0?P(P({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function uP(n){return{matched:!0,parameters:n.length>0?W_(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function U_(n,t,e,r){return e.length>0&&gP(n,e,r)?{segmentGroup:new le(t,pP(r,new le(e,n.children))),slicedSegments:[]}:e.length===0&&mP(n,e,r)?{segmentGroup:new le(n.segments,fP(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new le(n.segments,n.children),slicedSegments:e}}function fP(n,t,e,r){let o={};for(let i of e)if(jl(n,t,i)&&!r[un(i)]){let a=new le([],{});o[un(i)]=a}return P(P({},r),o)}function pP(n,t){let e={};e[Z]=t;for(let r of n)if(r.path===""&&un(r)!==Z){let o=new le([],{});e[un(r)]=o}return e}function gP(n,t,e){return e.some(r=>jl(n,t,r)&&un(r)!==Z)}function mP(n,t,e){return e.some(r=>jl(n,t,r))}function jl(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function hP(n,t,e){return t.length===0&&!n.children[e]}var bg=class{};function bP(n,t,e,r,o,i,a="emptyOnly"){return new _g(n,t,e,r,o,a,i).recognize()}var _P=31,_g=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,o,i,a,d){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=a,this.urlSerializer=d,this.applyRedirects=new mg(this.urlSerializer,this.urlTree)}noMatchError(t){return new D(4002,`'${t.segmentGroup}'`)}recognize(){let t=U_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Y(({children:e,rootSnapshot:r})=>{let o=new Lt(r,e),i=new Ra("",o),a=ev(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(a),{state:i,tree:a}}))}match(t){let e=new ao([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Z,e).pipe(Y(r=>({children:r,rootSnapshot:e})),wt(r=>{if(r instanceof Va)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof La?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,i):this.processSegment(t,e,r,r.segments,o,!0,i).pipe(Y(a=>a instanceof Lt?[a]:[]))}processChildren(t,e,r,o){let i=[];for(let a of Object.keys(r.children))a==="primary"?i.unshift(a):i.push(a);return ve(i).pipe(mn(a=>{let d=r.children[a],u=AO(e,a);return this.processSegmentGroup(t,u,d,a,o)}),Ud((a,d)=>(a.push(...d),a)),or(null),jd(),Te(a=>{if(a===null)return Xo(r);let d=mv(a);return vP(d),B(d)}))}processSegment(t,e,r,o,i,a,d){return ve(e).pipe(mn(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,r,o,i,a,d).pipe(wt(p=>{if(p instanceof La)return B(null);throw p}))),Fn(u=>!!u),wt(u=>{if(fv(u))return hP(r,o,i)?B(new bg):Xo(r);throw u}))}processSegmentAgainstRoute(t,e,r,o,i,a,d,u){return un(r)!==a&&(a===Z||!jl(o,i,r))?Xo(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,a,u):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,r,i,a,u):Xo(o)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,i,a,d){let{matched:u,parameters:p,consumedSegments:g,positionalParamSegments:h,remainingSegments:M}=gv(e,o,i);if(!u)return Xo(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_P&&(this.allowRedirects=!1));let C=new ao(i,p,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,B_(o),un(o),o.component??o._loadedComponent??null,o,H_(o)),O=Rl(C,d,this.paramsInheritanceStrategy);return C.params=Object.freeze(O.params),C.data=Object.freeze(O.data),this.applyRedirects.applyRedirectCommands(g,o.redirectTo,h,C,t).pipe(Xe(F=>this.applyRedirects.lineralizeSegments(o,F)),Te(F=>this.processSegment(t,r,e,F.concat(M),a,!1,d)))}matchSegmentAgainstRoute(t,e,r,o,i,a){let d=dP(e,r,o,t,this.urlSerializer);return r.path==="**"&&(e.children={}),d.pipe(Xe(u=>u.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(Xe(({routes:p})=>{let g=r._loadedInjector??t,{parameters:h,consumedSegments:M,remainingSegments:C}=u,O=new ao(M,h,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,B_(r),un(r),r.component??r._loadedComponent??null,r,H_(r)),U=Rl(O,a,this.paramsInheritanceStrategy);O.params=Object.freeze(U.params),O.data=Object.freeze(U.data);let{segmentGroup:F,slicedSegments:L}=U_(e,M,C,p);if(L.length===0&&F.hasChildren())return this.processChildren(g,p,F,O).pipe(Y(Ct=>new Lt(O,Ct)));if(p.length===0&&L.length===0)return B(new Lt(O,[]));let Ie=un(r)===i;return this.processSegment(g,p,F,L,Ie?Z:i,!0,O).pipe(Y(Ct=>new Lt(O,Ct instanceof Lt?[Ct]:[])))}))):Xo(e)))}getChildConfig(t,e,r){return e.children?B({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?B({routes:e._loadedRoutes,injector:e._loadedInjector}):iP(t,e,r,this.urlSerializer).pipe(Te(o=>o?this.configLoader.loadChildren(t,e).pipe(Ae(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):cP(e))):B({routes:[],injector:t})}};function vP(n){n.sort((t,e)=>t.value.outlet===Z?-1:e.value.outlet===Z?1:t.value.outlet.localeCompare(e.value.outlet))}function yP(n){let t=n.value.routeConfig;return t&&t.path===""}function mv(n){let t=[],e=new Set;for(let r of n){if(!yP(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),e.add(o)):t.push(r)}for(let r of e){let o=mv(r.children);t.push(new Lt(r.value,o))}return t.filter(r=>!e.has(r))}function B_(n){return n.data||{}}function H_(n){return n.resolve||{}}function CP(n,t,e,r,o,i){return Te(a=>bP(n,t,e,r,a.extractedUrl,o,i).pipe(Y(({state:d,tree:u})=>X(P({},a),{targetSnapshot:d,urlAfterRedirects:u}))))}function xP(n,t){return Te(e=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return B(e);let i=new Set(o.map(u=>u.route)),a=new Set;for(let u of i)if(!a.has(u))for(let p of hv(u))a.add(p);let d=0;return ve(a).pipe(mn(u=>i.has(u)?MP(u,r,n,t):(u.data=Rl(u,u.parent,n).resolve,B(void 0))),Ae(()=>d++),Eo(1),Te(u=>d===a.size?B(e):xt))})}function hv(n){let t=n.children.map(e=>hv(e)).flat();return[n,...t]}function MP(n,t,e,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!sv(o)&&(i[ja]=o.title),Mi(()=>(n.data=Rl(n,n.parent,e).resolve,wP(i,n,t,r).pipe(Y(a=>(n._resolvedData=a,n.data=P(P({},n.data),a),null)))))}function wP(n,t,e,r){let o=ag(n);if(o.length===0)return B({});let i={};return ve(o).pipe(Te(a=>EP(n[a],t,e,r).pipe(Fn(),Ae(d=>{if(d instanceof si)throw Fl(new Cr,d);i[a]=d}))),Eo(1),Y(()=>i),wt(a=>fv(a)?xt:nr(a)))}function EP(n,t,e,r){let o=li(t)??r,i=di(n,o),a=i.resolve?i.resolve(t,e):qe(o,()=>i(t,e));return Qn(a)}function og(n){return Xe(t=>{let e=n(t);return e?ve(e).pipe(Y(()=>t)):B(t)})}var Mg=(()=>{class n{buildTitle(e){let r,o=e.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Z);return r}getResolvedTitleForRoute(e){return e.data[ja]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>x(bv),providedIn:"root"})}return n})(),bv=(()=>{class n extends Mg{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(j(R_))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wr=new R("",{providedIn:"root",factory:()=>({})}),uo=new R(""),Ul=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(bp);loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return B(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Qn(qe(e,()=>r.loadComponent())).pipe(Y(vv),Xe(yv),Ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Ar(()=>{this.componentLoaders.delete(r)})),i=new Mo(o,()=>new we).pipe(xo());return this.componentLoaders.set(r,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=_v(r,this.compiler,e,this.onLoadEndListener).pipe(Ar(()=>{this.childrenLoaders.delete(r)})),a=new Mo(i,()=>new we).pipe(xo());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _v(n,t,e,r){return Qn(qe(e,()=>n.loadChildren())).pipe(Y(vv),Xe(yv),Te(o=>o instanceof Uc||Array.isArray(o)?B(o):ve(t.compileModuleAsync(o))),Y(o=>{r&&r(n);let i,a,d=!1;return Array.isArray(o)?(a=o,d=!0):(i=o.create(e).injector,a=i.get(uo,[],{optional:!0,self:!0}).flat()),{routes:a.map(xg),injector:i}}))}function OP(n){return n&&typeof n=="object"&&"default"in n}function vv(n){return OP(n)?n.default:n}function yv(n){return B(n)}var Bl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>x(PP),providedIn:"root"})}return n})(),PP=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wg=new R(""),Eg=new R("");function Cv(n,t,e){let r=n.get(Eg),o=n.get(Ee);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(p=>setTimeout(p));let i,a=new Promise(p=>{i=p}),d=o.startViewTransition(()=>(i(),kP(n)));d.ready.catch(p=>{});let{onViewTransitionCreated:u}=r;return u&&qe(n,()=>u({transition:d,from:t,to:e})),a}function kP(n){return new Promise(t=>{Xi({read:()=>setTimeout(t)},{injector:n})})}var Og=new R(""),Hl=(()=>{class n{currentNavigation=_t(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new we;transitionAbortWithErrorSubject=new we;configLoader=x(Ul);environmentInjector=x(Ne);destroyRef=x(Gt);urlSerializer=x(co);rootContexts=x(lo);location=x(_r);inputBindingEnabled=x(Ua,{optional:!0})!==null;titleStrategy=x(Mg);options=x(wr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Bl);createViewTransition=x(wg,{optional:!0});navigationErrorHandler=x(Og,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new Pl(o)),r=o=>this.events.next(new kl(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;Ze(()=>{this.transitions?.next(X(P({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(e){return this.transitions=new Je(null),this.transitions.pipe(je(r=>r!==null),Xe(r=>{let o=!1;return B(r).pipe(Xe(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",yt.SupersededByNewNavigation),xt;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?X(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=i.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&d!=="reload")return this.events.next(new Nn(i.id,this.urlSerializer.serialize(i.rawUrl),"",oi.IgnoredSameUrlNavigation)),i.resolve(!1),xt;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return B(i).pipe(Xe(u=>(this.events.next(new An(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?xt:Promise.resolve(u))),CP(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ae(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(g=>(g.finalUrl=u.urlAfterRedirects,g));let p=new Ta(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:u,extractedUrl:p,source:g,restoredState:h,extras:M}=i,C=new An(u,this.urlSerializer.serialize(p),g,h);this.events.next(C);let O=iv(this.rootComponentType).snapshot;return this.currentTransition=r=X(P({},i),{targetSnapshot:O,urlAfterRedirects:p,extras:X(P({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(U=>(U.finalUrl=p,U)),B(r)}else return this.events.next(new Nn(i.id,this.urlSerializer.serialize(i.extractedUrl),"",oi.IgnoredByUrlHandlingStrategy)),i.resolve(!1),xt}),Ae(i=>{let a=new Ml(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(a)}),Y(i=>(this.currentTransition=r=X(P({},i),{guards:UO(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),KO(this.environmentInjector,i=>this.events.next(i)),Ae(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Fl(this.urlSerializer,i.guardsResult);let a=new wl(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(a)}),je(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",yt.GuardRejected),!1)),og(i=>{if(i.guards.canActivateChecks.length!==0)return B(i).pipe(Ae(a=>{let d=new El(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(d)}),Xe(a=>{let d=!1;return B(a).pipe(xP(this.paramsInheritanceStrategy,this.environmentInjector),Ae({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(a,"",yt.NoDataFromResolver)}}))}),Ae(a=>{let d=new Ol(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(d)}))}),og(i=>{let a=d=>{let u=[];if(d.routeConfig?.loadComponent){let p=li(d)??this.environmentInjector;u.push(this.configLoader.loadComponent(p,d.routeConfig).pipe(Ae(g=>{d.component=g}),Y(()=>{})))}for(let p of d.children)u.push(...a(p));return u};return xi(a(i.targetSnapshot.root)).pipe(or(null),Rn(1))}),og(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:i,targetSnapshot:a}=r,d=this.createViewTransition?.(this.environmentInjector,i.root,a.root);return d?ve(d).pipe(Y(()=>r)):B(r)}),Y(i=>{let a=RO(e.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=X(P({},i),{targetRouterState:a}),this.currentNavigation.update(d=>(d.targetRouterState=a,d)),r}),Ae(()=>{this.events.next(new Aa)}),jO(this.rootContexts,e.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Rn(1),As(new ne(i=>{let a=r.abortController.signal,d=()=>i.next();return a.addEventListener("abort",d),()=>a.removeEventListener("abort",d)}).pipe(je(()=>!o&&!r.targetRouterState),Ae(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",yt.Aborted)}))),Ae({next:i=>{o=!0,this.lastSuccessfulNavigation=Ze(this.currentNavigation),this.events.next(new $e(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),As(this.transitionAbortWithErrorSubject.pipe(Ae(i=>{throw i}))),Ar(()=>{o||this.cancelNavigationTransition(r,"",yt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),wt(i=>{if(this.destroyed)return r.resolve(!1),xt;if(o=!0,uv(i))this.events.next(new Qt(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),VO(i)?this.events.next(new ai(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Mr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let d=qe(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(d instanceof si){let{message:u,cancellationCode:p}=Fl(this.urlSerializer,d);this.events.next(new Qt(r.id,this.urlSerializer.serialize(r.extractedUrl),u,p)),this.events.next(new ai(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(a),i}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return xt}))}))}cancelNavigationTransition(e,r,o){let i=new Qt(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ze(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return e.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DP(n){return n!==ni}var xv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>x(SP),providedIn:"root"})}return n})(),Vl=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},SP=(()=>{class n extends Vl{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Pn(n)))(o||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mv=(()=>{class n{urlSerializer=x(co);options=x(wr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(_r);urlHandlingStrategy=x(Bl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Tn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:o}){let i=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,a=o??i;return a instanceof Tn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:o}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=e):this.rawUrlTree=o}routerState=iv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>x(IP),providedIn:"root"})}return n})(),IP=(()=>{class n extends Mv{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof An?this.updateStateMemento():e instanceof Nn?this.commitTransition(r):e instanceof Ta?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Aa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Qt&&e.code!==yt.SupersededByNewNavigation&&e.code!==yt.Redirect?this.restoreHistory(r):e instanceof Mr?this.restoreHistory(r,!0):e instanceof $e&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:o}){let{replaceUrl:i,state:a}=r;if(this.location.isCurrentPathEqualTo(e)||i){let d=this.browserPageId,u=P(P({},a),this.generateNgRouterState(o,d));this.location.replaceState(e,"",u)}else{let d=P(P({},a),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",d)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&i===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Pn(n)))(o||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zl(n,t){n.events.pipe(je(e=>e instanceof $e||e instanceof Qt||e instanceof Mr||e instanceof Nn),Y(e=>e instanceof $e||e instanceof Nn?0:(e instanceof Qt?e.code===yt.Redirect||e.code===yt.SupersededByNewNavigation:!1)?2:1),je(e=>e!==2),Rn(1)).subscribe(()=>{t()})}var TP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},fe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(op);stateManager=x(Mv);options=x(wr,{optional:!0})||{};pendingTasks=x(Cn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(Hl);urlSerializer=x(co);location=x(_r);urlHandlingStrategy=x(Bl);injector=x(Ne);_events=new we;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(xv);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(uo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Ua,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Ze(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Qt&&r.code!==yt.Redirect&&r.code!==yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $e)this.navigated=!0;else if(r instanceof ai){let a=r.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),u=P({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||DP(o.source)},a);this.scheduleNavigation(d,ni,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}IO(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ni,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,o)=>{this.navigateToSyncWithBrowser(e,o,r)})}navigateToSyncWithBrowser(e,r,o){let i={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=P({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(i.state=u)}let d=this.parseUrl(e);this.scheduleNavigation(d,r,a,i).catch(u=>{this.disposed||this.injector.get(bt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ze(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(xg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:o,queryParams:i,fragment:a,queryParamsHandling:d,preserveFragment:u}=r,p=u?this.currentUrlTree.fragment:a,g=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":g=P(P({},this.currentUrlTree.queryParams),i);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=i||null}g!==null&&(g=this.removeEmptyProps(g));let h;try{let M=o?o.snapshot:this.routerState.snapshot.root;h=tv(M)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return nv(h,e,g,p??null)}navigateByUrl(e,r={skipLocationChange:!1}){let o=xr(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,ni,null,r)}navigate(e,r={skipLocationChange:!1}){return NP(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Un(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,r){let o;if(r===!0?o=P({},TP):r===!1?o=P({},AP):o=r,xr(e))return F_(this.currentUrlTree,e,o);let i=this.parseUrl(e);return F_(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(e,r,o,i,a){if(this.disposed)return Promise.resolve(!1);let d,u,p;a?(d=a.resolve,u=a.reject,p=a.promise):p=new Promise((h,M)=>{d=h,u=M});let g=this.pendingTasks.add();return zl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:d,reject:u,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NP(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new D(4008,!1)}var Tt=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=_t(null);get href(){return Ze(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new we;applicationErrorHandler=x(bt);options=x(wr,{optional:!0});constructor(e,r,o,i,a,d){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=a,this.locationStrategy=d,this.reactiveHref.set(x(new $c("href"),{optional:!0}));let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,r=o=>o==="merge"||o==="preserve";e||=r(this.queryParamsHandling),e||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(o=>{o instanceof $e&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,o,i,a){let d=this.urlTree;if(d===null||this.isAnchorElement&&(e!==0||r||o||i||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,u)?.catch(p=>{this.applicationErrorHandler(p)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,e,r):o.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:xr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(S(fe),S(Ke),Ki("tabindex"),S(qt),S(st),S(cn))};static \u0275dir=ge({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&_("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&kn("href",o.reactiveHref(),Rf)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",br],skipLocationChange:[2,"skipLocationChange","skipLocationChange",br],replaceUrl:[2,"replaceUrl","replaceUrl",br],routerLink:"routerLink"},features:[On]})}return n})(),za=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Re;constructor(e,r,o,i,a){this.router=e,this.element=r,this.renderer=o,this.cdr=i,this.link=a,this.routerEventsSubscription=e.events.subscribe(d=>{d instanceof $e&&this.update()})}ngAfterContentInit(){B(this.links.changes,B(null)).pipe(rr()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ve(e).pipe(rr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=RP(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?e.isActive(i,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(S(fe),S(st),S(qt),S(Yn),S(Tt,8))};static \u0275dir=ge({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,i){if(r&1&&cp(i,Tt,5),r&2){let a;lp(a=dp())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[On]})}return n})();function RP(n){return!!n.paths}var Ha=class{};var wv=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,o,i){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(je(e=>e instanceof $e),mn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=$o(i.providers,e,`Route: ${i.path}`));let a=i._injector??e,d=i._loadedInjector??a;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(a,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(d,i.children??i._loadedRoutes))}return ve(o).pipe(rr())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(e,r):o=B(null);let i=o.pipe(Te(a=>a===null?B(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(e,r);return ve([i,a]).pipe(rr())}else return i})}static \u0275fac=function(r){return new(r||n)(j(fe),j(Ne),j(Ha),j(Ul))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ev=new R(""),FP=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ni;restoredId=0;store={};constructor(e,r,o,i,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof An?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof $e?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Nn&&e.code===oi.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof ii))return;let r={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,r):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>ye(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new ii(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Xf()};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function kg(n,...t){return hn([{provide:uo,multi:!0,useValue:n},[],{provide:Ke,useFactory:Ov,deps:[fe]},{provide:ra,multi:!0,useFactory:Pv},t.map(e=>e.\u0275providers)])}function Ov(n){return n.routerState.root}function $a(n,t){return{\u0275kind:n,\u0275providers:t}}function Pv(){let n=x(Et);return t=>{let e=n.get(Gn);if(t!==e.components[0])return;let r=n.get(fe),o=n.get(kv);n.get(Dg)===1&&r.initialNavigation(),n.get(Iv,null,{optional:!0})?.setUpPreloading(),n.get(Ev,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var kv=new R("",{factory:()=>new we}),Dg=new R("",{providedIn:"root",factory:()=>1});function Dv(){let n=[{provide:If,useValue:!0},{provide:Dg,useValue:0},Bc(()=>{let t=x(Et);return t.get(kp,Promise.resolve()).then(()=>new Promise(r=>{let o=t.get(fe),i=t.get(kv);zl(o,()=>{r(!0)}),t.get(Hl).afterPreactivation=()=>(r(!0),i.closed?B(void 0):i),o.initialNavigation()}))})];return $a(2,n)}function Sv(){let n=[Bc(()=>{x(fe).setUpLocationChangeListener()}),{provide:Dg,useValue:2}];return $a(3,n)}var Iv=new R("");function Tv(n){return $a(0,[{provide:Iv,useExisting:wv},{provide:Ha,useExisting:n}])}function Av(){return $a(8,[yg,{provide:Ua,useExisting:yg}])}function Nv(n){eo("NgRouterViewTransitions");let t=[{provide:wg,useValue:Cv},{provide:Eg,useValue:P({skipNextTransition:!!n?.skipInitialTransition},n)}];return $a(9,t)}var Rv=[_r,{provide:co,useClass:Cr},fe,lo,{provide:Ke,useFactory:Ov,deps:[fe]},Ul,[]],Jn=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[Rv,[],{provide:uo,multi:!0,useValue:e},[],r?.errorHandler?{provide:Og,useValue:r.errorHandler}:[],{provide:wr,useValue:r||{}},r?.useHash?VP():jP(),LP(),r?.preloadingStrategy?Tv(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?UP(r):[],r?.bindToComponentInputs?Av().\u0275providers:[],r?.enableViewTransitions?Nv().\u0275providers:[],BP()]}}static forChild(e){return{ngModule:n,providers:[{provide:uo,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=Ut({})}return n})();function LP(){return{provide:Ev,useFactory:()=>{let n=x(m_),t=x(Pe),e=x(wr),r=x(Hl),o=x(co);return e.scrollOffset&&n.setOffset(e.scrollOffset),new FP(o,r,n,t,e)}}}function VP(){return{provide:cn,useClass:Rp}}function jP(){return{provide:cn,useClass:Yc}}function UP(n){return[n.initialNavigation==="disabled"?Sv().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Dv().\u0275providers:[]]}var Pg=new R("");function BP(){return[{provide:Pg,useFactory:Pv},{provide:ra,multi:!0,useExisting:Pg}]}var Wv=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(S(qt),S(st))};static \u0275dir=ge({type:n})}return n})(),Jl=(()=>{class n extends Wv{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Pn(n)))(o||n)}})();static \u0275dir=ge({type:n,features:[Rt]})}return n})(),Ka=new R("");var HP={provide:Ka,useExisting:jt(()=>xe),multi:!0};function zP(){let n=Yt()?Yt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var $P=new R(""),xe=(()=>{class n extends Wv{_compositionMode;_composing=!1;constructor(e,r,o){super(e,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!zP())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(S(qt),S(st),S($P,8))};static \u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&_("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[qn([HP]),Rt]})}return n})();function WP(n){return n==null||GP(n)===0}function GP(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Tg=new R(""),Gv=new R("");function qP(n){return WP(n.value)?{required:!0}:null}function Fv(n){return null}function qv(n){return n!=null}function Yv(n){return hr(n)?ve(n):n}function Zv(n){let t={};return n.forEach(e=>{t=e!=null?P(P({},t),e):t}),Object.keys(t).length===0?null:t}function Qv(n,t){return t.map(e=>e(n))}function YP(n){return!n.validate}function Kv(n){return n.map(t=>YP(t)?t:e=>t.validate(e))}function ZP(n){if(!n)return null;let t=n.filter(qv);return t.length==0?null:function(e){return Zv(Qv(e,t))}}function Ag(n){return n!=null?ZP(Kv(n)):null}function QP(n){if(!n)return null;let t=n.filter(qv);return t.length==0?null:function(e){let r=Qv(e,t).map(Yv);return Vd(r).pipe(Y(Zv))}}function Ng(n){return n!=null?QP(Kv(n)):null}function Lv(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function KP(n){return n._rawValidators}function JP(n){return n._rawAsyncValidators}function Sg(n){return n?Array.isArray(n)?n:[n]:[]}function Wl(n,t){return Array.isArray(n)?n.includes(t):n===t}function Vv(n,t){let e=Sg(t);return Sg(n).forEach(o=>{Wl(e,o)||e.push(o)}),e}function jv(n,t){return Sg(t).filter(e=>!Wl(n,e))}var Gl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ag(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ng(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},gi=class extends Gl{name;get formDirective(){return null}get path(){return null}},Qa=class extends Gl{_parent=null;name=null;valueAccessor=null},ql=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},XP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},WU=X(P({},XP),{"[class.ng-submitted]":"isSubmitted"}),De=(()=>{class n extends ql{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(S(Qa,2))};static \u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&W("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Rt]})}return n})(),Jv=(()=>{class n extends ql{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(S(gi,10))};static \u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&W("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Rt]})}return n})();var Wa="VALID",$l="INVALID",fi="PENDING",Ga="DISABLED",Er=class{},Yl=class extends Er{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Ya=class extends Er{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Za=class extends Er{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},pi=class extends Er{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Ig=class extends Er{source;constructor(t){super(),this.source=t}},Zl=class extends Er{source;constructor(t){super(),this.source=t}};function Xv(n){return(Xl(n)?n.validators:n)||null}function ek(n){return Array.isArray(n)?Ag(n):n||null}function ey(n,t){return(Xl(t)?t.asyncValidators:n)||null}function tk(n){return Array.isArray(n)?Ng(n):n||null}function Xl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function nk(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new D(1e3,"");if(!r[e])throw new D(1001,"")}function rk(n,t,e){n._forEachChild((r,o)=>{if(e[o]===void 0)throw new D(1002,"")})}var Ql=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ze(this.statusReactive)}set status(t){Ze(()=>this.statusReactive.set(t))}_status=Yo(()=>this.statusReactive());statusReactive=_t(void 0);get valid(){return this.status===Wa}get invalid(){return this.status===$l}get pending(){return this.status==fi}get disabled(){return this.status===Ga}get enabled(){return this.status!==Ga}errors;get pristine(){return Ze(this.pristineReactive)}set pristine(t){Ze(()=>this.pristineReactive.set(t))}_pristine=Yo(()=>this.pristineReactive());pristineReactive=_t(!0);get dirty(){return!this.pristine}get touched(){return Ze(this.touchedReactive)}set touched(t){Ze(()=>this.touchedReactive.set(t))}_touched=Yo(()=>this.touchedReactive());touchedReactive=_t(!1);get untouched(){return!this.touched}_events=new we;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Vv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Vv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(jv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(jv(t,this._rawAsyncValidators))}hasValidator(t){return Wl(this._rawValidators,t)}hasAsyncValidator(t){return Wl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(X(P({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Za(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new Za(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(X(P({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Ya(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new Ya(!0,r))}markAsPending(t={}){this.status=fi;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new pi(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(X(P({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ga,this.errors=null,this._forEachChild(o=>{o.disable(X(P({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yl(this.value,r)),this._events.next(new pi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(P({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Wa,this._forEachChild(r=>{r.enable(X(P({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(X(P({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wa||this.status===fi)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yl(this.value,e)),this._events.next(new pi(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(X(P({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ga:Wa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=fi,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let r=Yv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new pi(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Ga:this.errors?$l:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fi)?fi:this._anyControlsHaveStatus($l)?$l:Wa}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new Ya(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Za(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Xl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=ek(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=tk(this._rawAsyncValidators)}},Kl=class extends Ql{constructor(t,e,r){super(Xv(e),ey(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){rk(this,!0,t),Object.keys(t).forEach(r=>{nk(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new Zl(this))}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Rg=new R("",{providedIn:"root",factory:()=>Fg}),Fg="always";function ok(n,t){return[...t.path,n]}function ty(n,t,e=Fg){ny(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),ak(n,t),ck(n,t),sk(n,t),ik(n,t)}function Uv(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ik(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function ny(n,t){let e=KP(n);t.validator!==null?n.setValidators(Lv(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=JP(n);t.asyncValidator!==null?n.setAsyncValidators(Lv(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();Uv(t._rawValidators,o),Uv(t._rawAsyncValidators,o)}function ak(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ry(n,t)})}function sk(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ry(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function ry(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ck(n,t){let e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function lk(n,t){n==null,ny(n,t)}function dk(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function uk(n){return Object.getPrototypeOf(n.constructor)===Jl}function fk(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function pk(n,t){if(!t)return null;Array.isArray(t);let e,r,o;return t.forEach(i=>{i.constructor===xe?e=i:uk(i)?r=i:o=i}),o||r||e||null}var gk={provide:gi,useExisting:jt(()=>Lg)},qa=Promise.resolve(),Lg=(()=>{class n extends gi{callSetDisabledState;get submitted(){return Ze(this.submittedReactive)}_submitted=Yo(()=>this.submittedReactive());submittedReactive=_t(!1);_directives=new Set;form;ngSubmit=new Re;options;constructor(e,r,o){super(),this.callSetDisabledState=o,this.form=new Kl({},Ag(e),Ng(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){qa.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),ty(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){qa.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){qa.then(()=>{let r=this._findContainer(e.path),o=new Kl({});lk(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){qa.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){qa.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),fk(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Ig(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||n)(S(Tg,10),S(Gv,10),S(Rg,8))};static \u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&_("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[qn([gk]),Rt]})}return n})();function Bv(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Hv(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var mk=class extends Ql{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(Xv(e),ey(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Hv(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new Zl(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Bv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Bv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Hv(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var hk={provide:Qa,useExisting:jt(()=>Oe)},zv=Promise.resolve(),Oe=(()=>{class n extends Qa{_changeDetectorRef;callSetDisabledState;control=new mk;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Re;constructor(e,r,o,i,a,d){super(),this._changeDetectorRef=a,this.callSetDisabledState=d,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=pk(this,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),dk(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ty(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){zv.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,o=r!==0&&br(r);zv.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ok(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(S(gi,9),S(Tg,10),S(Gv,10),S(Ka,10),S(Yn,8),S(Rg,8))};static \u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[qn([hk]),Rt,On]})}return n})();var oy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),bk={provide:Ka,useExisting:jt(()=>Ja),multi:!0},Ja=(()=>{class n extends Jl{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Pn(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&_("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[qn([bk]),Rt]})}return n})();var _k={provide:Ka,useExisting:jt(()=>Or),multi:!0};function iy(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function vk(n){return n.split(":")[0]}var Or=(()=>{class n extends Jl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=x(Gn).injector;destroyRef=x(Gt);cdr=x(Yn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Xi({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let r=this._getOptionId(e),o=iy(r,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=vk(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Pn(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&_("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qn([_k]),Rt]})}return n})(),Pr=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(iy(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(S(st),S(qt),S(Or,9))};static \u0275dir=ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),yk={provide:Ka,useExisting:jt(()=>ay),multi:!0};function $v(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Ck(n){return n.split(":")[0]}var ay=(()=>{class n extends Jl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let o=e.map(i=>this._getOptionId(i));r=(i,a)=>{i._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let a=i;for(let d=0;d<a.length;d++){let u=a[d],p=this._getOptionValue(u.value);o.push(p)}}else{let a=r.options;for(let d=0;d<a.length;d++){let u=a[d];if(u.selected){let p=this._getOptionValue(u.value);o.push(p)}}}this.value=o,e(o)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=Ck(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Pn(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&_("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qn([yk]),Rt]})}return n})(),kr=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,o){this._element=e,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue($v(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue($v(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(S(st),S(qt),S(ay,9))};static \u0275dir=ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var xk=(()=>{class n{_validator=Fv;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Fv,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ge({type:n,features:[On]})}return n})();var Mk={provide:Tg,useExisting:jt(()=>Xn),multi:!0};var Xn=(()=>{class n extends xk{required;inputName="required";normalizeInput=br;createValidator=e=>qP;enabled(e){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Pn(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&kn("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[qn([Mk]),Rt]})}return n})();var wk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=Ut({})}return n})();var Se=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Rg,useValue:e.callSetDisabledState??Fg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=an({type:n});static \u0275inj=Ut({imports:[wk]})}return n})();var Ek=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",de={apiUrl:Ek?"http://localhost:3000/api":"https://entrepotmanager.com/api"};var nt=class n{constructor(t,e){this.http=t;this.router=e}apiUrl=`${de.apiUrl}/auth`;currentUserKey="currentUser";login(t){return this.http.post(`${this.apiUrl}/login`,t).pipe(Ae(e=>{sessionStorage.setItem(this.currentUserKey,JSON.stringify(e))}))}logout(){sessionStorage.removeItem(this.currentUserKey),this.router.navigate(["/login"])}getCurrentUser(){let t=sessionStorage.getItem(this.currentUserKey);return t?JSON.parse(t):null}isAuthenticated(){return!!this.getCurrentUser()}verifySession(){let t=this.getCurrentUser();return!t||!t.id?B(!1):this.http.get(`${de.apiUrl}/users/${t.id}`).pipe(Y(e=>e&&(e.status==="Actif"||e.status==="actif")?(sessionStorage.setItem(this.currentUserKey,JSON.stringify(e)),!0):(console.warn("Session invalide detect\xE9e lors du refresh:",e),this.logout(),!1)),wt(e=>(console.warn("Session verification failed but keeping session active (optimistic):",e),B(!0))))}static \u0275fac=function(e){return new(e||n)(j(It),j(fe))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};function Ok(n,t){if(n&1&&(s(0,"div",24)(1,"div",25),l(2),c()()),n&2){let e=m();f(2),k(" ",e.errorMessage," ")}}var ed=class n{constructor(t,e){this.router=t;this.authService=e}username="";password="";showPassword=!1;errorMessage=null;isLoading=!1;togglePassword(){this.showPassword=!this.showPassword}onSubmit(){if(this.errorMessage=null,!this.username.trim()||!this.password){this.errorMessage="Veuillez saisir votre identifiant et votre mot de passe.";return}this.isLoading=!0,this.authService.login({username:this.username,password:this.password}).subscribe({next:t=>{this.isLoading=!1,t.role==="admin"?this.router.navigate(["/dashboard/dashboard-main"]):t.entrepotId?this.router.navigate(["/userdashboard/userdashboardmain"]):(this.errorMessage="Votre compte n'a pas d'entrep\xF4t assign\xE9. Contactez un administrateur.",this.authService.logout())},error:t=>{this.isLoading=!1,t.status===401?this.errorMessage="Identifiant ou mot de passe incorrect.":t.status===403?this.errorMessage="Compte inactif ou suspendu.":(this.errorMessage="Erreur de connexion serveur.",console.error(t))}})}static \u0275fac=function(e){return new(e||n)(S(fe),S(nt))};static \u0275cmp=te({type:n,selectors:[["app-login"]],decls:40,vars:5,consts:[[1,"login-root"],[1,"login-bg"],["src","https://lh3.googleusercontent.com/aida-public/AB6AXuAtT7imjTahttl-toNOm7jB_l_srQeiFcr4Iqhkw_LhsoyZWr9Ow36pmMxJQOwqoG0-sQAUQWRHOk63_ccsz1atw33D6gd7W5FGe97_I6X1vcdUiOE1s4IVP8tWqXTQR95DZqmizDGoe0rRcL9xcwMNtTWMtkj-LjlneEiNrKRKr5Mw6-vFX2AHnJOgM6vK6SYerEdt5faBVyYJjksSFwydSAWN-rhud1RuvzuZ4PoGJVIEKrSuJ-PCDEpzd00nfQlLtnQhyqIaLedo","alt","Illustration abstraite d'un camion et d'un entrep\xF4t"],[1,"login-card"],[1,"login-card-content"],[1,"login-header"],[1,"material-symbols-outlined","notranslate","login-header-icon"],[1,"login-title"],[1,"login-subtitle"],[1,"login-form",3,"ngSubmit"],["style","margin-bottom: 12px",4,"ngIf"],[1,"form-group"],["for","username",1,"form-label"],[2,"color","red"],[1,"input-wrapper"],[1,"material-symbols-outlined","notranslate","input-icon"],["id","username","type","text","placeholder","Saisissez votre identifiant","autocomplete","username","name","username","required","",1,"input-field",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["id","password","placeholder","Saisissez votre mot de passe","autocomplete","current-password","name","password","required","",1,"input-field",3,"ngModelChange","type","ngModel"],["type","button","aria-label","Afficher ou masquer le mot de passe",1,"password-toggle",3,"click"],[1,"material-symbols-outlined","notranslate"],["type","submit",1,"btn-submit"],[1,"forgot-password"],["href","#",3,"click"],[2,"margin-bottom","12px"],[1,"input-field",2,"border-color","rgba(239, 68, 68, 0.6)"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"div",1),H(2,"img",2),c(),s(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),l(7," local_shipping "),c(),s(8,"h1",7),l(9,"Gestion Entrep\xF4ts"),c()(),s(10,"h2",8),l(11,"Connexion"),c(),s(12,"form",9),_("ngSubmit",function(){return r.onSubmit()}),E(13,Ok,3,1,"div",10),s(14,"div",11)(15,"label",12),l(16,"Identifiant "),s(17,"span",13),l(18,"*"),c()(),s(19,"div",14)(20,"span",15),l(21,"person"),c(),s(22,"input",16),A("ngModelChange",function(i){return N(r.username,i)||(r.username=i),i}),c()()(),s(23,"div",11)(24,"label",17),l(25,"Mot de passe "),s(26,"span",13),l(27,"*"),c()(),s(28,"div",14)(29,"span",15),l(30,"lock"),c(),s(31,"input",18),A("ngModelChange",function(i){return N(r.password,i)||(r.password=i),i}),c(),s(32,"button",19),_("click",function(){return r.togglePassword()}),s(33,"span",20),l(34),c()()()(),s(35,"button",21),l(36,"Se connecter"),c(),s(37,"div",22)(38,"a",23),_("click",function(i){return i.preventDefault()}),l(39,"Mot de passe oubli\xE9 ?"),c()()()()()()),e&2&&(f(13),b("ngIf",r.errorMessage),f(9),T("ngModel",r.username),f(9),b("type",r.showPassword?"text":"password"),T("ngModel",r.password),f(3),k(" ",r.showPassword?"visibility_off":"visibility"," "))},dependencies:[ae,me,Se,oy,xe,De,Jv,Xn,Oe,Lg],styles:["[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1e70c1;--bg-light: #f4f7fa;--bg-dark: #0f172a;--card-bg: #ffffff;--text-main: #1e293b;--text-muted: #475569;--input-border: #cbd5e1;--input-bg: #f8fafc}body[_ngcontent-%COMP%]{font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--bg-light);color:var(--text-main);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--bg-dark);color:#f1f5f9;--card-bg: #1e293b;--text-main: #f8fafc;--text-muted: #94a3b8;--input-border: #475569;--input-bg: #0f172a}.login-root[_ngcontent-%COMP%]{position:relative;min-height:100vh;width:100%;display:flex;align-items:center;justify-content:center;padding:1.5rem;z-index:10}.login-bg[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1}.login-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;opacity:.1}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;border-radius:1rem;background-color:#fff!important;background:#fff!important;opacity:1!important;backdrop-filter:none!important;-webkit-backdrop-filter:none!important;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;border:1px solid #e2e8f0;overflow:hidden;animation:_ngcontent-%COMP%_cardEntrance .3s ease-out}body.dark[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{background-color:#1e293b!important;background:#1e293b!important;border-color:#334155;box-shadow:0 20px 25px -5px #0006}@keyframes _ngcontent-%COMP%_cardEntrance{0%{opacity:0;transform:translateY(10px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.login-card-content[_ngcontent-%COMP%]{padding:2.25rem 2rem}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.login-header-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--primary);display:inline-block;padding:.85rem;background-color:#eff6ff;border-radius:1rem;margin-bottom:.75rem}body.dark[_ngcontent-%COMP%]   .login-header-icon[_ngcontent-%COMP%]{background-color:#2b8cee1a}.login-title[_ngcontent-%COMP%]{font-size:1.625rem;font-weight:800;color:#0f172a;letter-spacing:-.025em;margin-bottom:.25rem}body.dark[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{color:#f8fafc}.login-subtitle[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#475569}body.dark[_ngcontent-%COMP%]   .login-subtitle[_ngcontent-%COMP%]{color:#94a3b8}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem}.form-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:#1e293b}body.dark[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#f1f5f9}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;font-size:1.2rem;color:#64748b;pointer-events:none}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:.65rem;background:transparent;border:none;width:2.25rem;height:2.25rem;cursor:pointer;color:#64748b;display:flex;align-items:center;justify-content:center;border-radius:.5rem;transition:all .2s ease}.password-toggle[_ngcontent-%COMP%]:hover{color:var(--primary);background-color:#eff6ff}body.dark[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{background-color:#2b8cee1a}.input-field[_ngcontent-%COMP%]{width:100%;height:3.25rem;padding:0 3rem;border-radius:.625rem;border:1.5px solid #cbd5e1;background-color:#fff;color:#0f172a;font-size:.9375rem;font-weight:600;transition:all .15s ease;outline:none}body.dark[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{background-color:#0f172a;border-color:#475569;color:#f8fafc}.input-field[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:500}.input-field[_ngcontent-%COMP%]:focus{border-color:var(--primary);background-color:#fff;box-shadow:0 0 0 3px #2b8cee26}body.dark[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:focus{background-color:#0f172a}.input-field[_ngcontent-%COMP%]:focus + .input-icon[_ngcontent-%COMP%]{color:var(--primary)}.btn-submit[_ngcontent-%COMP%]{margin-top:.5rem;display:inline-flex;align-items:center;justify-content:center;width:100%;height:3.25rem;border-radius:.625rem;border:none;background-color:var(--primary);color:#fff;font-size:1rem;font-weight:800;cursor:pointer;transition:all .15s ease;box-shadow:0 4px 6px -1px #0000001a}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#1a63b0!important;color:#fff!important;transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.btn-submit[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-submit[_ngcontent-%COMP%]:focus-visible{outline:2px solid #ffffff;outline-offset:3px}.forgot-password[_ngcontent-%COMP%]{text-align:center;margin-top:.5rem}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:var(--primary);text-decoration:none;transition:color .2s ease}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--primary-hover)}@media (max-width: 480px){.login-card-content[_ngcontent-%COMP%]{padding:1.75rem 1.25rem}.login-card[_ngcontent-%COMP%]{max-width:360px}.login-card[_ngcontent-%COMP%]{border-radius:1rem}.login-title[_ngcontent-%COMP%]{font-size:1.5rem}.login-subtitle[_ngcontent-%COMP%]{font-size:1.2rem}}"]})};var ft=class n{constructor(t){this.http=t}apiUrl=`${de.apiUrl}/trucks`;getTrucks(t){let e=new dn;return t!=null&&(e=e.set("entrepotId",t.toString())),this.http.get(this.apiUrl,{params:e})}createTruck(t){return this.http.post(this.apiUrl,t)}updateTruck(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteTruck(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(j(It))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};var Me=class n{constructor(t){this.http=t}apiUrl=`${de.apiUrl}/warehouses`;getWarehouses(){return this.http.get(this.apiUrl)}getWarehouse(t){return this.http.get(`${this.apiUrl}/${t}`)}create(t){let e=new FormData;return e.append("name",t.name),e.append("location",t.location),t.imageFile&&e.append("image",t.imageFile),this.http.post(this.apiUrl,e)}update(t,e){let r=new FormData;return r.append("name",e.name),r.append("location",e.location),e.imageFile&&r.append("image",e.imageFile),this.http.put(`${this.apiUrl}/${t}`,r)}delete(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(j(It))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};function Pk(n,t){if(n&1){let e=V();s(0,"div",35),_("click",function(){v(e);let o=m();return y(o.closeSidebar())}),c()}}function kk(n,t){if(n&1){let e=V();s(0,"div",36),_("click",function(){v(e);let o=m();return y(o.cancelLogout())}),s(1,"div",37),_("click",function(o){return v(e),y(o.stopPropagation())}),s(2,"div",38)(3,"h2",39),l(4,"Confirmation"),c(),s(5,"button",40),_("click",function(){v(e);let o=m();return y(o.cancelLogout())}),s(6,"span",12),l(7,"close"),c()()(),s(8,"div",41)(9,"p"),l(10,"\xCAtes-vous s\xFBr de vouloir vous d\xE9connecter ?"),c()(),s(11,"div",42)(12,"button",43),_("click",function(){v(e);let o=m();return y(o.cancelLogout())}),l(13,"Annuler"),c(),s(14,"button",44),_("click",function(){v(e);let o=m();return y(o.logout())}),l(15,"D\xE9connexion"),c()()()()}}function Dk(n,t){n&1&&H(0,"span",45)}function Sk(n,t){if(n&1&&(s(0,"span",53),l(1),c()),n&2){let e=m(2);f(),w(e.notifCount)}}function Ik(n,t){n&1&&(s(0,"div",54)(1,"span",12),l(2,"notifications_off"),c(),s(3,"p"),l(4,"Aucune notification"),c()())}function Tk(n,t){n&1&&(s(0,"span",12),l(1,"local_shipping"),c())}function Ak(n,t){n&1&&(s(0,"span",12),l(1,"inventory_2"),c())}function Nk(n,t){if(n&1){let e=V();s(0,"div",55),_("click",function(){let o=v(e).$implicit,i=m(2);return y(i.openNotification(o))}),s(1,"div",56),E(2,Tk,2,0,"span",57)(3,Ak,2,0,"span",57),c(),s(4,"div",58)(5,"div",59)(6,"span",60),l(7),c(),s(8,"span",61),l(9),oe(10,"date"),c()(),s(11,"p",62),l(12),c()()()}if(n&2){let e=t.$implicit;f(2),b("ngIf",e.type==="truck"),f(),b("ngIf",e.type==="empotage"),f(4),w(e.title),f(2),w(ce(10,5,e.time,"HH:mm")),f(3),w(e.subtitle)}}function Rk(n,t){if(n&1&&(s(0,"div",46)(1,"div",47)(2,"h3",48),l(3,"Notifications"),c(),E(4,Sk,2,1,"span",49),c(),s(5,"div",50),E(6,Ik,5,0,"div",51)(7,Nk,13,8,"div",52),c()()),n&2){let e=m();f(4),b("ngIf",e.notifCount>0),f(2),b("ngIf",e.notifications.length===0),f(),b("ngForOf",e.notifications)}}function Fk(n,t){if(n&1){let e=V();s(0,"div",63),_("click",function(o){return v(e),y(o.stopPropagation())}),s(1,"div",64),l(2," ADMINISTRATION "),c(),s(3,"a",65),_("click",function(){v(e);let o=m();return y(o.showUserMenu=!1)}),s(4,"span",12),l(5,"dashboard"),c(),l(6," Tableau de bord "),c(),s(7,"a",65),_("click",function(){v(e);let o=m();return y(o.showUserMenu=!1)}),s(8,"span",12),l(9,"manage_accounts"),c(),l(10," Utilisateurs "),c(),s(11,"a",65),_("click",function(){v(e);let o=m();return y(o.showUserMenu=!1)}),s(12,"span",12),l(13,"history_edu"),c(),l(14," Historique "),c(),s(15,"a",65),_("click",function(){v(e);let o=m();return y(o.showUserMenu=!1)}),s(16,"span",12),l(17,"inventory_2"),c(),l(18," Empotage "),c(),H(19,"div",66),s(20,"a",67),_("click",function(o){v(e);let i=m();return o.preventDefault(),y(i.requestLogout())}),s(21,"span",12),l(22,"logout"),c(),l(23," D\xE9connexion "),c()()}n&2&&(f(3),b("routerLink","/dashboard/dashboard-main"),f(4),b("routerLink","/dashboard/userManager"),f(4),b("routerLink","/dashboard/historique"),f(4),b("routerLink","/dashboard/adminEmpotageMain"))}var nd=class n{constructor(t,e,r,o){this.router=t;this.truckService=e;this.warehouseService=r;this.authService=o}isSidebarOpen=!1;notifCount=0;showNotifDropdown=!1;showUserMenu=!1;showLogoutConfirm=!1;notifications=[];userName="Marc Alex";userRoleLabel="Administrateur";toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}closeSidebar(){this.isSidebarOpen=!1}requestLogout(){this.showLogoutConfirm=!0}cancelLogout(){this.showLogoutConfirm=!1}logout(){this.showLogoutConfirm=!1,this.authService.logout()}pollingInterval;ngOnInit(){this.loadCurrentUser(),this.loadNotifications(),this.pollingInterval=setInterval(()=>this.loadNotifications(),15e3),this.router.events.pipe(je(t=>t instanceof $e)).subscribe(()=>{this.closeSidebar()})}loadCurrentUser(){let t=sessionStorage.getItem("currentUser");if(t)try{let e=JSON.parse(t);this.userName=e.nom||"Administrateur",this.userRoleLabel=e.role==="admin"?"Administrateur":e.role||"Admin"}catch{}}ngOnDestroy(){this.pollingInterval&&clearInterval(this.pollingInterval)}loadNotifications(){this.warehouseService.getWarehouses().subscribe({next:t=>{this.truckService.getTrucks().subscribe({next:e=>{let r=e.filter(o=>o.statut==="En attente"||o.unreadForAdmin===!0).map(o=>{let i=t.find(a=>a.id===o.entrepotId);return{id:o.id,title:o.immatriculation,subtitle:i?i.name:"Entrep\xF4t inconnu",time:o.heureArrivee,type:"truck",sourceId:o.id,original:o}});fetch(`${de.apiUrl}/notifications`).then(o=>o.json()).then(o=>{let i=o.map(a=>({id:a.id,title:"Empotage",subtitle:a.message,time:a.createdAt,type:"empotage",sourceId:a.id,original:a}));this.notifications=[...r,...i].sort((a,d)=>new Date(d.time).getTime()-new Date(a.time).getTime()),this.notifCount=this.notifications.length}).catch(o=>{console.error("Error fetching notifications",o),this.notifications=r,this.notifCount=this.notifications.length})}})}})}toggleNotifications(t){t.stopPropagation(),this.showNotifDropdown=!this.showNotifDropdown,this.showNotifDropdown&&(this.showUserMenu=!1)}toggleUserMenu(){this.showUserMenu=!this.showUserMenu,this.showUserMenu&&(this.showNotifDropdown=!1)}closeDropdownsOnOutsideClick(){this.showNotifDropdown&&(this.showNotifDropdown=!1),this.showUserMenu&&(this.showUserMenu=!1)}closeNotifOnEscape(){this.showNotifDropdown=!1,this.showUserMenu=!1}openNotification(t){this.showNotifDropdown=!1,t.type==="truck"?this.truckService.updateTruck(t.sourceId,{unreadForAdmin:!1}).subscribe({next:()=>{this.loadNotifications(),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard/entrepot",t.original.entrepotId])})}}):t.type==="empotage"&&fetch(`${de.apiUrl}/notifications/${t.sourceId}/read`,{method:"PUT"}).then(()=>{this.loadNotifications(),this.router.navigate(["/dashboard/adminEmpotageMain"])})}static \u0275fac=function(e){return new(e||n)(S(fe),S(ft),S(Me),S(nt))};static \u0275cmp=te({type:n,selectors:[["app-dashboard"]],hostBindings:function(e,r){e&1&&_("click",function(){return r.closeDropdownsOnOutsideClick()},mr)("keydown.escape",function(){return r.closeNotifOnEscape()},mr)},decls:67,vars:17,consts:[[1,"app-shell"],["class","sidebar-overlay",3,"click",4,"ngIf"],["role","navigation",1,"sidebar-container"],[1,"sidebar-header"],[1,"logo-wrapper"],["fill","none","viewBox","0 0 48 48","xmlns","http://www.w3.org/2000/svg"],["d","M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z","fill","currentColor"],[1,"logo-title"],[1,"sidebar-nav"],[1,"nav-section"],[1,"section-label"],["routerLinkActive","active",1,"sidebar-link",3,"routerLink"],[1,"material-symbols-outlined","notranslate"],[1,"link-label"],[1,"sidebar-footer"],[1,"footer-divider"],["href","#",1,"sidebar-link","logout",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"content-wrapper"],[1,"top-header"],[1,"top-header-left"],[1,"mobile-menu-btn",3,"click"],[1,"top-header-right"],[1,"notification-container",3,"click"],["type","button",1,"notif-button",3,"click"],["class","notif-badge-dot",4,"ngIf"],["class","notif-popover",4,"ngIf"],[1,"profile-block",2,"cursor","pointer","position","relative",3,"click"],[1,"profile-avatar"],[1,"profile-info"],[1,"name"],[1,"role"],[1,"profile-toggle"],["class","user-dropdown",3,"click",4,"ngIf"],[1,"page-overflow","admin-scroll"],[1,"sidebar-overlay",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"btn-confirm",3,"click"],[1,"notif-badge-dot"],[1,"notif-popover"],[1,"popover-header"],[1,"popover-title"],["class","popover-count",4,"ngIf"],[1,"popover-scroll","custom-scroll"],["class","popover-empty",4,"ngIf"],["class","notif-card-item",3,"click",4,"ngFor","ngForOf"],[1,"popover-count"],[1,"popover-empty"],[1,"notif-card-item",3,"click"],[1,"notif-icon-circle"],["class","material-symbols-outlined notranslate",4,"ngIf"],[1,"notif-body"],[1,"notif-row"],[1,"notif-immat"],[1,"notif-clock"],[1,"notif-subtitle"],[1,"user-dropdown",3,"click"],[1,"dropdown-header-mobile"],[1,"dropdown-item",3,"click","routerLink"],[1,"dropdown-divider"],["href","#",1,"dropdown-item","text-danger",3,"click"]],template:function(e,r){e&1&&(s(0,"div",0),E(1,Pk,1,0,"div",1),s(2,"aside",2)(3,"div",3)(4,"div",4),No(),s(5,"svg",5),H(6,"path",6),c()(),Ro(),s(7,"h1",7),l(8,"Entrep\xF4ts"),c()(),s(9,"nav",8)(10,"div",9)(11,"p",10),l(12,"Administration"),c(),s(13,"a",11)(14,"span",12),l(15,"dashboard"),c(),s(16,"span",13),l(17,"Tableau de bord"),c()(),s(18,"a",11)(19,"span",12),l(20,"manage_accounts"),c(),s(21,"span",13),l(22,"Utilisateurs"),c()(),s(23,"a",11)(24,"span",12),l(25,"history_edu"),c(),s(26,"span",13),l(27,"Historique"),c()(),s(28,"a",11)(29,"span",12),l(30,"inventory_2"),c(),s(31,"span",13),l(32,"Empotage"),c()()()(),s(33,"div",14),H(34,"div",15),s(35,"a",16),_("click",function(i){return i.preventDefault(),r.requestLogout()}),s(36,"span",12),l(37,"logout"),c(),s(38,"span",13),l(39,"D\xE9connexion"),c()()()(),E(40,kk,16,0,"div",17),s(41,"div",18)(42,"header",19)(43,"div",20)(44,"button",21),_("click",function(){return r.toggleSidebar()}),s(45,"span",12),l(46,"menu"),c()()(),s(47,"div",22)(48,"div",23),_("click",function(i){return i.stopPropagation()}),s(49,"button",24),_("click",function(i){return r.toggleNotifications(i)}),s(50,"span",12),l(51,"notifications"),c(),E(52,Dk,1,0,"span",25),c(),E(53,Rk,8,3,"div",26),c(),s(54,"div",27),_("click",function(i){return i.stopPropagation(),r.toggleUserMenu()}),H(55,"div",28),s(56,"div",29)(57,"p",30),l(58),c(),s(59,"p",31),l(60),c()(),s(61,"button",32)(62,"span",12),l(63,"expand_more"),c()(),E(64,Fk,24,4,"div",33),c()()(),s(65,"main",34),H(66,"router-outlet"),c()()()),e&2&&(f(),b("ngIf",r.isSidebarOpen),f(),W("mobile-open",r.isSidebarOpen),f(11),b("routerLink","/dashboard/dashboard-main"),f(5),b("routerLink","/dashboard/userManager"),f(5),b("routerLink","/dashboard/historique"),f(5),b("routerLink","/dashboard/adminEmpotageMain"),f(12),b("ngIf",r.showLogoutConfirm),f(9),kn("aria-expanded",r.showNotifDropdown),f(3),b("ngIf",r.notifCount>0),f(),b("ngIf",r.showNotifDropdown),f(2),aa(to(`
              background-image: url('https://ui-avatars.com/api/?name=`,r.userName,`&background=random');
            `)),f(3),w(r.userName),f(2),w(r.userRoleLabel),f(4),b("ngIf",r.showUserMenu))},dependencies:[Jn,Kn,Tt,za,ae,be,me,tt],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1d4ed8;--primary-subtle: #e7edf3;--success-bg: #dcfce7;--success-text: #166534;--success-border: #dcfce7;--warning-bg: #fffbeb;--warning-text: #b45309;--warning-border: #fef3c7;--danger-bg: #fee2e2;--danger-text: #991b1b;--danger-border: #fecaca;--danger-solid: #ef4444;--info-bg: #e0f2fe;--info-text: #0284c7;--background-light: #f6f7f8;--background-white: #ffffff;--background-dark: #101922;--text-primary: #0d141b;--text-secondary: #4c739a;--text-tertiary: #94a3b8;--border-light: #e2e8f0;--border-medium: #cbd5e1;--border-dark: #1f2933;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-card: 0 10px 40px -10px rgba(0, 0, 0, .08);--shadow-float: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease-in-out;--transition-normal: all .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .35s cubic-bezier(.16, 1, .3, 1);--header-height: 72px;--sidebar-width: 280px}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#e5e7eb}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;translate:no}.material-symbols-outlined.notranslate[_ngcontent-%COMP%]{translate:no}.page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);padding:2rem 1.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:var(--text-primary);text-shadow:0 2px 10px rgba(43,140,238,.1);letter-spacing:-.025em;margin:0;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-top:.5rem;font-weight:500}.card[_ngcontent-%COMP%]{background:var(--background-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);border:1px solid rgba(0,0,0,.03);padding:1.5rem;transition:var(--transition-normal)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-float)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.95rem;cursor:pointer;transition:var(--transition-normal);border:none;outline:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;box-shadow:0 4px 12px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 16px #2b8cee66}.btn-secondary[_ngcontent-%COMP%]{background:var(--background-white);border:1px solid var(--border-light);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:var(--border-medium)}.btn-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);cursor:pointer;transition:var(--transition-normal)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary);border-color:var(--primary)}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gap-1[_ngcontent-%COMP%]{gap:.25rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.w-full[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none!important}.responsive-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.truck-modal-close[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.06)!important;background:#ef4444!important;color:#fff!important;border-radius:.5rem!important;width:2.25rem!important;height:2.25rem!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;font-weight:700!important;transition:background-color .12s ease,transform .08s ease,box-shadow .12s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#dc2626!important;transform:translateY(-2px)!important;box-shadow:0 10px 30px #dc262624!important}.truck-modal-close[_ngcontent-%COMP%]:focus{outline:3px solid rgba(239,68,68,.18)!important;outline-offset:2px!important}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;line-height:1;min-height:1.8rem;box-sizing:border-box;box-shadow:var(--shadow-sm)}.status-pill[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.status-pill--enregistre[_ngcontent-%COMP%]{background:var(--info-bg);color:var(--info-text);border:1px solid var(--info-bg)}.status-pill--pending[_ngcontent-%COMP%]{background:var(--warning-bg);color:var(--warning-text);border:1px solid var(--warning-border)}.status-pill--validated[_ngcontent-%COMP%], .status-pill--accepted[_ngcontent-%COMP%]{background:var(--success-bg);color:var(--success-text);border:1px solid var(--success-border)}.status-pill--accepted-final[_ngcontent-%COMP%]{background:#ecfdf5;color:#064e3b;border:1px solid #059669}.status-pill--renvoye[_ngcontent-%COMP%]{background:#fff7ed;color:#c2410c;border:1px solid #ffedd5}.status-pill--reintegre[_ngcontent-%COMP%]{background:#f0fdfa;color:#0f766e;border:1px solid #ccfbf1}.status-pill--refoule[_ngcontent-%COMP%]{background:var(--danger-bg);color:var(--danger-text);border:1px solid var(--danger-border)}body.dark[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000004d}body.dark[_ngcontent-%COMP%]   .status-pill--enregistre[_ngcontent-%COMP%]{background:#1e40af33;color:#93c5fd;border-color:#1e40af4d}body.dark[_ngcontent-%COMP%]   .status-pill--pending[_ngcontent-%COMP%]{background:#92400e33;color:#fcd34d;border-color:#92400e4d}body.dark[_ngcontent-%COMP%]   .status-pill--validated[_ngcontent-%COMP%]{background:#16653433;color:#86efac;border-color:#1665344d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted[_ngcontent-%COMP%]{background:#14532d33;color:#6ee7b7;border-color:#14532d4d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted-final[_ngcontent-%COMP%]{background:#064e3b33;color:#34d399;border-color:#05966966}body.dark[_ngcontent-%COMP%]   .status-pill--renvoye[_ngcontent-%COMP%]{background:#9a341233;color:#fdba74;border-color:#9a34124d}body.dark[_ngcontent-%COMP%]   .status-pill--reintegre[_ngcontent-%COMP%]{background:#0f766e33;color:#5eead4;border-color:#0f766e4d}body.dark[_ngcontent-%COMP%]   .status-pill--refoule[_ngcontent-%COMP%]{background:#991b1b33;color:#fca5a5;border-color:#991b1b4d}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0;color:var(--text-primary)}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;overflow-y:auto;flex:1}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem}body.dark[_ngcontent-%COMP%]   .modal__backdrop[_ngcontent-%COMP%]{background:#000000b3}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1e293b;border:1px solid rgba(255,255,255,.1)}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{color:#fff}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#0f172a;border-top-color:#ffffff1a}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition-normal);width:100%}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.truck-field[_ngcontent-%COMP%]   .truck-help[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{background:#0f172a;border-color:#ffffff1a;color:#fff}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.notification-banner[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;background:#f0fdf4;border:1px solid #bbf7d0;color:#166534;padding:1rem 1.5rem;border-radius:.75rem;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.16,1,.3,1);font-weight:600}.notification-banner[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#15803d}@media (max-width: 480px){.notification-banner[_ngcontent-%COMP%]{top:70px;right:10px;left:10px;justify-content:center}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}[_nghost-%COMP%]{--sidebar-width: clamp(250px, 20vw, 290px);--header-height: 72px;--transition-ultra: all .35s cubic-bezier(.16, 1, .3, 1);--sidebar-bg: #ffffff;--sidebar-border: rgba(0, 0, 0, .05)}.app-shell[_ngcontent-%COMP%]{display:flex;height:100vh;height:100dvh;overflow:hidden;background-color:var(--background-light)}.sidebar-container[_ngcontent-%COMP%]{width:var(--sidebar-width);height:100%;background:var(--sidebar-bg);border-right:1px solid var(--sidebar-border);display:flex;flex-direction:column;z-index:100;flex-shrink:0;transition:var(--transition-ultra);position:relative}.sidebar-header[_ngcontent-%COMP%]{padding:2rem 1.75rem;display:flex;align-items:center;gap:1rem}.sidebar-header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;border-radius:12px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #2b8cee40}.sidebar-header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.sidebar-header[_ngcontent-%COMP%]   .logo-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:850;color:#0f172a;letter-spacing:-.015em;margin:0}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:0 1rem;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem;margin-bottom:2.5rem}.sidebar-nav[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{padding-left:1.25rem;font-size:.6875rem;font-weight:800;text-transform:uppercase;letter-spacing:.12em;color:#94a3b8;margin-bottom:.75rem}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:.875rem 1.25rem;border-radius:1rem;text-decoration:none;font-size:.9375rem;font-weight:600;color:#64748b;transition:var(--transition-ultra);position:relative;overflow:hidden}.sidebar-link[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:22px}.sidebar-link[_ngcontent-%COMP%]:hover{background:#2b8cee0d;color:var(--primary);transform:translate(4px)}.sidebar-link.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff;box-shadow:0 10px 20px -8px #2b8cee66}.sidebar-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:25%;bottom:25%;width:4px;background:#fff;border-radius:0 4px 4px 0;opacity:.5}.sidebar-link.active[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1;filter:drop-shadow(0 0 4px rgba(255,255,255,.3))}.sidebar-link.logout[_ngcontent-%COMP%]{color:#ef4444}.sidebar-link.logout[_ngcontent-%COMP%]:hover{background:#fef2f2}.sidebar-link.secondary[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem 1rem;padding-bottom:max(1.5rem,env(safe-area-inset-bottom));border-top:1px solid var(--sidebar-border);display:flex;flex-direction:column;gap:.5rem;flex-shrink:0}.sidebar-footer[_ngcontent-%COMP%]   .footer-divider[_ngcontent-%COMP%]{height:1px;background:var(--sidebar-border);margin:.5rem .75rem}.content-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:0}.top-header[_ngcontent-%COMP%]{height:var(--header-height);background:#ffffffbf;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-bottom:1px solid var(--sidebar-border);display:flex;align-items:center;justify-content:space-between;padding:0 2rem;z-index:90}.top-header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.notification-container[_ngcontent-%COMP%]{position:relative}.notif-button[_ngcontent-%COMP%]{width:44px;height:44px;border:1px solid var(--sidebar-border);background:#fff;border-radius:12px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-ultra);color:#64748b;position:relative}.notif-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);border-color:var(--primary);color:var(--primary);box-shadow:0 4px 12px #0000000d}.notif-button[_ngcontent-%COMP%]   .notif-badge-dot[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:8px;height:8px;background:#ef4444;border-radius:50%;border:2px solid #ffffff}.notif-popover[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 12px);right:0;width:320px;max-width:90vw;background:#fff;border-radius:1.25rem;box-shadow:0 20px 50px #00000026;border:1px solid var(--sidebar-border);overflow:hidden;animation:_ngcontent-%COMP%_popoverIn .3s cubic-bezier(.16,1,.3,1);z-index:1001}@media (max-width: 480px){.notif-popover[_ngcontent-%COMP%]{position:fixed;top:70px;left:50%;right:auto;transform:translate(-50%);width:94vw;max-width:94vw}}.notif-popover[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;background:#fcfdfe;border-bottom:1px solid var(--sidebar-border);display:flex;justify-content:space-between;align-items:center}.notif-popover[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]   .popover-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:800;margin:0;color:#0f172a}.notif-popover[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]   .popover-count[_ngcontent-%COMP%]{background:#fee2e2;color:#ef4444;font-size:.7rem;font-weight:800;padding:.2rem .6rem;border-radius:999px}.notif-popover[_ngcontent-%COMP%]   .popover-scroll[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.notif-popover[_ngcontent-%COMP%]   .popover-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]{padding:1.125rem 1.5rem;display:flex;gap:1rem;cursor:pointer;transition:.2s;border-bottom:1px solid rgba(0,0,0,.03)}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-icon-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:#eff6ff;color:var(--primary);display:flex;align-items:center;justify-content:center}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-icon-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-body[_ngcontent-%COMP%]{flex:1}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-body[_ngcontent-%COMP%]   .notif-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-body[_ngcontent-%COMP%]   .notif-immat[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:#0f172a}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-body[_ngcontent-%COMP%]   .notif-clock[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8;font-weight:500}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-body[_ngcontent-%COMP%]   .notif-subtitle[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b;margin:0;font-weight:500}.notif-popover[_ngcontent-%COMP%]   .popover-empty[_ngcontent-%COMP%]{padding:3rem 1.5rem;text-align:center;color:#94a3b8}.notif-popover[_ngcontent-%COMP%]   .popover-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;opacity:.4;margin-bottom:.5rem;display:block}.notif-popover[_ngcontent-%COMP%]   .popover-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;margin:0}@keyframes _ngcontent-%COMP%_popoverIn{0%{opacity:0;transform:translateY(10px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.profile-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:.4rem .5rem .4rem .4rem;background:#f8fafc;border:1px solid var(--sidebar-border);border-radius:999px;cursor:pointer;transition:var(--transition-ultra)}.profile-block[_ngcontent-%COMP%]:hover{background:#fff;border-color:var(--primary);transform:translateY(-1px)}.profile-block[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-size:cover;background-position:center;border:2px solid #ffffff;box-shadow:0 2px 6px #0000001a}.profile-block[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:#0f172a;margin:0}.profile-block[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;margin:0;font-weight:500}.profile-block[_ngcontent-%COMP%]   .profile-toggle[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;color:#94a3b8;cursor:pointer}.user-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 12px);right:0;width:220px;background:#fff;border-radius:1rem;box-shadow:0 20px 50px #00000026;border:1px solid var(--sidebar-border);overflow:hidden;animation:_ngcontent-%COMP%_popoverIn .3s cubic-bezier(.16,1,.3,1);z-index:1001;padding:.5rem;display:flex;flex-direction:column;gap:.25rem}.user-dropdown[_ngcontent-%COMP%]   .dropdown-header-mobile[_ngcontent-%COMP%]{display:none;padding:.5rem 1rem;font-size:.75rem;font-weight:700;color:#94a3b8;text-transform:uppercase;border-bottom:1px solid var(--sidebar-border);margin-bottom:.25rem}@media (max-width: 768px){.user-dropdown[_ngcontent-%COMP%]   .dropdown-header-mobile[_ngcontent-%COMP%]{display:block}}.user-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:.75rem;color:#475569;font-size:.9rem;font-weight:600;text-decoration:none;transition:all .2s}.user-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{margin-right:0;font-size:20px}.user-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#f8fafc;color:var(--primary)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-item.text-danger[_ngcontent-%COMP%]{color:#ef4444}.user-dropdown[_ngcontent-%COMP%]   .dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background:#fef2f2}.user-dropdown[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{height:1px;background:var(--sidebar-border);margin:.25rem .5rem}.page-overflow[_ngcontent-%COMP%]{flex:1;overflow-y:auto;min-height:0;-ms-overflow-style:none;scrollbar-width:none}.page-overflow[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}body.dark[_ngcontent-%COMP%]{--sidebar-bg: #111827;--sidebar-border: rgba(255, 255, 255, .05)}body.dark[_ngcontent-%COMP%]   .app-shell[_ngcontent-%COMP%]{background:var(--background-dark)}body.dark[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .logo-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .sidebar-link[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .sidebar-link[_ngcontent-%COMP%]:hover:not(.active){background:#ffffff08;color:#f8fafc}body.dark[_ngcontent-%COMP%]   .top-header[_ngcontent-%COMP%]{background:#101922cc;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .notif-button[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff14}body.dark[_ngcontent-%COMP%]   .notif-button[_ngcontent-%COMP%]   .notif-badge-dot[_ngcontent-%COMP%]{border-color:#1a222c}body.dark[_ngcontent-%COMP%]   .profile-block[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff14}body.dark[_ngcontent-%COMP%]   .profile-block[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]{background:#1e293b;border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]   .popover-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]{border-color:#ffffff08}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]:hover{background:#ffffff08}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-immat[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-icon-circle[_ngcontent-%COMP%]{background:#2b8cee26}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0f172a66;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-overlay[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:90%;max-width:400px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;animation:_ngcontent-%COMP%_scaleIn .2s ease-out;border:1px solid rgba(0,0,0,.05);overflow:hidden}.modal-overlay[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-bottom:1px solid rgba(0,0,0,.05);display:flex;justify-content:space-between;align-items:center}.modal-overlay[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0f172a;margin:0}.modal-overlay[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#64748b;cursor:pointer;padding:.25rem;border-radius:8px;display:flex;align-items:center;justify-content:center}.modal-overlay[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#0f172a}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#334155;font-size:.95rem;line-height:1.5}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;background:#f8fafc;border-top:1px solid rgba(0,0,0,.05);display:flex;justify-content:flex-end;gap:.75rem}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.6rem 1rem;border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#fff;border:1px solid #cbd5e1;color:#475569}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#94a3b8}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{background:#ef4444;border:1px solid #ef4444;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:hover{background:#dc2626;border-color:#dc2626}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.mobile-menu-btn[_ngcontent-%COMP%]{display:none;background:transparent;border:none;color:#1e293b;cursor:pointer;padding:8px;border-radius:8px;transition:background-color .2s}.mobile-menu-btn[_ngcontent-%COMP%]:hover{background-color:#0000000d}.mobile-menu-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px}.sidebar-overlay[_ngcontent-%COMP%]{display:none}@media (max-width: 1024px){.sidebar-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;height:100dvh;z-index:9999;transform:translate(-100%);box-shadow:0 0 20px #0003;transition:transform .3s cubic-bezier(.4,0,.2,1)}.sidebar-container.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}.mobile-menu-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-right:1rem}.sidebar-overlay[_ngcontent-%COMP%]{display:block;position:fixed;inset:0;background-color:#00000080;z-index:9998;opacity:0;pointer-events:none;transition:opacity .3s}.sidebar-overlay[_ngcontent-%COMP%]{pointer-events:auto;opacity:1;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.top-header[_ngcontent-%COMP%]{padding:0 1rem;height:64px}.top-header[_ngcontent-%COMP%]   .top-header-left[_ngcontent-%COMP%]{flex:1}.page-overflow[_ngcontent-%COMP%]{padding-top:0}}']})};var pt=class n{toastSubject=new we;toast$=this.toastSubject.asObservable();show(t,e="info",r=3e3){this.toastSubject.next({message:t,type:e,duration:r})}success(t,e=3e3){this.show(t,"success",e)}error(t,e=4e3){this.show(t,"error",e)}info(t,e=3e3){this.show(t,"info",e)}warning(t,e=3500){this.show(t,"warning",e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};function Vk(n,t){if(n&1&&(s(0,"div",40),l(1),c()),n&2){let e=m().$implicit;f(),k(" ",e.unreadCount," ")}}function jk(n,t){if(n&1){let e=V();s(0,"div",41),_("click",function(o){return v(e),y(o.stopPropagation())}),s(1,"button",42),_("click",function(){v(e);let o=m().$implicit,i=m();return y(i.onEditWarehouse(o))}),s(2,"span",10),l(3,"edit"),c(),l(4," Modifier "),c(),s(5,"button",43),_("click",function(){v(e);let o=m().$implicit,i=m();return y(i.onDeleteWarehouse(o))}),s(6,"span",10),l(7,"delete"),c(),l(8," Supprimer "),c()()}}function Uk(n,t){if(n&1){let e=V();s(0,"article",25),_("click",function(){let o=v(e).$implicit,i=m();return y(i.handleContainerClick(o))}),s(1,"div",26),E(2,Vk,2,1,"div",27),s(3,"button",28),_("click",function(o){let i=v(e).$implicit,a=m();return y(a.openActionsMenu(i,o))}),s(4,"span",10),l(5,"more_vert"),c()(),E(6,jk,9,0,"div",29),c(),s(7,"div",30)(8,"div",31)(9,"h3",32),l(10),c(),s(11,"p",33)(12,"span",10),l(13,"location_on"),c(),l(14),c()(),H(15,"div",34),s(16,"div",35)(17,"div",36)(18,"span",37),l(19,"EN ATTENTE"),c(),s(20,"span",38),l(21),c()(),s(22,"span",39),l(23,"arrow_forward"),c()()()()}if(n&2){let e=t.$implicit,r=m();f(),Dn("background-image","url("+e.imageUrl+")"),f(),b("ngIf",e.unreadCount>0),f(4),b("ngIf",r.actionsMenuWarehouseId===e.id),f(4),w(e.name),f(4),k(" ",e.location," "),f(7),w(e.pending)}}function Bk(n,t){if(n&1&&(s(0,"div",44)(1,"div",45)(2,"div",46),l(3),c()(),s(4,"p"),l(5),c()()),n&2){let e=t.$implicit;f(),Dn("height",e.height),f(2),w(e.count),f(2),w(e.day)}}function Hk(n,t){if(n&1&&(s(0,"div",71)(1,"span",10),l(2,"error"),c(),s(3,"span"),l(4),c()()),n&2){let e=m(2);f(4),w(e.errorMessage)}}function zk(n,t){if(n&1&&H(0,"div",72),n&2){let e=m(2);Dn("background-image","url("+e.imagePreview+")")}}function $k(n,t){n&1&&(s(0,"span"),l(1,"Enregistrement..."),c())}function Wk(n,t){if(n&1&&(s(0,"span"),l(1),c()),n&2){let e=m(2);f(),k(" ",e.editingWarehouseId?"Enregistrer":"Cr\xE9er l\u2019entrep\xF4t"," ")}}function Gk(n,t){if(n&1){let e=V();s(0,"div",47)(1,"div",48),_("click",function(){v(e);let o=m();return y(o.closeWarehouseModal())}),c(),s(2,"div",49)(3,"div",50)(4,"h2",51),l(5),c(),s(6,"button",52),_("click",function(){v(e);let o=m();return y(o.closeWarehouseModal())}),s(7,"span",10),l(8,"close"),c()()(),s(9,"div",53)(10,"p",54),l(11),c(),E(12,Hk,5,1,"div",55),s(13,"div",56)(14,"label",57),l(15,"Nom de l\u2019entrep\xF4t"),c(),s(16,"input",58),A("ngModelChange",function(o){v(e);let i=m();return N(i.newWarehouse.name,o)||(i.newWarehouse.name=o),y(o)}),c()(),s(17,"div",56)(18,"label",57),l(19,"Localisation"),c(),s(20,"input",59),A("ngModelChange",function(o){v(e);let i=m();return N(i.newWarehouse.location,o)||(i.newWarehouse.location=o),y(o)}),c()(),s(21,"div",56)(22,"label",57),l(23,"Image de couverture"),c(),s(24,"div",60)(25,"input",61,0),_("change",function(o){v(e);let i=m();return y(i.onImageSelected(o))}),c(),s(27,"div",62)(28,"button",63),_("click",function(){v(e);let o=ia(26);return y(o.click())}),s(29,"span",10),l(30,"cloud_upload"),c(),l(31),c(),s(32,"span",64),l(33),c()()(),s(34,"p",65),l(35,"Formats accept\xE9s : JPG, PNG."),c(),E(36,zk,1,2,"div",66),c()(),s(37,"div",67)(38,"button",68),_("click",function(){v(e);let o=m();return y(o.closeWarehouseModal())}),l(39," Annuler "),c(),s(40,"button",69),_("click",function(){v(e);let o=m();return y(o.saveWarehouse())}),E(41,$k,2,0,"span",70)(42,Wk,2,1,"span",70),c()()()()}if(n&2){let e=m();f(5),k(" ",e.editingWarehouseId?"Modifier l\u2019entrep\xF4t":"Nouvel entrep\xF4t"," "),f(6),k(" ",e.editingWarehouseId?"Modifiez les informations de l\u2019entrep\xF4t s\xE9lectionn\xE9.":"Renseignez les informations ci-dessous pour cr\xE9er un nouvel entrep\xF4t."," "),f(),b("ngIf",e.errorMessage),f(4),T("ngModel",e.newWarehouse.name),f(4),T("ngModel",e.newWarehouse.location),f(11),k(" ",e.selectedImageFile?"Changer l'image":"Choisir une image"," "),f(),W("has-file",!!e.selectedImageFile),f(),k(" ",e.selectedImageFile?e.selectedImageFile.name:"Aucun fichier choisi"," "),f(3),b("ngIf",e.imagePreview),f(4),b("disabled",e.isLoading),f(),b("ngIf",e.isLoading),f(),b("ngIf",!e.isLoading)}}function qk(n,t){if(n&1&&(s(0,"div",79)(1,"p",80),l(2),c(),s(3,"p",81),l(4),c()()),n&2){let e=m(2);f(2),w(e.warehouseToDelete.name),f(2),k(" ",e.warehouseToDelete.location," ")}}function Yk(n,t){if(n&1){let e=V();s(0,"div",47)(1,"div",48),_("click",function(){v(e);let o=m();return y(o.closeDeleteModal())}),c(),s(2,"div",73)(3,"div",50)(4,"h2",51),l(5,"Confirmer la suppression"),c(),s(6,"button",52),_("click",function(){v(e);let o=m();return y(o.closeDeleteModal())}),s(7,"span",10),l(8,"close"),c()()(),s(9,"div",53)(10,"p",74),l(11," \xCAtes-vous s\xFBr de vouloir supprimer cet entrep\xF4t ? "),c(),E(12,qk,5,2,"div",75),s(13,"p",76)(14,"span",77),l(15,"warning"),c(),l(16," Cette action est irr\xE9versible. "),c()(),s(17,"div",67)(18,"button",68),_("click",function(){v(e);let o=m();return y(o.closeDeleteModal())}),l(19," Annuler "),c(),s(20,"button",78),_("click",function(){v(e);let o=m();return y(o.confirmDelete())}),l(21," Supprimer "),c()()()()}if(n&2){let e=m();f(12),b("ngIf",e.warehouseToDelete)}}var rd=class n{onImageSelected(t){let e=t.target;if(!e.files||e.files.length===0)return;let r=e.files[0];this.selectedImageFile=r;let o=new FileReader;o.onload=()=>{this.imagePreview=o.result},o.readAsDataURL(r)}cards=[];stats=[];showWarehouseModal=!1;showDeleteModal=!1;warehouseToDelete=null;mode="create";editingWarehouseId=null;selectedImageFile=null;imagePreview=null;actionsMenuWarehouseId=null;newWarehouse={name:"",location:"",imageUrl:"",pending:0,active:0,discharged:0};errorMessage=null;router=x(fe);warehouseService=x(Me);truckService=x(ft);toastService=x(pt);constructor(){}ngOnInit(){this.loadWarehouses()}loadWarehouses(){this.warehouseService.getWarehouses().subscribe({next:t=>{this.truckService.getTrucks().subscribe({next:e=>{this.calculateWeeklyStats(e),this.cards=t.map(r=>{let o=r.imageUrl,i="/assets/placeholder-warehouse.png";if(o&&typeof o=="string"&&o.trim()!=="")if(o.includes("800x400?text=Entrepot"))i="/assets/placeholder-warehouse.png";else if(o.startsWith("http")||o.startsWith("https")||o.startsWith("data:"))i=o;else{let h=de.apiUrl.replace("/api","");i=o.startsWith("/")?`${h}${o}`:`${h}/${o}`}let a=e.filter(h=>h.entrepotId===r.id),d=a.filter(h=>h.statut==="En attente").length,u=a.filter(h=>h.statut==="En cours de d\xE9chargement").length,p=a.filter(h=>h.statut==="D\xE9charg\xE9").length,g=a.filter(h=>h.unreadForAdmin).length;return{id:r.id,name:r.name,location:r.location,imageUrl:i,pending:d,active:u,discharged:p,unreadCount:g}})},error:e=>console.error("Erreur chargement camions",e)})},error:t=>{console.error("Erreur chargement entrep\xF4ts",t)}})}closeMenuOnOutsideClick(){this.actionsMenuWarehouseId=null}handleContainerClick(t){console.warn("CLICKED CARD:",t),console.warn(`Navigating to /dashboard/entrepot/${t.id} for ${t.name}`),this.router.navigate(["/dashboard/entrepot",t.id])}openWarehouseModal(){this.mode="create",this.editingWarehouseId=null,this.errorMessage=null,this.newWarehouse={name:"",location:"",imageUrl:"",pending:0,active:0,discharged:0},this.showWarehouseModal=!0,this.selectedImageFile=null,this.imagePreview=null;let t=document.querySelector('input[type="file"]');t&&(t.value="")}closeWarehouseModal(){this.showWarehouseModal=!1}openActionsMenu(t,e){e.stopPropagation(),this.actionsMenuWarehouseId===t.id?this.actionsMenuWarehouseId=null:this.actionsMenuWarehouseId=t.id}calculateWeeklyStats(t){let e=[],r=new Date,i=(r.getDay()+6)%7,a=new Date(r);a.setDate(r.getDate()-i);for(let g=0;g<7;g++){let h=new Date(a);h.setDate(a.getDate()+g),e.push(h)}let d=e.map(g=>{let h=new Date(g);h.setHours(0,0,0,0);let M=new Date(g);M.setHours(23,59,59,999);let C=t.filter(O=>{let U=new Date(O.heureArrivee);return U>=h&&U<=M}).length;return{date:g,count:C}}),u=Math.max(...d.map(g=>g.count))||1,p=new Intl.DateTimeFormat("fr-FR",{weekday:"short"});this.stats=d.map(g=>{let h=g.count/u*100,M=`${Math.round(h)}%`,C=p.format(g.date);return{day:C.charAt(0).toUpperCase()+C.slice(1).replace(".",""),count:g.count,height:M}})}onEditWarehouse(t){this.actionsMenuWarehouseId=null,this.errorMessage=null,this.mode="edit",this.editingWarehouseId=t.id,this.newWarehouse={name:t.name,location:t.location,imageUrl:t.imageUrl,pending:t.pending,active:t.active,discharged:t.discharged},this.showWarehouseModal=!0,this.imagePreview=t.imageUrl,this.selectedImageFile=null}onDeleteWarehouse(t){this.actionsMenuWarehouseId=null,this.warehouseToDelete=t,this.showDeleteModal=!0}closeDeleteModal(){this.showDeleteModal=!1,this.warehouseToDelete=null}confirmDelete(){if(!this.warehouseToDelete)return;let t=this.warehouseToDelete;this.warehouseService.delete(t.id).subscribe({next:()=>{this.cards=this.cards.filter(e=>e.id!==t.id),this.closeDeleteModal(),this.toastService.success("Entrep\xF4t supprim\xE9")},error:e=>{console.error("Erreur suppression entrep\xF4t",e),this.toastService.error("Erreur lors de la suppression de l\u2019entrep\xF4t"),this.closeDeleteModal()}})}isLoading=!1;saveWarehouse(){if(this.errorMessage=null,!this.newWarehouse.name||!this.newWarehouse.location){this.errorMessage="Merci de saisir le nom et la localisation.";return}this.isLoading=!0;let t={name:this.newWarehouse.name,location:this.newWarehouse.location,imageFile:this.selectedImageFile||void 0};(this.mode==="create"?this.warehouseService.create(t):this.warehouseService.update(this.editingWarehouseId,t)).subscribe({next:()=>{this.isLoading=!1,this.closeWarehouseModal(),this.loadWarehouses(),this.toastService.success(this.mode==="create"?"Entrep\xF4t cr\xE9\xE9 avec succ\xE8s":"Modifications enregistr\xE9es")},error:r=>{this.isLoading=!1,console.error("Erreur saveWarehouse",r);let o=r.error?.message||"Une erreur est survenue.";this.errorMessage=o,this.toastService.error(o)}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-dashboard-main"]],hostBindings:function(e,r){e&1&&_("click",function(){return r.closeMenuOnOutsideClick()},mr)},decls:36,vars:4,consts:[["fileInput",""],[1,"pageMain"],[1,"page-root"],[1,"page-main"],[1,"admin-scroll"],[1,"content"],[1,"page-head"],[1,"page-title"],[1,"page-desc"],["type","button",1,"btn","btn-primary",3,"click"],[1,"material-symbols-outlined","notranslate"],[1,"warehouse-grid"],["class","warehouse-card card",3,"click",4,"ngFor","ngForOf"],[1,"card","chart-section"],[1,"section-head"],[1,"chart-title"],[1,"chart-legend"],[1,"legend-item"],[1,"dot","primary"],[1,"chart-container"],[1,"chart-grid-lines"],[1,"grid-line"],[1,"chart-bars"],["class","chart-day",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"warehouse-card","card",3,"click"],[1,"warehouse-image"],["class","notification-badge",4,"ngIf"],["type","button","title","Actions",1,"card-menu-btn",3,"click"],["class","warehouse-dropdown",3,"click",4,"ngIf"],[1,"warehouse-content"],[1,"warehouse-info"],[1,"warehouse-name"],[1,"warehouse-location"],[1,"card-divider"],[1,"warehouse-footer"],[1,"status-block"],[1,"status-label"],[1,"status-count"],[1,"material-symbols-outlined","notranslate","footer-arrow"],[1,"notification-badge"],[1,"warehouse-dropdown",3,"click"],["type","button",3,"click"],["type","button",1,"danger",3,"click"],[1,"chart-day"],[1,"chart-bar"],[1,"bar-tooltip"],[1,"modal"],[1,"modal__backdrop",3,"click"],[1,"modal__panel"],[1,"truck-modal-header"],[1,"truck-modal-title"],["type","button","aria-label","Fermer",1,"truck-modal-close",3,"click"],[1,"truck-modal-body"],[1,"modal-intro"],["class","error-message-box",4,"ngIf"],[1,"truck-field"],[1,"truck-label"],["type","text","placeholder","Ex : Entrep\xF4t d'Abidjan",1,"truck-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Ex : Abidjan, C\xF4te d'Ivoire",1,"truck-input",3,"ngModelChange","ngModel"],[1,"file-upload-container"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"upload-controls"],["type","button",1,"file-upload-btn",3,"click"],[1,"file-name"],[1,"truck-help"],["class","image-preview-box",3,"backgroundImage",4,"ngIf"],[1,"truck-modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[4,"ngIf"],[1,"error-message-box"],[1,"image-preview-box"],[1,"modal__panel",2,"max-width","420px"],[2,"color","#64748b","line-height","1.5","margin-bottom","0.5rem"],["style","background: #f8fafc; padding: 1rem; border-radius: 0.75rem; border: 1px solid #e2e8f0;",4,"ngIf"],[2,"color","#ef4444","font-size","0.85rem","margin-top","1rem","display","flex","align-items","center","gap","0.5rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","18px"],["type","button",1,"btn","btn-primary",2,"background","#ef4444","box-shadow","0 4px 12px rgba(239, 68, 68, 0.3)","border","none",3,"click"],[2,"background","#f8fafc","padding","1rem","border-radius","0.75rem","border","1px solid #e2e8f0"],[2,"margin","0","font-weight","700","color","#0f172a"],[2,"margin","0.25rem 0 0","font-size","0.85rem","color","#64748b"]],template:function(e,r){e&1&&(s(0,"div",1)(1,"div",2)(2,"main",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div")(7,"h2",7),l(8,"Vue d'ensemble des entrep\xF4ts"),c(),s(9,"p",8),l(10,"Bonjour, Marc. Bienvenue sur votre tableau de bord."),c()(),s(11,"button",9),_("click",function(){return r.openWarehouseModal()}),s(12,"span",10),l(13,"add"),c(),s(14,"span"),l(15,"Nouvel Entrep\xF4t"),c()()(),s(16,"div",11),E(17,Uk,24,7,"article",12),c(),s(18,"section",13)(19,"div",14)(20,"h3",15),l(21,"Volume de camions sur les 7 derniers jours"),c(),s(22,"div",16)(23,"div",17),H(24,"span",18),l(25," Camions enregistr\xE9s"),c()()(),s(26,"div",19)(27,"div",20),H(28,"div",21)(29,"div",21)(30,"div",21)(31,"div",21),c(),s(32,"div",22),E(33,Bk,6,4,"div",23),c()()(),E(34,Gk,43,13,"div",24)(35,Yk,22,1,"div",24),c()()()()()),e&2&&(f(17),b("ngForOf",r.cards),f(16),b("ngForOf",r.stats),f(),b("ngIf",r.showWarehouseModal),f(),b("ngIf",r.showDeleteModal))},dependencies:[ae,be,me,Se,xe,De,Oe],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1d4ed8;--primary-subtle: #e7edf3;--success-bg: #dcfce7;--success-text: #166534;--success-border: #dcfce7;--warning-bg: #fffbeb;--warning-text: #b45309;--warning-border: #fef3c7;--danger-bg: #fee2e2;--danger-text: #991b1b;--danger-border: #fecaca;--danger-solid: #ef4444;--info-bg: #e0f2fe;--info-text: #0284c7;--background-light: #f6f7f8;--background-white: #ffffff;--background-dark: #101922;--text-primary: #0d141b;--text-secondary: #4c739a;--text-tertiary: #94a3b8;--border-light: #e2e8f0;--border-medium: #cbd5e1;--border-dark: #1f2933;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-card: 0 10px 40px -10px rgba(0, 0, 0, .08);--shadow-float: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease-in-out;--transition-normal: all .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .35s cubic-bezier(.16, 1, .3, 1);--header-height: 72px;--sidebar-width: 280px}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#e5e7eb}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;translate:no}.material-symbols-outlined.notranslate[_ngcontent-%COMP%]{translate:no}.page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);padding:2rem 1.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:var(--text-primary);text-shadow:0 2px 10px rgba(43,140,238,.1);letter-spacing:-.025em;margin:0;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-top:.5rem;font-weight:500}.card[_ngcontent-%COMP%]{background:var(--background-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);border:1px solid rgba(0,0,0,.03);padding:1.5rem;transition:var(--transition-normal)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-float)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.95rem;cursor:pointer;transition:var(--transition-normal);border:none;outline:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;box-shadow:0 4px 12px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 16px #2b8cee66}.btn-secondary[_ngcontent-%COMP%]{background:var(--background-white);border:1px solid var(--border-light);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:var(--border-medium)}.btn-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);cursor:pointer;transition:var(--transition-normal)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary);border-color:var(--primary)}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gap-1[_ngcontent-%COMP%]{gap:.25rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.w-full[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none!important}.responsive-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.truck-modal-close[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.06)!important;background:#ef4444!important;color:#fff!important;border-radius:.5rem!important;width:2.25rem!important;height:2.25rem!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;font-weight:700!important;transition:background-color .12s ease,transform .08s ease,box-shadow .12s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#dc2626!important;transform:translateY(-2px)!important;box-shadow:0 10px 30px #dc262624!important}.truck-modal-close[_ngcontent-%COMP%]:focus{outline:3px solid rgba(239,68,68,.18)!important;outline-offset:2px!important}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;line-height:1;min-height:1.8rem;box-sizing:border-box;box-shadow:var(--shadow-sm)}.status-pill[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.status-pill--enregistre[_ngcontent-%COMP%]{background:var(--info-bg);color:var(--info-text);border:1px solid var(--info-bg)}.status-pill--pending[_ngcontent-%COMP%]{background:var(--warning-bg);color:var(--warning-text);border:1px solid var(--warning-border)}.status-pill--validated[_ngcontent-%COMP%], .status-pill--accepted[_ngcontent-%COMP%]{background:var(--success-bg);color:var(--success-text);border:1px solid var(--success-border)}.status-pill--accepted-final[_ngcontent-%COMP%]{background:#ecfdf5;color:#064e3b;border:1px solid #059669}.status-pill--renvoye[_ngcontent-%COMP%]{background:#fff7ed;color:#c2410c;border:1px solid #ffedd5}.status-pill--reintegre[_ngcontent-%COMP%]{background:#f0fdfa;color:#0f766e;border:1px solid #ccfbf1}.status-pill--refoule[_ngcontent-%COMP%]{background:var(--danger-bg);color:var(--danger-text);border:1px solid var(--danger-border)}body.dark[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000004d}body.dark[_ngcontent-%COMP%]   .status-pill--enregistre[_ngcontent-%COMP%]{background:#1e40af33;color:#93c5fd;border-color:#1e40af4d}body.dark[_ngcontent-%COMP%]   .status-pill--pending[_ngcontent-%COMP%]{background:#92400e33;color:#fcd34d;border-color:#92400e4d}body.dark[_ngcontent-%COMP%]   .status-pill--validated[_ngcontent-%COMP%]{background:#16653433;color:#86efac;border-color:#1665344d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted[_ngcontent-%COMP%]{background:#14532d33;color:#6ee7b7;border-color:#14532d4d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted-final[_ngcontent-%COMP%]{background:#064e3b33;color:#34d399;border-color:#05966966}body.dark[_ngcontent-%COMP%]   .status-pill--renvoye[_ngcontent-%COMP%]{background:#9a341233;color:#fdba74;border-color:#9a34124d}body.dark[_ngcontent-%COMP%]   .status-pill--reintegre[_ngcontent-%COMP%]{background:#0f766e33;color:#5eead4;border-color:#0f766e4d}body.dark[_ngcontent-%COMP%]   .status-pill--refoule[_ngcontent-%COMP%]{background:#991b1b33;color:#fca5a5;border-color:#991b1b4d}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0;color:var(--text-primary)}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;overflow-y:auto;flex:1}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem}body.dark[_ngcontent-%COMP%]   .modal__backdrop[_ngcontent-%COMP%]{background:#000000b3}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1e293b;border:1px solid rgba(255,255,255,.1)}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{color:#fff}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#0f172a;border-top-color:#ffffff1a}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition-normal);width:100%}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.truck-field[_ngcontent-%COMP%]   .truck-help[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{background:#0f172a;border-color:#ffffff1a;color:#fff}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.notification-banner[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;background:#f0fdf4;border:1px solid #bbf7d0;color:#166534;padding:1rem 1.5rem;border-radius:.75rem;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.16,1,.3,1);font-weight:600}.notification-banner[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#15803d}@media (max-width: 480px){.notification-banner[_ngcontent-%COMP%]{top:70px;right:10px;left:10px;justify-content:center}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}[_nghost-%COMP%]{--row-hover: rgba(43, 140, 238, .04);--card-shadow: 0 10px 40px -10px rgba(0, 0, 0, .08);--card-border: 1px solid rgba(0, 0, 0, .05);--transition: all .25s cubic-bezier(.4, 0, .2, 1);--notification-red: #ef4444;--chip-text: #4c739a;--chip-border: #e2e8f0}.pageMain[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light)}.page-root[_ngcontent-%COMP%], .page-main[_ngcontent-%COMP%]{width:100%}.admin-scroll[_ngcontent-%COMP%]{padding:2rem 1.5rem;width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.page-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem}.page-head[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:800;color:var(--text-primary);letter-spacing:-.025em;margin:0}.page-head[_ngcontent-%COMP%]   .page-desc[_ngcontent-%COMP%]{margin:.5rem 0 0;color:var(--text-secondary);font-size:1rem;font-weight:500}.filters-chips-section[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.filter-chip-wrap[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.75rem;background:#fff;border:1px solid var(--chip-border);border-radius:1rem;padding:.75rem 1.25rem;min-width:220px;transition:var(--transition)}.filter-chip-wrap[_ngcontent-%COMP%]:hover{border-color:var(--primary);box-shadow:0 4px 12px #2b8cee1a}.filter-chip-wrap[_ngcontent-%COMP%]   .chip-icon[_ngcontent-%COMP%]{font-size:20px;color:#94a3b8}.filter-chip-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:none;background:transparent;font-size:.9375rem;font-weight:700;color:var(--chip-text);cursor:pointer;flex:1;appearance:none;outline:none;padding-right:1.5rem}.filter-chip-wrap[_ngcontent-%COMP%]   .chip-arrow[_ngcontent-%COMP%]{position:absolute;right:1rem;font-size:20px;color:#94a3b8;pointer-events:none}.warehouse-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:2rem}@media (max-width: 640px){.warehouse-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.page-head[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.page-head[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.75rem}.page-head[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{width:100%;justify-content:center}}.warehouse-card[_ngcontent-%COMP%]{background:#fff;border-radius:1.5rem;border:var(--card-border);box-shadow:var(--card-shadow);overflow:hidden;transition:var(--transition);cursor:pointer}.warehouse-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 30px 60px -12px #00000026}.warehouse-card[_ngcontent-%COMP%]:hover   .footer-arrow[_ngcontent-%COMP%]{transform:translate(4px);color:var(--primary)}.warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]{width:100%;aspect-ratio:16/10;background-size:cover;background-position:center;position:relative;border-radius:1.5rem 1.5rem 0 0}.warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;background:var(--notification-red);color:#fff;width:28px;height:28px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:.75rem;font-weight:800;box-shadow:0 4px 12px #ef444466}.warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]   .card-menu-btn[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;width:36px;height:36px;background:#ffffffe6;border:1px solid var(--border-light);border-radius:.5rem;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition)}.warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]   .card-menu-btn[_ngcontent-%COMP%]:hover{background:#fff;box-shadow:0 4px 12px #0000001a}.warehouse-card[_ngcontent-%COMP%]   .warehouse-content[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem}.warehouse-card[_ngcontent-%COMP%]   .warehouse-name[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:800;color:#0f172a;margin:0}.warehouse-card[_ngcontent-%COMP%]   .warehouse-location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#64748b;font-size:.9375rem;font-weight:500;margin-top:.4rem}.warehouse-card[_ngcontent-%COMP%]   .warehouse-location[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px;color:#94a3b8}.warehouse-card[_ngcontent-%COMP%]   .card-divider[_ngcontent-%COMP%]{height:1px;background:var(--border-light);margin:0 -1.5rem;opacity:.6}.warehouse-card[_ngcontent-%COMP%]   .warehouse-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.warehouse-card[_ngcontent-%COMP%]   .warehouse-footer[_ngcontent-%COMP%]   .status-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.warehouse-card[_ngcontent-%COMP%]   .warehouse-footer[_ngcontent-%COMP%]   .status-block[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:800;color:#64748b;letter-spacing:.05em}.warehouse-card[_ngcontent-%COMP%]   .warehouse-footer[_ngcontent-%COMP%]   .status-block[_ngcontent-%COMP%]   .status-count[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:900;color:var(--primary)}.warehouse-card[_ngcontent-%COMP%]   .warehouse-footer[_ngcontent-%COMP%]   .footer-arrow[_ngcontent-%COMP%]{font-size:24px;color:#94a3b8;transition:var(--transition)}.warehouse-dropdown[_ngcontent-%COMP%]{position:absolute;top:3.5rem;right:1rem;background:#fff;border:var(--card-border);border-radius:1rem;box-shadow:0 10px 30px #00000026;padding:.5rem;min-width:160px;z-index:20}.warehouse-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:none;background:transparent;display:flex;align-items:center;gap:.75rem;font-size:.875rem;font-weight:600;color:var(--text-primary);cursor:pointer;border-radius:.6rem;transition:background .15s ease}.warehouse-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px;color:var(--text-secondary)}.warehouse-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--primary-subtle);color:var(--primary)}.warehouse-dropdown[_ngcontent-%COMP%]   button.danger[_ngcontent-%COMP%]{color:var(--notification-red)}.warehouse-dropdown[_ngcontent-%COMP%]   button.danger[_ngcontent-%COMP%]:hover{background:#fee2e2}.card.chart-section[_ngcontent-%COMP%]{padding:3rem;margin-top:2rem;border-radius:2rem;background:#fff;border:1px solid rgba(226,232,240,.8);box-shadow:0 4px 6px -1px #00000005,0 2px 4px -1px #00000005}.card.chart-section[_ngcontent-%COMP%]   .section-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4rem}.card.chart-section[_ngcontent-%COMP%]   .section-head[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#1e293b;letter-spacing:-.02em;margin:0}.card.chart-section[_ngcontent-%COMP%]   .section-head[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.card.chart-section[_ngcontent-%COMP%]   .section-head[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem;font-size:.875rem;font-weight:600;color:#64748b;background:#f8fafc;padding:.5rem 1rem;border-radius:999px;border:1px solid #e2e8f0}.card.chart-section[_ngcontent-%COMP%]   .section-head[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%}.card.chart-section[_ngcontent-%COMP%]   .section-head[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.primary[_ngcontent-%COMP%]{background-color:var(--primary);box-shadow:0 0 0 2px #2b8cee33}.card.chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:380px;position:relative;padding:0 1rem}.card.chart-section[_ngcontent-%COMP%]   .chart-grid-lines[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:space-between;pointer-events:none;padding-bottom:50px}.card.chart-section[_ngcontent-%COMP%]   .chart-grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]{width:100%;height:1px;border-bottom:1px dashed #e2e8f0}.card.chart-section[_ngcontent-%COMP%]   .chart-grid-lines[_ngcontent-%COMP%]   .grid-line[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #cbd5e1}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]{position:relative;display:flex;align-items:flex-end;justify-content:space-between;height:100%;padding-bottom:0;z-index:2}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .chart-day[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%;position:relative}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .chart-day[_ngcontent-%COMP%]:hover   .chart-bar[_ngcontent-%COMP%]{transform:scaleY(1.03);box-shadow:0 12px 24px #2b8cee4d}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .chart-day[_ngcontent-%COMP%]:hover   .chart-bar[_ngcontent-%COMP%]:after{opacity:.8}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .chart-day[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:var(--primary);font-weight:800}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .chart-day[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:.85rem;font-weight:600;color:#94a3b8;transition:all .2s ease;text-transform:uppercase;letter-spacing:.05em}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]{width:44px;background:linear-gradient(180deg,#3b82f6,#2563eb);border-radius:12px 12px 4px 4px;position:relative;transition:all .4s cubic-bezier(.34,1.56,.64,1);transform-origin:bottom}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,#fff3,#fff0 40%);border-radius:inherit;opacity:.4;transition:opacity .3s}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .chart-bar[_ngcontent-%COMP%]:hover   .bar-tooltip[_ngcontent-%COMP%]{opacity:1;transform:translate(-50%,-12px) scale(1)}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]{position:absolute;top:-40px;left:50%;transform:translate(-50%) scale(.9);background:#1e293b;color:#fff;padding:.5rem .8rem;border-radius:.5rem;font-size:.8rem;font-weight:700;white-space:nowrap;box-shadow:0 4px 12px #00000026;opacity:0;pointer-events:none;transition:all .3s cubic-bezier(.16,1,.3,1);z-index:10}.card.chart-section[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;left:50%;transform:translate(-50%) rotate(45deg);width:8px;height:8px;background:#1e293b}.file-upload-container[_ngcontent-%COMP%]{background:#f8fafc80;border:1px dashed var(--border-light);border-radius:1rem;padding:1.25rem;transition:var(--transition)}.file-upload-container[_ngcontent-%COMP%]:hover{border-color:var(--primary);background:#fff;box-shadow:inset 0 0 12px #2b8cee0d}.upload-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem;flex-wrap:wrap}.file-upload-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:.75rem 1.5rem;background:#fff;border:1px solid var(--border-light);border-radius:.75rem;font-size:.9375rem;font-weight:700;color:#0d141b;cursor:pointer;transition:var(--transition);box-shadow:0 2px 4px #0000000a}.file-upload-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:22px;color:var(--primary)}.file-upload-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);border-color:var(--primary);box-shadow:0 8px 16px #2b8cee26}.file-upload-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.file-name[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500;max-width:220px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;align-items:center;gap:.5rem}.file-name.has-file[_ngcontent-%COMP%]{color:var(--primary);font-weight:700}.file-name.has-file[_ngcontent-%COMP%]:before{content:"check_circle";font-family:Material Symbols Outlined;font-size:18px}.image-preview-box[_ngcontent-%COMP%]{width:100%;height:160px;border-radius:1rem;border:1px solid var(--border-light);margin-top:.5rem;background-size:cover;background-position:center}body.dark[_ngcontent-%COMP%]   .pageMain[_ngcontent-%COMP%]{background-color:var(--background-dark)}body.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .filter-chip-wrap[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .filter-chip-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .warehouse-card[_ngcontent-%COMP%]   .warehouse-name[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .warehouse-card[_ngcontent-%COMP%]   .warehouse-location[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .warehouse-card[_ngcontent-%COMP%]   .card-divider[_ngcontent-%COMP%]{background:#ffffff1a}body.dark[_ngcontent-%COMP%]   .warehouse-card[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{color:#94a3b8}.error-message-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;background-color:#fef2f2;border:1px solid #fee2e2;color:#ef4444;padding:.75rem 1rem;border-radius:.5rem;margin-bottom:1.5rem;font-size:.9rem;font-weight:500}.error-message-box[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px;font-variation-settings:"FILL" 1}']})};function Zk(n,t){if(n&1&&(s(0,"option",34),l(1),c()),n&2){let e=t.$implicit;b("value",e.id),f(),k(" ",e.name," ")}}function Qk(n,t){n&1&&(s(0,"tr")(1,"td",35)(2,"span",36),l(3,"history_toggle_off"),c(),l(4," Aucun passage ne correspond aux filtres. "),c()())}function Kk(n,t){n&1&&(s(0,"span",49)(1,"span",50),l(2,"check_circle"),c(),l(3," Enregistr\xE9 "),c())}function Jk(n,t){n&1&&(s(0,"span",51)(1,"span",50),l(2,"hourglass_empty"),c(),l(3," En attente "),c())}function Xk(n,t){n&1&&(s(0,"span",52)(1,"span",50),l(2,"verified"),c(),l(3," Valid\xE9 "),c())}function eD(n,t){n&1&&(s(0,"span",53)(1,"span",50),l(2,"assignment_turned_in"),c(),l(3," Accept\xE9 d\xE9f. "),c())}function tD(n,t){n&1&&(s(0,"span",54)(1,"span",50),l(2,"cancel"),c(),l(3," Refoul\xE9 "),c())}function nD(n,t){n&1&&(s(0,"span",55)(1,"span",50),l(2,"reply"),c(),l(3," Renvoy\xE9 "),c())}function rD(n,t){if(n&1){let e=V();s(0,"tr")(1,"td")(2,"div",37)(3,"span",38),l(4,"domain"),c(),l(5),c()(),s(6,"td")(7,"span",39),l(8),c()(),s(9,"td")(10,"span",40),l(11),c()(),s(12,"td"),l(13),oe(14,"date"),c(),s(15,"td"),l(16),c(),s(17,"td"),E(18,Kk,4,0,"span",41)(19,Jk,4,0,"span",42)(20,Xk,4,0,"span",43)(21,eD,4,0,"span",44)(22,tD,4,0,"span",45)(23,nD,4,0,"span",46),c(),s(24,"td")(25,"div",47)(26,"button",48),_("click",function(){let o=v(e).$implicit,i=m();return y(i.openDetailsModal(o))}),s(27,"span",9),l(28,"visibility"),c()()()()()}if(n&2){let e=t.$implicit,r=m();f(5),k(" ",e.entrepotName," "),f(3),w(e.immatriculation),f(3),w(e.cooperative),f(2),w(ce(14,11,e.createdAt,"dd/MM/yyyy")),f(3),w(r.formatHeure(e.createdAt)),f(2),b("ngIf",e.statut==="Enregistr\xE9"),f(),b("ngIf",e.statut==="En attente"),f(),b("ngIf",e.statut==="Valid\xE9"&&e.advancedStatus!=="ACCEPTE_FINAL"),f(),b("ngIf",e.advancedStatus==="ACCEPTE_FINAL"),f(),b("ngIf",e.statut==="Refoul\xE9"||e.statut==="Annul\xE9"&&e.advancedStatus!=="REFUSE_RENVOYE"),f(),b("ngIf",e.advancedStatus==="REFUSE_RENVOYE")}}function oD(n,t){if(n&1){let e=V();s(0,"div",56)(1,"span",57),l(2),c(),s(3,"div",58)(4,"button",59),_("click",function(){v(e);let o=m();return y(o.previousPage())}),s(5,"span",9),l(6,"chevron_left"),c()(),s(7,"button",59),_("click",function(){v(e);let o=m();return y(o.nextPage())}),s(8,"span",9),l(9,"chevron_right"),c()()()()}if(n&2){let e=m();f(2),Ft(" PAGE ",e.currentPage," DE ",e.totalPages," "),f(2),b("disabled",e.currentPage===1),f(3),b("disabled",e.currentPage>=e.totalPages)}}function iD(n,t){n&1&&(s(0,"div",78),l(1," Aucun historique disponible. "),c())}function aD(n,t){if(n&1&&(s(0,"div",79),H(1,"div",80),s(2,"div",81)(3,"div",82),l(4),c(),s(5,"div",83)(6,"strong"),l(7),c(),l(8),oe(9,"date"),c()()()),n&2){let e=t.$implicit;f(4),w(e.event),f(3),w(e.by||"\u2014"),f(),k(" \u2022 ",ce(9,3,e.date,"dd/MM/yyyy HH:mm")," ")}}function sD(n,t){if(n&1&&(s(0,"div",69)(1,"div",70)(2,"div",71)(3,"div",72),l(4,"Immatriculation"),c(),s(5,"div",73),l(6),c()(),s(7,"div",71)(8,"div",72),l(9,"Coop\xE9rative"),c(),s(10,"div",73),l(11),c()(),s(12,"div",71)(13,"div",72),l(14,"Entrep\xF4t"),c(),s(15,"div",73),l(16),c()(),s(17,"div",71)(18,"div",72),l(19,"Date arriv\xE9e"),c(),s(20,"div",73),l(21),oe(22,"date"),c()(),s(23,"div",71)(24,"div",72),l(25,"KOR / TH"),c(),s(26,"div",73),l(27),c()(),s(28,"div",71)(29,"div",72),l(30,"Statut"),c(),s(31,"div",73)(32,"span",74)(33,"span",50),l(34),c(),l(35),c()()()(),s(36,"div",75),E(37,iD,2,0,"div",76)(38,aD,10,6,"div",77),c()()),n&2){let e=m(2);f(6),w(e.selectedRow.immatriculation),f(5),w(e.selectedRow.cooperative),f(5),w(e.selectedRow.entrepotName),f(5),Ft(" ",ce(22,12,e.selectedRow.createdAt,"dd/MM/yyyy")," \u2022 ",e.formatHeure(e.selectedRow.createdAt)," "),f(6),Ft(" ",e.selectedRow.kor||"\u2014"," / ",e.selectedRow.th||"\u2014"," "),f(5),b("ngClass",e.getStatusCssClass(e.selectedRow.statut)),f(2),w(e.getStatusIcon(e.selectedRow.statut)),f(),k(" ",e.selectedRow.statut," "),f(2),b("ngIf",!e.selectedRow.history||e.selectedRow.history.length===0),f(),b("ngForOf",e.selectedRow.history)}}function cD(n,t){if(n&1){let e=V();s(0,"div",60)(1,"div",61),_("click",function(){v(e);let o=m();return y(o.closeDetailsModal())}),c(),s(2,"div",62)(3,"div",63)(4,"h2",64),l(5,"Historique du camion"),c(),s(6,"button",65),_("click",function(){v(e);let o=m();return y(o.closeDetailsModal())}),s(7,"span",9),l(8,"close"),c()()(),E(9,sD,39,15,"div",66),s(10,"div",67)(11,"button",68),_("click",function(){v(e);let o=m();return y(o.closeDetailsModal())}),l(12," Fermer "),c()()()()}if(n&2){let e=m();f(9),b("ngIf",e.selectedRow)}}var od=class n{constructor(t,e){this.truckService=t;this.warehouseService=e}allRows=[];filteredRows=[];paginatedRows=[];currentPage=1;itemsPerPage=10;searchTerm="";selectedWarehouseId="all";selectedStatus="all";selectedDate="";warehousesOptions=[];showDetailsModal=!1;selectedRow=null;ngOnInit(){this.loadData()}loadData(){this.warehouseService.getWarehouses().subscribe({next:t=>{this.warehousesOptions=t,this.loadTrucks()},error:t=>{console.error("Erreur loading warehouses",t),this.loadTrucks()}})}loadTrucks(){this.truckService.getTrucks().subscribe({next:t=>{this.allRows=t.map(e=>{let r=this.warehousesOptions.find(o=>o.id===e.entrepotId)??null;return{entrepotId:e.entrepotId,entrepotName:r?r.name:"Entrep\xF4t inconnu",immatriculation:e.immatriculation,transporteur:e.transporteur,kor:e.kor||"",th:e.th||e.thElement||e.TH||"",cooperative:e.cooperative,heureArrivee:e.heureArrivee,debutDechargement:"-",finDechargement:"-",statut:e.statut,advancedStatus:e.advancedStatus,createdAt:e.createdAt||new Date().toISOString(),history:e.history||[]}}),this.allRows.sort((e,r)=>new Date(r.createdAt).getTime()-new Date(e.createdAt).getTime()),this.applyFilters()},error:t=>console.error("Erreur loading trucks",t)})}applyFilters(){let t=this.searchTerm.trim().toLowerCase(),e=new Date;this.filteredRows=this.allRows.filter(r=>{if(t&&!(r.immatriculation+" "+r.transporteur).toLowerCase().includes(t)||this.selectedWarehouseId!=="all"&&r.entrepotId!==Number(this.selectedWarehouseId))return!1;if(this.selectedStatus!=="all"){let o=this.selectedStatus,i=r.statut,a=r.advancedStatus;if(o==="Enregistr\xE9"){if(i!=="Enregistr\xE9")return!1}else if(o==="En attente"){if(i!=="En attente")return!1}else if(o==="Valid\xE9"){if(i!=="Valid\xE9"||a==="ACCEPTE_FINAL")return!1}else if(o==="Accept\xE9"){if(a!=="ACCEPTE_FINAL")return!1}else if(o==="Refoul\xE9"){if(!(i==="Refoul\xE9")&&!(i==="Annul\xE9"&&a!=="REFUSE_RENVOYE"))return!1}else if(o==="Renvoy\xE9"){if(i!=="Annul\xE9"||a!=="REFUSE_RENVOYE")return!1}else if(i!==o)return!1}if(this.selectedDate){let o=new Date(r.createdAt);if(isNaN(o.getTime())||(a=>{let d=a.getFullYear(),u=String(a.getMonth()+1).padStart(2,"0"),p=String(a.getDate()).padStart(2,"0");return`${d}-${u}-${p}`})(o)!==this.selectedDate)return!1}return!0}),this.currentPage=1,this.updatePagination()}updatePagination(){let t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;this.paginatedRows=this.filteredRows.slice(t,e)}get totalPages(){return Math.ceil(this.filteredRows.length/this.itemsPerPage)||1}previousPage(){this.currentPage>1&&(this.currentPage--,this.updatePagination())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updatePagination())}formatDateTime(t){let e=new Date(t);if(isNaN(e.getTime()))return"";let r=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear(),a=String(e.getHours()).padStart(2,"0"),d=String(e.getMinutes()).padStart(2,"0");return`${r}/${o}/${i} ${a}:${d}`}getTodayFileName(){let t=new Date,e=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0");return`${t.getFullYear()}-${r}-${e}`}exporterCSV(){if(!this.filteredRows||this.filteredRows.length===0){alert("Aucune donn\xE9e \xE0 exporter.");return}let t=["Entrep\xF4t","Immatriculation","Transporteur","Date Arriv\xE9e Camion","Heure d'enregistrement","Statut"],e=this.filteredRows.map(u=>{let p=this.warehousesOptions.find(C=>C.id===u.entrepotId),g=u.createdAt?new Date(u.createdAt):null,h=g&&!isNaN(g.getTime())?`${String(g.getDate()).padStart(2,"0")}/${String(g.getMonth()+1).padStart(2,"0")}/${g.getFullYear()}`:"",M=g&&!isNaN(g.getTime())?`${String(g.getHours()).padStart(2,"0")}:${String(g.getMinutes()).padStart(2,"0")}`:"";return[p?p.name:"",u.immatriculation,u.transporteur,h,M,u.statut]}),o="\uFEFF"+[t.join(";"),...e.map(u=>u.map(p=>`"${String(p).replace(/"/g,'""')}"`).join(";"))].join(`
`),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(i),d=document.createElement("a");d.href=a,d.download=`historique_camions_${this.getTodayFileName()}.csv`,d.click(),URL.revokeObjectURL(a)}openDetailsModal(t){try{this.selectedRow=JSON.parse(JSON.stringify(t))}catch{this.selectedRow=Object.assign({},t)}this.selectedRow&&Array.isArray(this.selectedRow.history)&&this.selectedRow.history.sort((e,r)=>{let o=e&&e.date?new Date(e.date).getTime():0;return(r&&r.date?new Date(r.date).getTime():0)-o}),this.showDetailsModal=!0}closeDetailsModal(){this.showDetailsModal=!1,this.selectedRow=null}getStatusCssClass(t){switch(t){case"D\xE9charg\xE9":return"status-pill status-pill--validated";case"En attente":return"status-pill status-pill--pending";case"Annul\xE9":case"Refoul\xE9":return"status-pill status-pill--refoule";case"En cours de d\xE9chargement":return"status-pill status-pill--enregistre";case"Enregistr\xE9":return"status-pill status-pill--enregistre";case"Valid\xE9":return"status-pill status-pill--validated";default:return"status-pill"}}getStatusIcon(t){switch(t){case"D\xE9charg\xE9":case"Valid\xE9":return"check_circle";case"En attente":return"hourglass_empty";case"Annul\xE9":case"Refoul\xE9":return"cancel";case"En cours de d\xE9chargement":return"sync";case"Enregistr\xE9":return"save_as";default:return"help_outline"}}formatHeure(t){return t?new Date(t).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"-"}static \u0275fac=function(e){return new(e||n)(S(ft),S(Me))};static \u0275cmp=te({type:n,selectors:[["app-historique"]],decls:73,vars:12,consts:[[1,"pageMain"],[1,"page-root"],[1,"page-main"],[1,"admin-scroll"],[1,"content"],[1,"page-head"],[1,"page-title"],[1,"page-desc"],["type","button",1,"btn-primary",3,"click","disabled"],[1,"material-symbols-outlined","notranslate"],["aria-label","Filtres d'historique",1,"card","filters"],[1,"filters-row"],[1,"field"],[1,"left-icon"],["type","text","placeholder","Rechercher par coop\xE9rative ou immatriculation",3,"ngModelChange","ngModel"],[1,"select-wrap"],["aria-label","Filtrer par entrep\xF4t",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["type","text","onfocus","this.type = 'date'","onblur","this.value ? (this.type = 'date') : (this.type = 'text')","placeholder","S\xE9lectionner une date",3,"ngModelChange","ngModel"],["aria-label","Filtrer par statut",3,"ngModelChange","change","ngModel"],["value","Enregistr\xE9"],["value","En attente"],["value","Valid\xE9"],["value","Accept\xE9"],["value","Refoul\xE9"],["value","Renvoy\xE9"],["aria-label","Tableau des passages",1,"card"],[1,"table-wrap"],[2,"text-align","right"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","pagination-footer",4,"ngIf"],["class","modal",4,"ngIf"],[3,"value"],["colspan","7",1,"sub",2,"text-align","center","padding","3rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","3rem","opacity","0.1","display","block","margin-bottom","1rem"],[1,"warehouse-display"],[1,"material-symbols-outlined","notranslate",2,"font-size","18px","color","var(--text-secondary)","opacity","0.7"],[1,"name"],[1,"sub"],["class","status-pill status-pill--enregistre",4,"ngIf"],["class","status-pill status-pill--pending",4,"ngIf"],["class","status-pill status-pill--validated",4,"ngIf"],["class","status-pill status-pill--accepted-final",4,"ngIf"],["class","status-pill status-pill--refoule",4,"ngIf"],["class","status-pill status-pill--refoule","style","background-color: #fef9c3; color: #854d0e; border-color: #fde047",4,"ngIf"],[1,"row-actions"],["type","button","title","Voir le d\xE9tail",1,"mini-btn",3,"click"],[1,"status-pill","status-pill--enregistre"],[1,"material-symbols-outlined","notranslate","status-icon"],[1,"status-pill","status-pill--pending"],[1,"status-pill","status-pill--validated"],[1,"status-pill","status-pill--accepted-final"],[1,"status-pill","status-pill--refoule"],[1,"status-pill","status-pill--refoule",2,"background-color","#fef9c3","color","#854d0e","border-color","#fde047"],[1,"pagination-footer"],[1,"pagination-info"],[1,"pagination-controls"],["type","button",1,"mini-btn",3,"click","disabled"],[1,"modal"],[1,"modal__backdrop",3,"click"],[1,"modal__panel"],[1,"truck-modal-header"],[1,"truck-modal-title"],["type","button","aria-label","Fermer",1,"truck-modal-close",3,"click"],["class","truck-modal-body",4,"ngIf"],[1,"truck-modal-footer"],["type","button",1,"btn-primary",3,"click"],[1,"truck-modal-body"],[1,"truck-summary"],[1,"truck-summary-row"],[1,"summary-key"],[1,"summary-value"],[1,"status-pill",3,"ngClass"],[1,"history-section"],["class","sub","style","text-align: center; opacity: 0.6; padding: 1rem",4,"ngIf"],["class","history-item",4,"ngFor","ngForOf"],[1,"sub",2,"text-align","center","opacity","0.6","padding","1rem"],[1,"history-item"],[1,"history-dot"],[1,"history-content"],[1,"history-event"],[1,"history-meta"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"div",1)(2,"main",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"h2",6),l(8,"Historique des passages"),c(),s(9,"p",7),l(10," Consultez et filtrez l'historique de tous les passages de camions. "),c()(),s(11,"button",8),_("click",function(){return r.exporterCSV()}),s(12,"span",9),l(13,"download"),c(),s(14,"span"),l(15,"Exporter en CSV"),c()()(),s(16,"section",10)(17,"div",11)(18,"div",12)(19,"span",13)(20,"span",9),l(21,"search"),c()(),s(22,"input",14),A("ngModelChange",function(i){return N(r.searchTerm,i)||(r.searchTerm=i),i}),_("ngModelChange",function(){return r.applyFilters()}),c()(),s(23,"div",15)(24,"select",16),A("ngModelChange",function(i){return N(r.selectedWarehouseId,i)||(r.selectedWarehouseId=i),i}),_("change",function(){return r.applyFilters()}),s(25,"option",17),l(26,"Tous les entrep\xF4ts"),c(),E(27,Zk,2,2,"option",18),c()(),s(28,"div",12)(29,"span",13)(30,"span",9),l(31,"calendar_today"),c()(),s(32,"input",19),A("ngModelChange",function(i){return N(r.selectedDate,i)||(r.selectedDate=i),i}),_("ngModelChange",function(){return r.applyFilters()}),c()(),s(33,"div",15)(34,"select",20),A("ngModelChange",function(i){return N(r.selectedStatus,i)||(r.selectedStatus=i),i}),_("change",function(){return r.applyFilters()}),s(35,"option",17),l(36,"Tous les statuts"),c(),s(37,"option",21),l(38,"Enregistr\xE9"),c(),s(39,"option",22),l(40,"En attente"),c(),s(41,"option",23),l(42,"Valid\xE9"),c(),s(43,"option",24),l(44,"Accept\xE9"),c(),s(45,"option",25),l(46,"Refoul\xE9"),c(),s(47,"option",26),l(48,"Renvoy\xE9"),c()()()()(),s(49,"section",27)(50,"div",28)(51,"table")(52,"thead")(53,"tr")(54,"th"),l(55,"Entrep\xF4t"),c(),s(56,"th"),l(57,"Immatriculation"),c(),s(58,"th"),l(59,"COOPERATIVE"),c(),s(60,"th"),l(61,"Date Arriv\xE9e"),c(),s(62,"th"),l(63,"Heure Enr."),c(),s(64,"th"),l(65,"Statut"),c(),s(66,"th",29),l(67,"Action"),c()()(),s(68,"tbody"),E(69,Qk,5,0,"tr",30)(70,rD,29,14,"tr",31),c()()(),E(71,oD,10,4,"div",32),c(),E(72,cD,13,1,"div",33),c()()()()()),e&2&&(f(11),b("disabled",r.filteredRows.length===0),f(11),T("ngModel",r.searchTerm),f(2),T("ngModel",r.selectedWarehouseId),f(),b("ngValue","all"),f(2),b("ngForOf",r.warehousesOptions),f(5),T("ngModel",r.selectedDate),f(2),T("ngModel",r.selectedStatus),f(),b("ngValue","all"),f(34),b("ngIf",r.filteredRows.length===0),f(),b("ngForOf",r.paginatedRows),f(),b("ngIf",r.filteredRows.length>0),f(),b("ngIf",r.showDetailsModal))},dependencies:[ae,vt,be,me,Se,Pr,kr,xe,Or,De,Oe,tt],styles:[`@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1d4ed8;--primary-subtle: #e7edf3;--success-bg: #dcfce7;--success-text: #166534;--success-border: #dcfce7;--warning-bg: #fffbeb;--warning-text: #b45309;--warning-border: #fef3c7;--danger-bg: #fee2e2;--danger-text: #991b1b;--danger-border: #fecaca;--danger-solid: #ef4444;--info-bg: #e0f2fe;--info-text: #0284c7;--background-light: #f6f7f8;--background-white: #ffffff;--background-dark: #101922;--text-primary: #0d141b;--text-secondary: #4c739a;--text-tertiary: #94a3b8;--border-light: #e2e8f0;--border-medium: #cbd5e1;--border-dark: #1f2933;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-card: 0 10px 40px -10px rgba(0, 0, 0, .08);--shadow-float: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease-in-out;--transition-normal: all .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .35s cubic-bezier(.16, 1, .3, 1);--header-height: 72px;--sidebar-width: 280px}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#e5e7eb}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;translate:no}.material-symbols-outlined.notranslate[_ngcontent-%COMP%]{translate:no}.page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);padding:2rem 1.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:var(--text-primary);text-shadow:0 2px 10px rgba(43,140,238,.1);letter-spacing:-.025em;margin:0;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-top:.5rem;font-weight:500}.card[_ngcontent-%COMP%]{background:var(--background-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);border:1px solid rgba(0,0,0,.03);padding:1.5rem;transition:var(--transition-normal)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-float)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.95rem;cursor:pointer;transition:var(--transition-normal);border:none;outline:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;box-shadow:0 4px 12px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 16px #2b8cee66}.btn-secondary[_ngcontent-%COMP%]{background:var(--background-white);border:1px solid var(--border-light);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:var(--border-medium)}.btn-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);cursor:pointer;transition:var(--transition-normal)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary);border-color:var(--primary)}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gap-1[_ngcontent-%COMP%]{gap:.25rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.w-full[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none!important}.responsive-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.truck-modal-close[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.06)!important;background:#ef4444!important;color:#fff!important;border-radius:.5rem!important;width:2.25rem!important;height:2.25rem!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;font-weight:700!important;transition:background-color .12s ease,transform .08s ease,box-shadow .12s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#dc2626!important;transform:translateY(-2px)!important;box-shadow:0 10px 30px #dc262624!important}.truck-modal-close[_ngcontent-%COMP%]:focus{outline:3px solid rgba(239,68,68,.18)!important;outline-offset:2px!important}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;line-height:1;min-height:1.8rem;box-sizing:border-box;box-shadow:var(--shadow-sm)}.status-pill[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.status-pill--enregistre[_ngcontent-%COMP%]{background:var(--info-bg);color:var(--info-text);border:1px solid var(--info-bg)}.status-pill--pending[_ngcontent-%COMP%]{background:var(--warning-bg);color:var(--warning-text);border:1px solid var(--warning-border)}.status-pill--validated[_ngcontent-%COMP%], .status-pill--accepted[_ngcontent-%COMP%]{background:var(--success-bg);color:var(--success-text);border:1px solid var(--success-border)}.status-pill--accepted-final[_ngcontent-%COMP%]{background:#ecfdf5;color:#064e3b;border:1px solid #059669}.status-pill--renvoye[_ngcontent-%COMP%]{background:#fff7ed;color:#c2410c;border:1px solid #ffedd5}.status-pill--reintegre[_ngcontent-%COMP%]{background:#f0fdfa;color:#0f766e;border:1px solid #ccfbf1}.status-pill--refoule[_ngcontent-%COMP%]{background:var(--danger-bg);color:var(--danger-text);border:1px solid var(--danger-border)}body.dark[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000004d}body.dark[_ngcontent-%COMP%]   .status-pill--enregistre[_ngcontent-%COMP%]{background:#1e40af33;color:#93c5fd;border-color:#1e40af4d}body.dark[_ngcontent-%COMP%]   .status-pill--pending[_ngcontent-%COMP%]{background:#92400e33;color:#fcd34d;border-color:#92400e4d}body.dark[_ngcontent-%COMP%]   .status-pill--validated[_ngcontent-%COMP%]{background:#16653433;color:#86efac;border-color:#1665344d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted[_ngcontent-%COMP%]{background:#14532d33;color:#6ee7b7;border-color:#14532d4d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted-final[_ngcontent-%COMP%]{background:#064e3b33;color:#34d399;border-color:#05966966}body.dark[_ngcontent-%COMP%]   .status-pill--renvoye[_ngcontent-%COMP%]{background:#9a341233;color:#fdba74;border-color:#9a34124d}body.dark[_ngcontent-%COMP%]   .status-pill--reintegre[_ngcontent-%COMP%]{background:#0f766e33;color:#5eead4;border-color:#0f766e4d}body.dark[_ngcontent-%COMP%]   .status-pill--refoule[_ngcontent-%COMP%]{background:#991b1b33;color:#fca5a5;border-color:#991b1b4d}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0;color:var(--text-primary)}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;overflow-y:auto;flex:1}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem}body.dark[_ngcontent-%COMP%]   .modal__backdrop[_ngcontent-%COMP%]{background:#000000b3}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1e293b;border:1px solid rgba(255,255,255,.1)}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{color:#fff}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#0f172a;border-top-color:#ffffff1a}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition-normal);width:100%}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.truck-field[_ngcontent-%COMP%]   .truck-help[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{background:#0f172a;border-color:#ffffff1a;color:#fff}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.notification-banner[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;background:#f0fdf4;border:1px solid #bbf7d0;color:#166534;padding:1rem 1.5rem;border-radius:.75rem;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.16,1,.3,1);font-weight:600}.notification-banner[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#15803d}@media (max-width: 480px){.notification-banner[_ngcontent-%COMP%]{top:70px;right:10px;left:10px;justify-content:center}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}[_nghost-%COMP%]{--row-hover: rgba(43, 140, 238, .04);--card-shadow: 0 10px 40px -10px rgba(0, 0, 0, .08);--card-border: 1px solid rgba(0, 0, 0, .05);--transition: all .25s cubic-bezier(.4, 0, .2, 1)}.pageMain[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light)}.page-root[_ngcontent-%COMP%], .page-main[_ngcontent-%COMP%]{width:100%}.admin-scroll[_ngcontent-%COMP%]{padding:2rem 1rem;width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.page-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:.5rem}.page-head[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:800;color:var(--text-primary);letter-spacing:-.025em;margin:0}.page-head[_ngcontent-%COMP%]   .page-desc[_ngcontent-%COMP%]{margin:.5rem 0 0;color:var(--text-secondary);font-size:1rem;font-weight:500}.btn-primary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background:var(--primary);color:#fff;border:none;border-radius:.75rem;padding:.875rem 1.5rem;font-size:.9375rem;font-weight:700;cursor:pointer;transition:var(--transition);box-shadow:0 10px 20px -5px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 15px 25px -5px #2b8cee66;filter:brightness(1.1)}.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}.btn-primary[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px}.card[_ngcontent-%COMP%]{background:#fff;border:var(--card-border);border-radius:1.25rem;box-shadow:var(--row-shadow, var(--card-shadow));overflow:hidden;transition:var(--transition)}.filters[_ngcontent-%COMP%]{padding:1.5rem}.filters[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 200px 200px 200px;gap:1rem;align-items:center}@media (max-width: 1024px){.filters[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 640px){.filters[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{position:relative}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .left-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--text-secondary);opacity:.6;display:flex;z-index:10;pointer-events:none}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.8rem;border-radius:.75rem;border:1px solid var(--border-light);background:#fcfdfe;font-size:.9375rem;color:var(--text-primary);transition:var(--transition)}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#fff;border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.filters[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);background:#fcfdfe;font-size:.9375rem;color:var(--text-primary);cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='C19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .75rem center;background-size:1rem;transition:var(--transition)}.filters[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.table-wrap[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#f8fafc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem .75rem;text-align:left;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:var(--text-secondary);border-bottom:1px solid var(--border-light);white-space:nowrap}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff;transition:var(--transition)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--row-hover)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .row-actions[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]{opacity:1}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .75rem;border-bottom:1px solid var(--border-light);vertical-align:middle;font-size:.9375rem;color:var(--text-primary)}.warehouse-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;font-weight:500;color:var(--text-primary)}.name[_ngcontent-%COMP%]{display:block;font-weight:700;color:var(--text-primary)}.sub[_ngcontent-%COMP%]{display:block;font-size:.8125rem;color:var(--text-secondary)}.row-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}.row-actions[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:10px;border:1px solid var(--border-light);background:#fff;color:#64748b;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);opacity:.7}.row-actions[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]:hover{opacity:1;color:var(--primary);border-color:var(--primary);background:var(--primary-subtle);transform:scale(1.05)}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.16,1,.3,1);overflow:hidden}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.5rem;overflow-y:auto}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.truck-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.truck-summary-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.truck-summary-row[_ngcontent-%COMP%]   .summary-key[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-summary-row[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:var(--text-primary)}.history-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;border-top:1px solid var(--border-light);padding-top:1.5rem}.history-item[_ngcontent-%COMP%]{display:flex;gap:1rem;position:relative}.history-item[_ngcontent-%COMP%]   .history-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:var(--primary);margin-top:5px;flex-shrink:0}.history-item[_ngcontent-%COMP%]   .history-content[_ngcontent-%COMP%]   .history-event[_ngcontent-%COMP%]{font-weight:700;font-size:.9375rem}.history-item[_ngcontent-%COMP%]   .history-content[_ngcontent-%COMP%]   .history-meta[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--text-secondary)}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end}.pagination-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-top:1px solid var(--border-light)}.pagination-info[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.pagination-controls[_ngcontent-%COMP%]{display:flex;gap:.5rem}.pagination-controls[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]{opacity:1}.pagination-controls[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed;background:transparent;border-color:var(--border-light);color:var(--text-secondary);transform:none!important}body.dark[_ngcontent-%COMP%]   .pageMain[_ngcontent-%COMP%]{background-color:var(--background-dark)}body.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .page-head[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .page-head[_ngcontent-%COMP%]   .page-desc[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#111822;border-color:#ffffff1a;color:#f8fafc}body.dark[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#111822;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#2b8cee14}body.dark[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#e2e8f0}body.dark[_ngcontent-%COMP%]   .warehouse-display[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]{background:#111822;border-color:#ffffff1a;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1a222c}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#334155}body.dark[_ngcontent-%COMP%]   .truck-summary-row[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .history-section[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#111822;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .pagination-footer[_ngcontent-%COMP%]{border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:#94a3b8}.plate-number[_ngcontent-%COMP%]{font-weight:800;font-size:.95rem;color:var(--text-primary);display:flex;align-items:center;gap:.5rem}.warehouse-sub[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);font-weight:500;margin-top:.15rem}.datetime-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.date-val[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:var(--text-primary)}.time-val[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;white-space:nowrap}.badge-orange[_ngcontent-%COMP%]{background:#fff7ed;color:#f97316;border:1px solid #ffedd5}.badge-yellow[_ngcontent-%COMP%]{background:#fefce8;color:#ca8a04;border:1px solid #fef08a}.badge-green-outline[_ngcontent-%COMP%]{background:#f0fdf4;color:#166534;border:1px solid #bbf7d0}.badge-teal[_ngcontent-%COMP%]{background:#f0fdfa;color:#0d9488;border:1px solid #ccfbf1}.badge-gray[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.action-btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;border:none;background:transparent;color:#94a3b8;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.action-btn-icon[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:var(--primary)}`]})};function lD(n,t){if(n&1&&(s(0,"span",40),l(1),c()),n&2){let e=m();f(),w(e.nbPending)}}function dD(n,t){if(n&1&&(s(0,"span",40),l(1),c()),n&2){let e=m();f(),w(e.nbValidated)}}function uD(n,t){if(n&1&&(s(0,"span",40),l(1),c()),n&2){let e=m();f(),w(e.nbAccepted)}}function fD(n,t){if(n&1&&(s(0,"span",40),l(1),c()),n&2){let e=m();f(),w(e.nbCancelled)}}function pD(n,t){if(n&1&&(s(0,"span",40),l(1),c()),n&2){let e=m();f(),w(e.nbRenvoyes)}}function gD(n,t){n&1&&(s(0,"tr")(1,"td",41)(2,"span",6),l(3,"info"),c(),l(4," Aucun camion trouv\xE9 pour ce statut. "),c()())}function mD(n,t){n&1&&H(0,"span",57)}function hD(n,t){n&1&&(s(0,"span",58)(1,"span",59),l(2,"check_circle"),c(),l(3," Enregistr\xE9 "),c())}function bD(n,t){n&1&&(s(0,"span",60)(1,"span",59),l(2,"hourglass_empty"),c(),l(3," En attente "),c())}function _D(n,t){n&1&&(s(0,"span",61)(1,"span",59),l(2,"verified"),c(),l(3," Valid\xE9 "),c())}function vD(n,t){n&1&&(s(0,"span",62)(1,"span",59),l(2,"cancel"),c(),l(3," Refoul\xE9 "),c())}function yD(n,t){n&1&&(s(0,"span",62)(1,"span",59),l(2,"cancel"),c(),l(3," Annul\xE9 "),c())}function CD(n,t){n&1&&(s(0,"span",60)(1,"span",59),l(2,"pending"),c(),l(3," En attente g\xE9rant "),c())}function xD(n,t){n&1&&(s(0,"span",63)(1,"span",59),l(2,"reply"),c(),l(3," Renvoy\xE9 "),c())}function MD(n,t){n&1&&(s(0,"span",64)(1,"span",59),l(2,"autorenew"),c(),l(3," R\xE9int\xE9gr\xE9 "),c())}function wD(n,t){n&1&&(s(0,"span",65)(1,"span",59),l(2,"assignment_turned_in"),c(),l(3," Accept\xE9 d\xE9f. "),c())}function ED(n,t){n&1&&(s(0,"span",66),l(1," \u2014 "),c())}function OD(n,t){if(n&1){let e=V();s(0,"tr",42)(1,"td")(2,"div",43),l(3),E(4,mD,1,0,"span",44),c()(),s(5,"td")(6,"span",45),l(7),c()(),s(8,"td")(9,"span",45),l(10),c()(),s(11,"td"),E(12,hD,4,0,"span",46)(13,bD,4,0,"span",47)(14,_D,4,0,"span",48)(15,vD,4,0,"span",49)(16,yD,4,0,"span",49),c(),s(17,"td"),ct(18,50),E(19,CD,4,0,"span",51)(20,xD,4,0,"span",52)(21,MD,4,0,"span",53)(22,wD,4,0,"span",54)(23,ED,2,0,"span",55),lt(),c(),s(24,"td")(25,"button",56),_("click",function(){let o=v(e).$implicit,i=m();return y(i.openDetailsModal(o))}),s(26,"span"),l(27,"Voir plus"),c(),s(28,"span",6),l(29,"chevron_right"),c()()()()}if(n&2){let e=t.$implicit,r=m();f(3),k(" ",e.immatriculation," "),f(),b("ngIf",e.unreadForAdmin),f(3),w(e.transporteur),f(3),w(r.getHourForCurrentTab(e)),f(2),b("ngIf",e.statut==="Enregistr\xE9"),f(),b("ngIf",e.statut==="En attente"),f(),b("ngIf",e.statut==="Valid\xE9"),f(),b("ngIf",e.statut==="Refoul\xE9"||e.statut==="Annul\xE9"&&(e.advancedStatus==="REFUSE_EN_ATTENTE_GERANT"||e.advancedStatus==="REFUSE_RENVOYE")),f(),b("ngIf",e.statut==="Annul\xE9"&&!e.advancedStatus),f(2),b("ngSwitch",e.advancedStatus),f(),b("ngSwitchCase","REFUSE_EN_ATTENTE_GERANT"),f(),b("ngSwitchCase","REFUSE_RENVOYE"),f(),b("ngSwitchCase","REFUSE_REINTEGRE"),f(),b("ngSwitchCase","ACCEPTE_FINAL")}}function PD(n,t){n&1&&H(0,"div",82)}function kD(n,t){if(n&1&&(s(0,"div",76)(1,"div",77)(2,"span",78),l(3,"Num\xE9ro de lot"),c(),s(4,"span",79),l(5),c()(),s(6,"div",77)(7,"span",78),l(8,"Nombre de sacs"),c(),s(9,"span",79),l(10),c()(),s(11,"div",77)(12,"span",78),l(13,"Poids brut"),c(),s(14,"span",79),l(15),c()(),s(16,"div",77)(17,"span",78),l(18,"Poids net"),c(),s(19,"span",79),l(20),c()()()),n&2){let e=m(2);f(5),w((e.selectedTruck==null||e.selectedTruck.products==null?null:e.selectedTruck.products.numeroLot)||"\u2014"),f(5),w((e.selectedTruck==null||e.selectedTruck.products==null?null:e.selectedTruck.products.nombreSacsDecharges)||"\u2014"),f(5),w((e.selectedTruck==null||e.selectedTruck.products==null?null:e.selectedTruck.products.poidsBrut)||"\u2014"),f(5),w((e.selectedTruck==null||e.selectedTruck.products==null?null:e.selectedTruck.products.poidsNet)||"\u2014")}}function DD(n,t){if(n&1){let e=V();s(0,"button",92),_("click",function(){v(e);let o=m(2);return y(o.reintegrateTruck())}),s(1,"span",6),l(2,"restore"),c(),l(3," R\xE9int\xE9gr\xE9 "),c()}}function SD(n,t){if(n&1){let e=V();ct(0),s(1,"button",93),_("click",function(){v(e);let o=m(2);return y(o.refuseTruck())}),l(2,"Refouler"),c(),s(3,"button",94),_("click",function(){v(e);let o=m(2);return y(o.validateTruck())}),l(4,"Valider le passage"),c(),lt()}}function ID(n,t){if(n&1){let e=V();ct(0),s(1,"button",88),_("click",function(){v(e);let o=m(2);return y(o.printSelectedTruck())}),s(2,"span",6),l(3,"print"),c(),l(4," Imprimer "),c(),lt()}}function TD(n,t){if(n&1){let e=V();s(0,"button",95),_("click",function(){v(e);let o=m(2);return y(o.closeDetailsModal())}),l(1," Fermer "),c()}}function AD(n,t){if(n&1){let e=V();s(0,"div",67)(1,"div",68),_("click",function(){v(e);let o=m();return y(o.closeDetailsModal())}),c(),s(2,"div",69)(3,"div",70)(4,"div",71)(5,"h3",72),l(6,"D\xE9tails du passage"),c(),s(7,"p",73),l(8),c()(),s(9,"button",74),_("click",function(){v(e);let o=m();return y(o.closeDetailsModal())}),s(10,"span",6),l(11,"close"),c()()(),s(12,"div",75)(13,"div",76)(14,"div",77)(15,"span",78),l(16,"Coop\xE9rative"),c(),s(17,"span",79),l(18),c()(),s(19,"div",77)(20,"span",78),l(21,"Fiche transfert"),c(),s(22,"span",79),l(23),c()(),s(24,"div",77)(25,"span",78),l(26,"KOR"),c(),s(27,"span",79),l(28),c()(),s(29,"div",77)(30,"span",78),l(31,"TH "),c(),s(32,"span",79),l(33),c()(),s(34,"div",77)(35,"span",78),l(36,"Heure d'arriv\xE9e"),c(),s(37,"span",79),l(38),oe(39,"date"),c()()(),E(40,PD,1,0,"div",80)(41,kD,21,4,"div",81),H(42,"div",82),s(43,"div",83)(44,"label",84),l(45,"Commentaire administrateur"),c(),s(46,"textarea",85),A("ngModelChange",function(o){v(e);let i=m();return N(i.adminComment,o)||(i.adminComment=o),y(o)}),c()()(),s(47,"div",86)(48,"div",87)(49,"button",88),_("click",function(){v(e);let o=m();return y(o.openHistoryModal(o.selectedTruck))}),s(50,"span",6),l(51,"history"),c(),l(52," Historique "),c(),E(53,DD,4,0,"button",89),c(),s(54,"div",90),E(55,SD,5,0,"ng-container",37)(56,ID,5,0,"ng-container",37)(57,TD,2,0,"button",91),c()()()()}if(n&2){let e=m();f(8),Ft(" ",e.selectedTruck==null?null:e.selectedTruck.immatriculation," \u2014 ",e.selectedTruck==null?null:e.selectedTruck.transporteur," "),f(10),w((e.selectedTruck==null?null:e.selectedTruck.cooperative)||"\u2014"),f(5),w((e.selectedTruck==null?null:e.selectedTruck.transfert)||"\u2014"),f(5),w((e.selectedTruck==null?null:e.selectedTruck.kor)||"\u2014"),f(5),w((e.selectedTruck==null?null:e.selectedTruck.th)||"\u2014"),f(5),w(ce(39,14,e.selectedTruck==null?null:e.selectedTruck.heureArrivee,"HH:mm")),f(2),b("ngIf",e.selectedTruck==null?null:e.selectedTruck.products),f(),b("ngIf",e.selectedTruck==null?null:e.selectedTruck.products),f(5),T("ngModel",e.adminComment),f(7),b("ngIf",(e.selectedTruck==null?null:e.selectedTruck.statut)==="Annul\xE9"&&(e.selectedTruck==null?null:e.selectedTruck.advancedStatus)!=="REFUSE_RENVOYE"),f(2),b("ngIf",(e.selectedTruck==null?null:e.selectedTruck.statut)==="En attente"),f(),b("ngIf",e.isAcceptedFinal(e.selectedTruck)),f(),b("ngIf",(e.selectedTruck==null?null:e.selectedTruck.statut)!=="En attente")}}function ND(n,t){if(n&1&&(s(0,"div",102),H(1,"div",103),s(2,"div",104)(3,"p",105),l(4),c(),s(5,"p",106),l(6),oe(7,"date"),c()()()),n&2){let e=t.$implicit;f(4),w(e.event),f(2),Ft("",e.by," \u2014 ",ce(7,3,e.date,"short"))}}function RD(n,t){if(n&1&&(s(0,"div",100),E(1,ND,8,6,"div",101),c()),n&2){let e=m(2);f(),b("ngForOf",e.historyTruck==null?null:e.historyTruck.history)}}function FD(n,t){n&1&&(s(0,"p",107),l(1,"Aucun historique disponible."),c())}function LD(n,t){if(n&1){let e=V();s(0,"div",67)(1,"div",68),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),c(),s(2,"div",96)(3,"div",70)(4,"h3",72),l(5,"Historique"),c(),s(6,"button",74),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),s(7,"span",6),l(8,"close"),c()()(),s(9,"div",97),E(10,RD,2,1,"div",98)(11,FD,2,0,"p",99),c()()()}if(n&2){let e=m();f(10),b("ngIf",e.historyTruck==null||e.historyTruck.history==null?null:e.historyTruck.history.length),f(),b("ngIf",!(!(e.historyTruck==null||e.historyTruck.history==null)&&e.historyTruck.history.length))}}var id=class n{entrepot={id:0,nom:"",lieu:""};searchTerm="";selectedPeriod="today";filterDate="";currentTab="pending";showDetailsModal=!1;showHistoryModal=!1;historyTruck=null;trucks=[];selectedTruck=null;adminComment="";truckStorageKey="trucks";route=x(Ke);truckService=x(ft);warehouseService=x(Me);toastService=x(pt);constructor(){}ngOnInit(){this.route.paramMap.subscribe(t=>{let e=Number(t.get("id"));this.entrepot={id:0,nom:"Chargement...",lieu:"..."},this.trucks=[],this.warehouseService.getWarehouse(e).subscribe({next:r=>{this.entrepot={id:r.id,nom:r.name,lieu:r.location},this.loadTrucks()},error:()=>{let r=[],o=localStorage.getItem("warehouses");if(o)try{r=JSON.parse(o)}catch{r=[]}r.length===0&&(r=[{id:1,name:"Entrep\xF4t Lyon Sud",location:"Corbas, Rh\xF4ne-Alpes",imageUrl:""}]);let i=r.find(a=>a.id===e)??r[0];this.entrepot={id:i.id,nom:i.name,lieu:i.location},this.loadTrucks()}})})}loadTrucks(){this.truckService.getTrucks(this.entrepot.id).subscribe({next:t=>{this.trucks=t},error:t=>console.error("Erreur chargement camions",t)})}refreshView(){this.loadTrucks()}formatHourFromIso(t){if(!t)return"\u2014";let e=new Date(t);return isNaN(e.getTime())?"\u2014":e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}findHistoryDate(t,e){let r=t.history||[];for(let o=r.length-1;o>=0;o--)if(r[o]?.event===e&&r[o]?.date)return r[o].date}getDateForPeriod(t){try{if(t.statut==="Annul\xE9"){let e=t.advancedStatus;return e==="REFUSE_RENVOYE"?t.renvoyeAt||this.findHistoryDate(t,"Camion renvoy\xE9 par le g\xE9rant")||t.refusedAt||this.findHistoryDate(t,"Refus administrateur")||t.createdAt||t.heureArrivee||"":e==="REFUSE_EN_ATTENTE_GERANT"?t.refusedAt||this.findHistoryDate(t,"Refus administrateur")||t.createdAt||t.heureArrivee||"":t.refusedAt||t.renvoyeAt||this.findHistoryDate(t,"Refus administrateur")||this.findHistoryDate(t,"Camion renvoy\xE9 par le g\xE9rant")||t.createdAt||t.heureArrivee||""}return t.advancedStatus==="ACCEPTE_FINAL"?t.finalAcceptedAt||this.findHistoryDate(t,"D\xE9tails produits renseign\xE9s \u2014 Camion accept\xE9")||t.createdAt||t.heureArrivee||"":t.advancedStatus==="REFUSE_REINTEGRE"?t.reintegratedAt||this.findHistoryDate(t,"R\xE9int\xE9gration administrateur")||t.createdAt||t.heureArrivee||"":t.statut==="Valid\xE9"?t.validatedAt||this.findHistoryDate(t,"Validation administrateur")||t.createdAt||t.heureArrivee||"":t.statut==="En attente"?this.findHistoryDate(t,"Analyses envoy\xE9es \xE0 l\u2019administrateur")||t.createdAt||t.heureArrivee||"":t.createdAt||t.heureArrivee||""}catch{return t.createdAt||t.heureArrivee||""}}isInSelectedPeriod(t){if(!t)return!1;let e=new Date(t),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=r.getDay()||7,a=new Date(o);a.setDate(a.getDate()-(i-1));let d=new Date(r.getFullYear(),r.getMonth(),1),u=new Date(r.getFullYear(),0,1);if(this.selectedPeriod==="specific"&&this.filterDate){let p=new Date(this.filterDate);return e.getFullYear()===p.getFullYear()&&e.getMonth()===p.getMonth()&&e.getDate()===p.getDate()}return this.selectedPeriod==="today"?e.toDateString()===r.toDateString():this.selectedPeriod==="week"?e>=a:this.selectedPeriod==="month"?e>=d:this.selectedPeriod==="year"?e>=u:!0}getHourForCurrentTab(t){let e=t.createdAt||"";switch(this.currentTab){case"pending":{let r=this.findHistoryDate(t,"Analyses envoy\xE9es \xE0 l\u2019administrateur")||t.createdAt||e;return this.formatHourFromIso(r)}case"validated":{if(t.advancedStatus==="REFUSE_REINTEGRE"){let o=t.reintegratedAt||this.findHistoryDate(t,"R\xE9int\xE9gration administrateur")||this.findHistoryDate(t,"Validation administrateur")||t.createdAt||e;return this.formatHourFromIso(o)}let r=this.findHistoryDate(t,"Validation administrateur")||t.createdAt||e;return this.formatHourFromIso(r)}case"accepted":{let r=t.finalAcceptedAt||this.findHistoryDate(t,"D\xE9tails produits renseign\xE9s \u2014 Camion accept\xE9")||t.createdAt||e;return this.formatHourFromIso(r)}case"cancelled":{let r=t.refusedAt||this.findHistoryDate(t,"Refus administrateur")||t.createdAt||e;return this.formatHourFromIso(r)}case"renvoyes":{let r=t.renvoyeAt||this.findHistoryDate(t,"Camion renvoy\xE9 par le g\xE9rant")||t.createdAt||e;return this.formatHourFromIso(r)}default:return this.formatHourFromIso(t.createdAt||e)}}setTab(t){this.currentTab=t,this.loadTrucks()}trackById(t,e){return e.id}get filteredTrucks(){let t=this.filteredTrucksBase;switch(this.currentTab){case"pending":return t.filter(e=>e.statut==="En attente");case"validated":return t.filter(e=>e.statut==="Valid\xE9"&&e.advancedStatus!=="ACCEPTE_FINAL");case"accepted":return t.filter(e=>e.advancedStatus==="ACCEPTE_FINAL");case"cancelled":return t.filter(e=>e.statut==="Annul\xE9"&&e.advancedStatus!=="REFUSE_RENVOYE");case"renvoyes":return t.filter(e=>e.statut==="Annul\xE9"&&e.advancedStatus==="REFUSE_RENVOYE");default:return[]}}get filteredTrucksBase(){let t=this.searchTerm.trim().toLowerCase();return this.trucks.filter(e=>{if(t&&!`${e.immatriculation} ${e.transporteur}`.toLowerCase().includes(t))return!1;let r=this.getDateForPeriod(e);return this.isInSelectedPeriod(r)})}openDetailsModal(t){this.selectedTruck=t,this.adminComment=t.comment||"",t.unreadForAdmin&&(t.unreadForAdmin=!1,this.truckService.updateTruck(t.id,{unreadForAdmin:!1}).subscribe()),this.showDetailsModal=!0}closeDetailsModal(){this.showDetailsModal=!1}validateTruck(){if(!this.selectedTruck)return;let t={statut:"Valid\xE9",unreadForGerant:!0,unreadForAdmin:!1,comment:this.adminComment,history:[...this.selectedTruck.history||[],{event:"Validation administrateur",by:"admin",date:new Date().toISOString()}]};this.truckService.updateTruck(this.selectedTruck.id,t).subscribe({next:()=>{this.refreshView(),this.closeDetailsModal(),this.toastService.success("Camion valid\xE9 avec succ\xE8s.")},error:e=>this.toastService.error("Erreur lors de la validation")})}refuseTruck(){if(!this.selectedTruck)return;let t={statut:"Annul\xE9",advancedStatus:"REFUSE_EN_ATTENTE_GERANT",refusedAt:new Date().toISOString(),unreadForGerant:!0,unreadForAdmin:!1,comment:this.adminComment,history:[...this.selectedTruck.history||[],{event:"Refus administrateur",by:"admin",date:new Date().toISOString()}]};this.truckService.updateTruck(this.selectedTruck.id,t).subscribe({next:()=>{this.refreshView(),this.toastService.warning("Camion refus\xE9 (en attente g\xE9rant)."),this.closeDetailsModal()},error:e=>this.toastService.error("Erreur lors du refus")})}reintegrateTruck(){if(!this.selectedTruck)return;let t={statut:"Valid\xE9",advancedStatus:"REFUSE_REINTEGRE",reintegratedAt:new Date().toISOString(),unreadForGerant:!0,unreadForAdmin:!1,comment:this.adminComment,history:[...this.selectedTruck.history||[],{event:"R\xE9int\xE9gration administrateur",by:"admin",date:new Date().toISOString()}]};this.truckService.updateTruck(this.selectedTruck.id,t).subscribe({next:()=>{this.toastService.success("Camion r\xE9int\xE9gr\xE9 avec succ\xE8s."),this.refreshView(),this.closeDetailsModal()},error:()=>this.toastService.error("Erreur lors de la r\xE9int\xE9gration")})}openHistoryModal(t){this.historyTruck=t,this.showHistoryModal=!0}closeHistoryModal(){this.showHistoryModal=!1,this.historyTruck=null}printSelectedTruck(){if(!this.selectedTruck)return;let t=this.selectedTruck,e=this.formatHourFromIso(t.heureArrivee),r=`
      <h2>D\xE9tails du camion</h2>
      <p><strong>Immatriculation :</strong> ${t.immatriculation}</p>
      <p><strong>Transporteur :</strong> ${t.transporteur}</p>
      <p><strong>Coop\xE9rative :</strong> ${t.cooperative??"\u2014"}</p>
      <p><strong>Fiche de transfert :</strong> ${t.transfert??"\u2014"}</p>
      <p><strong>KOR :</strong> ${t.kor??"\u2014"}</p>
      <p><strong>TH :</strong> ${t.th??"\u2014"}</p>
      <p><strong>Entrep\xF4t :</strong> ${this.entrepot.nom}</p>
      <p><strong>Statut :</strong> ${t.statut}</p>
      <p><strong>Heure d\u2019arriv\xE9e :</strong> ${e}</p>
    `;if(t.products){let a=t.products;r+=`
        <h3>D\xE9tails op\xE9rateur</h3>
        <p><strong>Num\xE9ro de lot :</strong> ${a.numeroLot||"\u2014"}</p>
        <p><strong>Nombre de sacs :</strong> ${a.nombreSacsDecharges||"\u2014"}</p>
        <p><strong>Poids brut :</strong> ${a.poidsBrut||"\u2014"}</p>
        <p><strong>Poids net :</strong> ${a.poidsNet||"\u2014"}</p>
      `}if(this.adminComment&&(r+=`
        <h3>Commentaire administrateur</h3>
        <p>${this.adminComment}</p>
      `),t.history&&t.history.length>0){let a=t.history.map(d=>`<li>${d.event} \u2014 ${d.by} \u2014 ${new Date(d.date).toLocaleString()}</li>`).join("");r+=`<h3>Historique</h3><ul>${a}</ul>`}let o=`
      <html>
        <head>
          <title>Impression camion</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 24px; color: #111 }
            h2 { margin-bottom: 12px }
            h3 { margin-top: 18px; margin-bottom: 8px }
            p { margin: 6px 0 }
            ul { padding-left: 18px }
            .label { font-weight: 600 }
          </style>
        </head>
        <body>
          ${r}
          <script>
            window.print();
            window.onafterprint = () => window.close();
          <\/script>
        </body>
      </html>
    `,i=window.open("","_blank","width=800,height=600");i&&(i.document.write(o),i.document.close())}get totalCamionsArrives(){return this.filteredTrucksBase.length}get nbPending(){return this.filteredTrucksBase.filter(t=>t.statut==="En attente").length}get nbValidated(){return this.filteredTrucksBase.filter(t=>t.statut==="Valid\xE9"&&t.advancedStatus!=="ACCEPTE_FINAL").length}get nbReintegres(){return this.filteredTrucksBase.filter(t=>t.statut==="Valid\xE9"&&t.advancedStatus==="REFUSE_REINTEGRE").length}get nbAccepted(){return this.filteredTrucksBase.filter(t=>t.advancedStatus==="ACCEPTE_FINAL").length}get nbCancelled(){return this.filteredTrucksBase.filter(t=>t.statut==="Annul\xE9"&&t.advancedStatus!=="REFUSE_RENVOYE").length}get nbRenvoyes(){return this.filteredTrucksBase.filter(t=>t.statut==="Annul\xE9"&&t.advancedStatus==="REFUSE_RENVOYE").length}isAcceptedFinal(t){return t.advancedStatus==="ACCEPTE_FINAL"}isValidatedOnly(t){return t.statut==="Valid\xE9"&&t.advancedStatus!=="ACCEPTE_FINAL"}isRefused(t){return t.statut==="Annul\xE9"}getAdvancedStatusLabel(t){let e=t.advancedStatus;if(!e)return"\u2014";switch(e){case"ACCEPTE_FINAL":return"Accept\xE9 d\xE9finitivement";case"REFUSE_EN_ATTENTE_GERANT":return"Refus \u2014 en attente g\xE9rant";case"REFUSE_RENVOYE":return"Renvoy\xE9";case"REFUSE_REINTEGRE":return"R\xE9int\xE9gr\xE9";default:return String(e)}}getAdvancedStatusClass(t){let e=t.advancedStatus;if(!e)return"";switch(e){case"ACCEPTE_FINAL":return"status-pill status-pill--accepted-final";case"REFUSE_EN_ATTENTE_GERANT":return"status-pill status-pill--pending";case"REFUSE_RENVOYE":return"status-pill status-pill--renvoye";case"REFUSE_REINTEGRE":return"status-pill status-pill--reintegre";default:return"status-pill"}}getAdvancedStatusIcon(t){switch(t.advancedStatus){case"ACCEPTE_FINAL":return"assignment_turned_in";case"REFUSE_EN_ATTENTE_GERANT":return"pending";case"REFUSE_RENVOYE":return"reply";case"REFUSE_REINTEGRE":return"replay";default:return"help_outline"}}getStatusLabel(t){let e=t.statut;if(!e)return"\u2014";switch(e){case"Enregistr\xE9":return"Enregistr\xE9";case"En attente":return"En attente";case"Valid\xE9":return"Valid\xE9";case"Refoul\xE9":case"Annul\xE9":return"Refoul\xE9";default:return String(e)}}getStatusClass(t){let e=t.statut;if(!e)return"";switch(e){case"Enregistr\xE9":return"status-pill status-pill--enregistre";case"En attente":return"status-pill status-pill--pending";case"Valid\xE9":return"status-pill status-pill--validated";case"Refoul\xE9":case"Annul\xE9":return"status-pill status-pill--refoule";default:return"status-pill"}}getStatusIcon(t){switch(t.statut){case"Enregistr\xE9":return"save_as";case"En attente":return"hourglass_empty";case"Valid\xE9":return"check_circle";case"Refoul\xE9":case"Annul\xE9":return"cancel";default:return"help_outline"}}setPeriod(t){this.selectedPeriod=t,t!=="specific"&&(this.filterDate="")}onDateChange(){this.filterDate?this.setPeriod("specific"):this.setPeriod("today")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-entrepot"]],decls:126,vars:39,consts:[[1,"pageMain","admin-scroll"],[1,"content"],[1,"page-head"],[1,"page-title-block"],[1,"title-with-back"],["type","button","title","Retour",1,"btn-icon-back",3,"routerLink"],[1,"material-symbols-outlined","notranslate"],[1,"page-title"],[1,"page-desc"],[1,"stats-overview"],[1,"stat-card"],[1,"stat-icon","total"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value"],[1,"stat-icon","pending"],[1,"stat-icon","validated"],[1,"stat-icon","accepted"],[1,"stat-icon","cancelled"],[1,"stat-icon","renvoyes"],[1,"controls-area"],[1,"search-and-filters"],[1,"search-box"],[1,"material-symbols-outlined","notranslate","search-icon"],["type","text","placeholder","Rechercher un camion...",3,"ngModelChange","ngModel"],[1,"period-selector"],[3,"click"],[1,"calendar-wrapper","date-input-wrapper"],[1,"material-symbols-outlined","notranslate","input-icon"],["type","date","placeholder","Date sp\xE9cifique",3,"ngModelChange","ngModel"],[1,"card","table-card"],[1,"card-toolbar"],[1,"tabs-scroll"],[1,"tabs-nav"],[1,"tab-btn",3,"click"],["class","tab-badge",4,"ngIf"],[1,"table-wrap"],[4,"ngIf"],["class","row-hover",4,"ngFor","ngForOf","ngForTrackBy"],["class","modal-root",4,"ngIf"],[1,"tab-badge"],["colspan","6",1,"empty-state"],[1,"row-hover"],[1,"plate-number"],["class","new-dot",4,"ngIf"],[1,"text-secondary"],["class","status-pill status-pill--enregistre",4,"ngIf"],["class","status-pill status-pill--pending",4,"ngIf"],["class","status-pill status-pill--validated",4,"ngIf"],["class","status-pill status-pill--refoule",4,"ngIf"],[3,"ngSwitch"],["class","status-pill status-pill--pending",4,"ngSwitchCase"],["class","status-pill status-pill--renvoye",4,"ngSwitchCase"],["class","status-pill status-pill--reintegre",4,"ngSwitchCase"],["class","status-pill status-pill--accepted-final",4,"ngSwitchCase"],["class","cell-muted",4,"ngSwitchDefault"],[1,"btn-view",3,"click"],[1,"new-dot"],[1,"status-pill","status-pill--enregistre"],[1,"material-symbols-outlined","notranslate",2,"font-size","16px"],[1,"status-pill","status-pill--pending"],[1,"status-pill","status-pill--validated"],[1,"status-pill","status-pill--refoule"],[1,"status-pill","status-pill--renvoye"],[1,"status-pill","status-pill--reintegre"],[1,"status-pill","status-pill--accepted-final"],[1,"cell-muted"],[1,"modal-root"],[1,"modal-backdrop",3,"click"],[1,"modal-panel"],[1,"modal-header"],[1,"modal-titles"],[1,"modal-title"],[1,"modal-subtitle"],[1,"btn-close",3,"click"],[1,"modal-body","custom-scroll"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],["class","section-divider",4,"ngIf"],["class","info-grid",4,"ngIf"],[1,"section-divider"],[1,"comment-field"],[1,"comment-label"],["placeholder","Ajouter une instruction ou une remarque...",1,"comment-area",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"footer-left",2,"display","flex","gap","0.75rem"],[1,"btn-secondary",3,"click"],["class","btn-secondary danger",3,"click",4,"ngIf"],[1,"footer-right"],["class","btn-close-modal",3,"click",4,"ngIf"],[1,"btn-secondary","danger",3,"click"],[1,"btn-danger-outline",3,"click"],[1,"btn-primary-action",3,"click"],[1,"btn-close-modal",3,"click"],[1,"modal-panel","mini"],[1,"modal-body"],["class","timeline",4,"ngIf"],["class","empty-msg",4,"ngIf"],[1,"timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"timeline-dot"],[1,"timeline-content"],[1,"event"],[1,"meta"],[1,"empty-msg"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"span",6),l(7,"arrow_back"),c()(),s(8,"h2",7),l(9),c()(),s(10,"p",8),l(11),c()()(),s(12,"div",9)(13,"div",10)(14,"div",11)(15,"span",6),l(16,"local_shipping"),c()(),s(17,"div",12)(18,"p",13),l(19,"Total camions"),c(),s(20,"h3",14),l(21),c()()(),s(22,"div",10)(23,"div",15)(24,"span",6),l(25,"hourglass_empty"),c()(),s(26,"div",12)(27,"p",13),l(28,"En attente"),c(),s(29,"h3",14),l(30),c()()(),s(31,"div",10)(32,"div",16)(33,"span",6),l(34,"check_circle"),c()(),s(35,"div",12)(36,"p",13),l(37,"Valid\xE9s"),c(),s(38,"h3",14),l(39),c()()(),s(40,"div",10)(41,"div",17)(42,"span",6),l(43,"assignment_turned_in"),c()(),s(44,"div",12)(45,"p",13),l(46,"Accept\xE9s"),c(),s(47,"h3",14),l(48),c()()(),s(49,"div",10)(50,"div",18)(51,"span",6),l(52,"cancel"),c()(),s(53,"div",12)(54,"p",13),l(55,"Refoul\xE9s"),c(),s(56,"h3",14),l(57),c()()(),s(58,"div",10)(59,"div",19)(60,"span",6),l(61,"reply"),c()(),s(62,"div",12)(63,"p",13),l(64,"Renvoy\xE9s"),c(),s(65,"h3",14),l(66),c()()()(),s(67,"section",20)(68,"div",21)(69,"div",22)(70,"span",23),l(71,"search"),c(),s(72,"input",24),A("ngModelChange",function(i){return N(r.searchTerm,i)||(r.searchTerm=i),i}),c()(),s(73,"div",25)(74,"button",26),_("click",function(){return r.setPeriod("today")}),l(75,"Aujourd'hui"),c(),s(76,"button",26),_("click",function(){return r.setPeriod("week")}),l(77,"Semaine"),c(),s(78,"button",26),_("click",function(){return r.setPeriod("month")}),l(79,"Mois"),c(),s(80,"button",26),_("click",function(){return r.setPeriod("year")}),l(81,"Ann\xE9e"),c()(),s(82,"div",27)(83,"span",28),l(84,"calendar_today"),c(),s(85,"input",29),A("ngModelChange",function(i){return N(r.filterDate,i)||(r.filterDate=i),i}),_("ngModelChange",function(){return r.onDateChange()}),c()()()(),s(86,"div",30)(87,"div",31)(88,"div",32)(89,"nav",33)(90,"button",34),_("click",function(){return r.setTab("pending")}),l(91," En attente "),E(92,lD,2,1,"span",35),c(),s(93,"button",34),_("click",function(){return r.setTab("validated")}),l(94," Valid\xE9s "),E(95,dD,2,1,"span",35),c(),s(96,"button",34),_("click",function(){return r.setTab("accepted")}),l(97," Accept\xE9s "),E(98,uD,2,1,"span",35),c(),s(99,"button",34),_("click",function(){return r.setTab("cancelled")}),l(100," Refoul\xE9s "),E(101,fD,2,1,"span",35),c(),s(102,"button",34),_("click",function(){return r.setTab("renvoyes")}),l(103," Renvoy\xE9s "),E(104,pD,2,1,"span",35),c()()()(),s(105,"div",36)(106,"table")(107,"thead")(108,"tr")(109,"th"),l(110,"Immatriculation"),c(),s(111,"th"),l(112,"Transporteur"),c(),s(113,"th"),l(114,"Heure"),c(),s(115,"th"),l(116,"Statut"),c(),s(117,"th"),l(118,"Statut avanc\xE9"),c(),s(119,"th"),l(120,"Actions"),c()()(),s(121,"tbody"),E(122,gD,5,0,"tr",37)(123,OD,30,14,"tr",38),c()()()()(),E(124,AD,58,17,"div",39)(125,LD,12,2,"div",39),c()),e&2&&(f(5),b("routerLink","/dashboard/dashboard-main"),f(4),w(r.entrepot.nom),f(2),w(r.entrepot.lieu),f(10),w(r.totalCamionsArrives),f(9),w(r.nbPending),f(9),w(r.nbValidated),f(9),w(r.nbAccepted),f(9),w(r.nbCancelled),f(9),w(r.nbRenvoyes),f(6),T("ngModel",r.searchTerm),f(2),W("active",r.selectedPeriod==="today"),f(2),W("active",r.selectedPeriod==="week"),f(2),W("active",r.selectedPeriod==="month"),f(2),W("active",r.selectedPeriod==="year"),f(5),T("ngModel",r.filterDate),f(5),W("active",r.currentTab==="pending"),f(2),b("ngIf",r.nbPending>0),f(),W("active",r.currentTab==="validated"),f(2),b("ngIf",r.nbValidated>0),f(),W("active",r.currentTab==="accepted"),f(2),b("ngIf",r.nbAccepted>0),f(),W("active",r.currentTab==="cancelled"),f(2),b("ngIf",r.nbCancelled>0),f(),W("active",r.currentTab==="renvoyes"),f(2),b("ngIf",r.nbRenvoyes>0),f(18),b("ngIf",r.filteredTrucks.length===0),f(),b("ngForOf",r.filteredTrucks)("ngForTrackBy",r.trackById),f(),b("ngIf",r.showDetailsModal),f(),b("ngIf",r.showHistoryModal))},dependencies:[ae,be,me,no,ha,ba,Se,xe,De,Oe,Tt,tt],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1d4ed8;--primary-subtle: #e7edf3;--success-bg: #dcfce7;--success-text: #166534;--success-border: #dcfce7;--warning-bg: #fffbeb;--warning-text: #b45309;--warning-border: #fef3c7;--danger-bg: #fee2e2;--danger-text: #991b1b;--danger-border: #fecaca;--danger-solid: #ef4444;--info-bg: #e0f2fe;--info-text: #0284c7;--background-light: #f6f7f8;--background-white: #ffffff;--background-dark: #101922;--text-primary: #0d141b;--text-secondary: #4c739a;--text-tertiary: #94a3b8;--border-light: #e2e8f0;--border-medium: #cbd5e1;--border-dark: #1f2933;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-card: 0 10px 40px -10px rgba(0, 0, 0, .08);--shadow-float: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease-in-out;--transition-normal: all .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .35s cubic-bezier(.16, 1, .3, 1);--header-height: 72px;--sidebar-width: 280px}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#e5e7eb}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;translate:no}.material-symbols-outlined.notranslate[_ngcontent-%COMP%]{translate:no}.page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);padding:2rem 1.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:var(--text-primary);text-shadow:0 2px 10px rgba(43,140,238,.1);letter-spacing:-.025em;margin:0;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-top:.5rem;font-weight:500}.card[_ngcontent-%COMP%]{background:var(--background-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);border:1px solid rgba(0,0,0,.03);padding:1.5rem;transition:var(--transition-normal)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-float)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.95rem;cursor:pointer;transition:var(--transition-normal);border:none;outline:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;box-shadow:0 4px 12px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 16px #2b8cee66}.btn-secondary[_ngcontent-%COMP%]{background:var(--background-white);border:1px solid var(--border-light);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:var(--border-medium)}.btn-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);cursor:pointer;transition:var(--transition-normal)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary);border-color:var(--primary)}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gap-1[_ngcontent-%COMP%]{gap:.25rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.w-full[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none!important}.responsive-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.truck-modal-close[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.06)!important;background:#ef4444!important;color:#fff!important;border-radius:.5rem!important;width:2.25rem!important;height:2.25rem!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;font-weight:700!important;transition:background-color .12s ease,transform .08s ease,box-shadow .12s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#dc2626!important;transform:translateY(-2px)!important;box-shadow:0 10px 30px #dc262624!important}.truck-modal-close[_ngcontent-%COMP%]:focus{outline:3px solid rgba(239,68,68,.18)!important;outline-offset:2px!important}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;line-height:1;min-height:1.8rem;box-sizing:border-box;box-shadow:var(--shadow-sm)}.status-pill[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.status-pill--enregistre[_ngcontent-%COMP%]{background:var(--info-bg);color:var(--info-text);border:1px solid var(--info-bg)}.status-pill--pending[_ngcontent-%COMP%]{background:var(--warning-bg);color:var(--warning-text);border:1px solid var(--warning-border)}.status-pill--validated[_ngcontent-%COMP%], .status-pill--accepted[_ngcontent-%COMP%]{background:var(--success-bg);color:var(--success-text);border:1px solid var(--success-border)}.status-pill--accepted-final[_ngcontent-%COMP%]{background:#ecfdf5;color:#064e3b;border:1px solid #059669}.status-pill--renvoye[_ngcontent-%COMP%]{background:#fff7ed;color:#c2410c;border:1px solid #ffedd5}.status-pill--reintegre[_ngcontent-%COMP%]{background:#f0fdfa;color:#0f766e;border:1px solid #ccfbf1}.status-pill--refoule[_ngcontent-%COMP%]{background:var(--danger-bg);color:var(--danger-text);border:1px solid var(--danger-border)}body.dark[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000004d}body.dark[_ngcontent-%COMP%]   .status-pill--enregistre[_ngcontent-%COMP%]{background:#1e40af33;color:#93c5fd;border-color:#1e40af4d}body.dark[_ngcontent-%COMP%]   .status-pill--pending[_ngcontent-%COMP%]{background:#92400e33;color:#fcd34d;border-color:#92400e4d}body.dark[_ngcontent-%COMP%]   .status-pill--validated[_ngcontent-%COMP%]{background:#16653433;color:#86efac;border-color:#1665344d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted[_ngcontent-%COMP%]{background:#14532d33;color:#6ee7b7;border-color:#14532d4d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted-final[_ngcontent-%COMP%]{background:#064e3b33;color:#34d399;border-color:#05966966}body.dark[_ngcontent-%COMP%]   .status-pill--renvoye[_ngcontent-%COMP%]{background:#9a341233;color:#fdba74;border-color:#9a34124d}body.dark[_ngcontent-%COMP%]   .status-pill--reintegre[_ngcontent-%COMP%]{background:#0f766e33;color:#5eead4;border-color:#0f766e4d}body.dark[_ngcontent-%COMP%]   .status-pill--refoule[_ngcontent-%COMP%]{background:#991b1b33;color:#fca5a5;border-color:#991b1b4d}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0;color:var(--text-primary)}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;overflow-y:auto;flex:1}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem}body.dark[_ngcontent-%COMP%]   .modal__backdrop[_ngcontent-%COMP%]{background:#000000b3}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1e293b;border:1px solid rgba(255,255,255,.1)}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{color:#fff}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#0f172a;border-top-color:#ffffff1a}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition-normal);width:100%}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.truck-field[_ngcontent-%COMP%]   .truck-help[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{background:#0f172a;border-color:#ffffff1a;color:#fff}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.notification-banner[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;background:#f0fdf4;border:1px solid #bbf7d0;color:#166534;padding:1rem 1.5rem;border-radius:.75rem;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.16,1,.3,1);font-weight:600}.notification-banner[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#15803d}@media (max-width: 480px){.notification-banner[_ngcontent-%COMP%]{top:70px;right:10px;left:10px;justify-content:center}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.pageMain[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);display:block}.content[_ngcontent-%COMP%]{width:100%;padding:2rem;display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 768px){.content[_ngcontent-%COMP%]{padding:1rem}}.controls-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1.5rem;margin-bottom:.5rem}.search-and-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.search-box[_ngcontent-%COMP%]{position:relative;width:100%;max-width:350px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.75rem;border-radius:.9rem;border:1px solid var(--border-light);font-size:.875rem;transition:all .2s;background:#fff}.period-selector[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-light);padding:.25rem;border-radius:.5rem;display:flex;gap:.25rem;box-shadow:0 1px 2px #0000000d}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;padding:.4rem .8rem;border-radius:.375rem;font-size:.85rem;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:all .2s}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;color:var(--text-primary)}.period-selector[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff;box-shadow:0 1px 2px #3b82f64d}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid var(--border-light);border-radius:.5rem;padding:0 .75rem;display:flex;align-items:center;height:40px;box-shadow:0 1px 2px #0000000d;transition:box-shadow .2s}.date-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.date-input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin-right:.5rem}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;font-size:.9rem;color:var(--text-primary);font-family:inherit;background:transparent;cursor:pointer}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer}.filter-dropdown-wrapper[_ngcontent-%COMP%]{position:relative}@media (max-width: 992px){.controls-area[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.search-and-filters[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;width:100%;gap:1rem}.search-box[_ngcontent-%COMP%]{max-width:100%;width:100%}.filter-dropdown-wrapper[_ngcontent-%COMP%]{width:100%}.filter-chip-wrap[_ngcontent-%COMP%]{width:100%;justify-content:center;display:flex}.calendar-wrapper[_ngcontent-%COMP%]{width:100%}}.page-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1rem}.page-title-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.title-with-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.btn-icon-back[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:1px solid var(--border-light);background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:var(--text-secondary)}.btn-icon-back[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;border-color:var(--primary);transform:translate(-2px)}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.02em}.page-desc[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;margin:0;padding-left:calc(36px + 1rem)}.stats-overview[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.25rem;border-radius:1rem;border:1px solid var(--border-light);box-shadow:var(--shadow-sm);display:flex;align-items:center;gap:1rem;transition:all .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--primary-subtle)}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:.75rem;display:flex;align-items:center;justify-content:center;font-size:24px}.stat-card[_ngcontent-%COMP%]   .stat-icon.total[_ngcontent-%COMP%]{background:#eff6ff;color:#3b82f6}.stat-card[_ngcontent-%COMP%]   .stat-icon.pending[_ngcontent-%COMP%]{background:#fffbeb;color:#f59e0b}.stat-card[_ngcontent-%COMP%]   .stat-icon.validated[_ngcontent-%COMP%]{background:#ecfdf5;color:#10b981}.stat-card[_ngcontent-%COMP%]   .stat-icon.accepted[_ngcontent-%COMP%]{background:#fdf2f8;color:#ec4899}.stat-card[_ngcontent-%COMP%]   .stat-icon.cancelled[_ngcontent-%COMP%]{background:#fef2f2;color:#ef4444}.stat-card[_ngcontent-%COMP%]   .stat-icon.renvoyes[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em;margin:0}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:.25rem 0 0;line-height:1}.head-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-chip-wrap[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:.65rem 1.25rem;background:#fff;border:1px solid var(--border-light);border-radius:999px;cursor:pointer;transition:all .2s;position:relative;box-shadow:var(--shadow-sm);-webkit-user-select:none;user-select:none}.filter-chip-wrap[_ngcontent-%COMP%]:hover{border-color:var(--primary);background:#f8fafc}.filter-chip-wrap[_ngcontent-%COMP%]   .chip-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:var(--text-secondary)}.filter-chip-wrap[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px;color:var(--primary)}.filter-chip-wrap[_ngcontent-%COMP%]   .material-symbols-outlined.arrow[_ngcontent-%COMP%]{color:var(--text-tertiary)}.filter-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);left:0;background:#fff;border-radius:1rem;box-shadow:var(--shadow-float);border:1px solid var(--border-light);padding:.5rem;min-width:200px;z-index:50;display:flex;flex-direction:column;gap:.25rem}.filter-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:none;background:transparent;text-align:left;font-size:.875rem;font-weight:600;color:var(--text-primary);border-radius:.6rem;cursor:pointer;transition:.2s}.filter-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:var(--primary-subtle);color:var(--primary)}.card.table-card[_ngcontent-%COMP%]{background:#fff;border-radius:1.5rem;box-shadow:var(--shadow-card);border:1px solid var(--border-light);padding:0;overflow:hidden;display:flex;flex-direction:column}.card-toolbar[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:#fcfdfe;border-bottom:1px solid var(--border-light);display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:1rem}.tabs-scroll[_ngcontent-%COMP%]{overflow-x:auto;width:100%}.tabs-scroll[_ngcontent-%COMP%]   .tabs-nav[_ngcontent-%COMP%]{display:flex;gap:.5rem;width:100%}.tab-btn[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:none;background:transparent;font-size:.875rem;font-weight:700;color:var(--text-secondary);border-radius:.75rem;cursor:pointer;display:flex;justify-content:center;flex:1;align-items:center;gap:.6rem;transition:all .2s;white-space:nowrap}.tab-btn[_ngcontent-%COMP%]   .tab-badge[_ngcontent-%COMP%]{font-size:.75rem;background:#f1f5f9;color:#64748b;padding:.2rem .6rem;border-radius:999px;font-weight:800}.tab-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:var(--text-primary)}.tab-btn.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff;box-shadow:0 4px 12px #2b8cee40}.tab-btn.active[_ngcontent-%COMP%]   .tab-badge[_ngcontent-%COMP%]{background:#ffffff40;color:#fff}.search-box[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px}.search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);font-size:20px;color:var(--primary)}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.65rem 1rem .65rem 2.75rem;border-radius:.9rem;border:1px solid var(--border-light);font-size:.875rem;transition:all .2s;background:#fff}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 3px #2b8cee1a;outline:none}.table-wrap[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{background:#f8fafc;padding:1rem 1.5rem;font-size:.75rem;font-weight:800;color:#64748b;text-transform:uppercase;letter-spacing:.05em;text-align:left}td[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:.9375rem;color:var(--text-primary);border-bottom:1px solid var(--border-light);vertical-align:middle}.row-hover[_ngcontent-%COMP%]{transition:background .2s}.row-hover[_ngcontent-%COMP%]:hover{background:#2b8cee0a}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:32px;margin-bottom:.5rem;opacity:.5;display:block;margin-left:auto;margin-right:auto}.plate-number[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary);display:flex;align-items:center;gap:.5rem}.plate-number[_ngcontent-%COMP%]   .new-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#ef4444}.btn-view[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.4rem .85rem;border-radius:.6rem;border:1px solid var(--border-light);background:#fff;font-size:.8rem;font-weight:600;color:var(--text-secondary);cursor:pointer;transition:all .2s}.btn-view[_ngcontent-%COMP%]:hover{border-color:var(--primary);color:var(--primary);background:#eff6ff}.modal-root[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a80;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal-panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:var(--shadow-float);width:100%;max-width:600px;max-height:calc(100vh - 4rem);display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_modalEnter .3s cubic-bezier(.34,1.56,.64,1)}.modal-panel.mini[_ngcontent-%COMP%]{max-width:400px}@keyframes _ngcontent-%COMP%_modalEnter{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}.modal-header[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:flex-start;background:#fff;z-index:1}.modal-titles[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:850;margin:0;color:var(--text-primary)}.modal-subtitle[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0}.btn-close[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b;border:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:.2s}.btn-close[_ngcontent-%COMP%]:hover{background:#fee2e2;color:#ef4444}.modal-body[_ngcontent-%COMP%]{padding:2rem;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:#f8fafc;display:flex;justify-content:space-between;align-items:center;border-top:1px solid var(--border-light)}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1rem}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase}.value[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-primary)}.section-divider[_ngcontent-%COMP%]{height:1px;background:var(--border-light);margin:1.5rem 0}.comment-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.comment-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;color:var(--text-secondary)}.comment-area[_ngcontent-%COMP%]{width:100%;min-height:80px;padding:.75rem;border:1px solid var(--border-light);border-radius:.75rem;font-family:inherit;font-size:.9rem;resize:vertical}.comment-area[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary)}.footer-right[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-left:auto}.btn-danger-outline[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border:1px solid #fee2e2;background:#fff;color:#ef4444;border-radius:.75rem;font-weight:600;cursor:pointer}.btn-danger-outline[_ngcontent-%COMP%]:hover{background:#fef2f2}.btn-primary-action[_ngcontent-%COMP%]{padding:.75rem 1.25rem;background:var(--primary);color:#fff;border:none;border-radius:.75rem;font-weight:600;cursor:pointer;transition:.2s}.btn-primary-action[_ngcontent-%COMP%]:hover{background:var(--primary-hover);transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);border-radius:.75rem;font-weight:600;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;color:var(--text-primary)}.btn-secondary.danger[_ngcontent-%COMP%]{color:#ef4444;border-color:#fee2e2}.btn-secondary.danger[_ngcontent-%COMP%]:hover{background:#fef2f2}.btn-close-modal[_ngcontent-%COMP%]{padding:.75rem 1.25rem;background:transparent;color:var(--text-secondary);border:none;font-weight:600;cursor:pointer}.btn-close-modal[_ngcontent-%COMP%]:hover{text-decoration:underline}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:1rem;border-left:2px solid var(--border-light);margin-left:.5rem}.timeline-item[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem;padding-left:1.5rem}.timeline-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.timeline-dot[_ngcontent-%COMP%]{position:absolute;left:-7px;top:5px;width:12px;height:12px;border-radius:50%;background:var(--primary);border:2px solid #fff;box-shadow:0 0 0 2px var(--primary-subtle)}.timeline-content[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);margin:0 0 .25rem}.timeline-content[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-tertiary);margin:0}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--border-medium);border-radius:4px}body.dark[_ngcontent-%COMP%]   .pageMain[_ngcontent-%COMP%]{background-color:#0f172a}body.dark[_ngcontent-%COMP%]   .btn-icon-back[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}body.dark[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .card.table-card[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .card-toolbar[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}body.dark[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:hover{background:#111827}body.dark[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]   .tab-badge[_ngcontent-%COMP%]{background:#111827;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]   .tab-badge[_ngcontent-%COMP%]{background:#ffffff1a}body.dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#111827;color:#94a3b8}body.dark[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#ffffff0d;color:#cbd5e1}body.dark[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .cell-muted[_ngcontent-%COMP%]{color:#64748b}body.dark[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#cbd5e1}body.dark[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]{background:#1a222c}body.dark[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{background:#1e293b;border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .comment-area[_ngcontent-%COMP%]{background:#0f172a;border-color:#334155;color:#f8fafc}body.dark[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#111827;border-color:#ffffff1a;color:#f8fafc}body.dark[_ngcontent-%COMP%]   .filter-chip-wrap[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .filter-chip-wrap[_ngcontent-%COMP%]   .chip-label[_ngcontent-%COMP%]{color:#94a3b8}']})};var ad=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-register"]],decls:77,vars:0,consts:[[1,"auth-root"],["aria-hidden","true",1,"auth-bg"],["aria-hidden","true",1,"auth-overlay"],[1,"auth-main"],["aria-label","Cr\xE9ation de compte",1,"auth-card"],[1,"auth-header"],[1,"auth-title"],[1,"auth-subtitle"],[1,"auth-form"],[1,"field-row"],[1,"field"],["for","lastName",1,"field-label"],[2,"color","red"],["id","lastName","type","text","placeholder","Entrez votre nom","required","",1,"field-input"],["for","firstName",1,"field-label"],["id","firstName","type","text","placeholder","Entrez votre pr\xE9nom","required","",1,"field-input"],["for","email",1,"field-label"],["id","email","type","email","placeholder","votre.email@exemple.com","required","",1,"field-input"],["for","password",1,"field-label"],[1,"password-wrapper"],["id","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"field-input","password-input"],["type","button","aria-label","Afficher le mot de passe",1,"password-toggle"],[1,"material-symbols-outlined","notranslate"],["for","passwordConfirm",1,"field-label"],["id","passwordConfirm","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"field-input","password-input"],["type","button","aria-label","Afficher le mot de passe confirm\xE9",1,"password-toggle"],[1,"field-error"],["for","role",1,"field-label"],[1,"select-wrapper"],["id","role","required","",1,"field-select"],[1,"material-symbols-outlined","notranslate","select-icon"],["type","submit",1,"auth-submit"],[1,"auth-footer"],["href","#"]],template:function(e,r){e&1&&(z(0,"body")(1,"div",0),Pt(2,"div",1)(3,"div",2),z(4,"main",3)(5,"section",4)(6,"header",5)(7,"h1",6),l(8,"Cr\xE9ez votre compte"),G(),z(9,"p",7),l(10," Remplissez les champs ci-dessous pour vous inscrire. "),G()(),z(11,"form",8)(12,"div",9)(13,"div",10)(14,"label",11),l(15,"Nom "),z(16,"span",12),l(17,"*"),G()(),Pt(18,"input",13),G(),z(19,"div",10)(20,"label",14),l(21,"Pr\xE9nom "),z(22,"span",12),l(23,"*"),G()(),Pt(24,"input",15),G()(),z(25,"div",10)(26,"label",16),l(27,"Adresse e-mail "),z(28,"span",12),l(29,"*"),G()(),Pt(30,"input",17),G(),z(31,"div",9)(32,"div",10)(33,"label",18),l(34,"Mot de passe "),z(35,"span",12),l(36,"*"),G()(),z(37,"div",19),Pt(38,"input",20),z(39,"button",21)(40,"span",22),l(41,"visibility_off"),G()()()(),z(42,"div",10)(43,"label",23),l(44,"Confirmer le mot de passe "),z(45,"span",12),l(46,"*"),G()(),z(47,"div",19),Pt(48,"input",24),z(49,"button",25)(50,"span",22),l(51,"visibility_off"),G()()(),z(52,"p",26),l(53," Les mots de passe ne correspondent pas. "),G()()(),z(54,"div",10)(55,"label",27),l(56,"Quel est votre r\xF4le ? "),z(57,"span",12),l(58,"*"),G()(),z(59,"div",28)(60,"select",29)(61,"option"),l(62,"Agent de terrain"),G(),z(63,"option"),l(64,"Responsable d'entrep\xF4t"),G(),z(65,"option"),l(66,"Direction"),G(),z(67,"option"),l(68,"Administrateur"),G()(),z(69,"span",30),l(70," expand_more "),G()()(),z(71,"button",31),l(72,"Cr\xE9er mon compte"),G()(),z(73,"p",32),l(74," Vous avez d\xE9j\xE0 un compte ? "),z(75,"a",33),l(76,"Se connecter"),G()()()()()())},styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-main);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#f9fafb}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.auth-root[_ngcontent-%COMP%]{position:relative;min-height:100vh;width:100%;overflow:hidden}.auth-bg[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:url(https://lh3.googleusercontent.com/aida-public/AB6AXuAtT7imjTahttl-toNOm7jB_l_srQeiFcr4Iqhkw_LhsoyZWr9Ow36pmMxJQOwqoG0-sQAUQWRHOk63_ccsz1atw33D6gd7W5FGe97_I6X1vcdUiOE1s4IVP8tWqXTQR95DZqmizDGoe0rRcL9xcwMNtTWMtkj-LjlneEiNrKRKr5Mw6-vFX2AHnJOgM6vK6SYerEdt5faBVyYJjksSFwydSAWN-rhud1RuvzuZ4PoGJVIEKrSuJ-PCDEpzd00nfQlLtnQhyqIaLedo);background-size:cover;background-position:center;background-repeat:no-repeat}.auth-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080}.auth-main[_ngcontent-%COMP%]{position:relative;z-index:1;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:1.5rem 1rem}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:440px;padding:1.75rem 1.75rem 1.6rem;border-radius:1.1rem;background-color:#ffffffeb;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 22px 50px #0f172a8c;display:flex;flex-direction:column;gap:1.5rem}body.dark[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{background-color:#101922f0;box-shadow:0 20px 45px #000000d9}.auth-header[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;gap:.4rem}.auth-title[_ngcontent-%COMP%]{font-size:clamp(1.9rem,1.2vw + 1.6rem,2.3rem);font-weight:900;letter-spacing:-.03em;color:var(--text-main)}.auth-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-muted)}body.dark[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{color:#f9fafb}body.dark[_ngcontent-%COMP%]   .auth-subtitle[_ngcontent-%COMP%]{color:#cbd5f5}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.1rem}.field-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.9rem}@media (max-width: 600px){.field-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.field-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;color:var(--text-main)}body.dark[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#e5e7eb}.field-input[_ngcontent-%COMP%], .field-select[_ngcontent-%COMP%]{width:100%;border-radius:.75rem;border:1px solid var(--border-input);background-color:#fff;padding:.7rem .8rem;font-size:.95rem;color:var(--text-main);outline:none;transition:border-color .16s ease,box-shadow .16s ease,background-color .16s ease}.field-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.field-input[_ngcontent-%COMP%]:focus, .field-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 1px #2a9d8f66}body.dark[_ngcontent-%COMP%]   .field-input[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .field-select[_ngcontent-%COMP%]{background-color:#1f2933;border-color:#4b5563;color:#f9fafb}body.dark[_ngcontent-%COMP%]   .field-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.password-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input[_ngcontent-%COMP%]{padding-right:2.6rem}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:.45rem;inset-block:0;display:inline-flex;align-items:center;justify-content:center;border:none;background:transparent;cursor:pointer;color:var(--text-muted)}.password-toggle[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px}body.dark[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{color:#9ca3af}.field-error[_ngcontent-%COMP%]{margin-top:.2rem;font-size:.75rem;color:#e53e3e;display:none}.select-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-flex;width:100%}.select-wrapper[_ngcontent-%COMP%]   .field-select[_ngcontent-%COMP%]{appearance:none;padding-right:2.4rem}.select-icon[_ngcontent-%COMP%]{position:absolute;right:.5rem;inset-block:0;display:flex;align-items:center;pointer-events:none;color:var(--text-muted)}body.dark[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%]{color:#9ca3af}.auth-submit[_ngcontent-%COMP%]{margin-top:.25rem;display:inline-flex;align-items:center;justify-content:center;width:100%;height:2.9rem;border-radius:.85rem;border:none;background-color:var(--primary);color:#fff;font-size:.95rem;font-weight:700;letter-spacing:.02em;cursor:pointer;box-shadow:0 16px 32px #2a9d8f5c;transition:background-color .16s ease,transform .1s ease,box-shadow .1s ease}.auth-submit[_ngcontent-%COMP%]:hover{background-color:#21867b;transform:translateY(-1px);box-shadow:0 20px 40px #2a9d8f73}.auth-submit[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 10px 22px #2a9d8f61}.auth-footer[_ngcontent-%COMP%]{text-align:center;font-size:.85rem;color:var(--text-muted)}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary);font-weight:600;text-decoration:none}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}body.dark[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%]{color:#cbd5f5}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding-inline:1.4rem}}']})};var sd=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-enregistrement"]],decls:54,vars:0,consts:[[1,"modal"],[1,"modal__backdrop"],[1,"modal__panel","truck-modal"],[1,"truck-modal-header"],[1,"truck-modal-title"],["type","button","aria-label","Fermer",1,"truck-modal-close"],[1,"material-symbols-outlined","notranslate"],[1,"truck-modal-body"],[1,"truck-field"],["for","entrepot",1,"truck-label"],["id","entrepot","disabled","",1,"truck-select"],["selected",""],["for","immatriculation",1,"truck-label"],["id","immatriculation","type","text","placeholder","Ex : AB-123-CD",1,"truck-input"],["for","transporteur",1,"truck-label"],["id","transporteur","type","text","placeholder","Nom du transporteur ou du chauffeur",1,"truck-input"],["for","transfert",1,"truck-label"],["id","transfert","type","text","placeholder","Ex : FT-2025-001",1,"truck-input"],["for","marchandise",1,"truck-label"],["id","marchandise",1,"truck-select"],["value","","disabled","","selected",""],["value","palettes"],["value","vrac"],["value","frigorifique"],["value","dangereux"],[1,"truck-modal-footer"],[1,"truck-confirm"],[1,"material-symbols-outlined","notranslate","truck-confirm-icon"],[1,"truck-confirm-title"],[1,"truck-confirm-sub"],["type","button",1,"truck-submit"]],template:function(e,r){e&1&&(z(0,"body")(1,"div",0),Pt(2,"div",1),z(3,"div",2)(4,"div",3)(5,"h2",4),l(6,"Enregistrer un nouveau camion"),G(),z(7,"button",5)(8,"span",6),l(9,"close"),G()()(),z(10,"div",7)(11,"div",8)(12,"label",9),l(13,"Entrep\xF4t"),G(),z(14,"select",10)(15,"option",11),l(16,"Entrep\xF4t Principal (Nord)"),G()()(),z(17,"div",8)(18,"label",12),l(19," Immatriculation du camion "),G(),Pt(20,"input",13),G(),z(21,"div",8)(22,"label",14),l(23," Transporteur / Chauffeur "),G(),Pt(24,"input",15),G(),z(25,"div",8)(26,"label",16),l(27,"N\xB0 fiche de transfert"),G(),Pt(28,"input",17),G(),z(29,"div",8)(30,"label",18),l(31,"Type de marchandise"),G(),z(32,"select",19)(33,"option",20),l(34,"Choisir un type"),G(),z(35,"option",21),l(36,"Palettes"),G(),z(37,"option",22),l(38,"Vrac"),G(),z(39,"option",23),l(40,"Frigorifique"),G(),z(41,"option",24),l(42,"Mati\xE8res dangereuses"),G()()()(),z(43,"div",25)(44,"div",26)(45,"span",27),l(46," check_circle "),G(),z(47,"div")(48,"p",28),l(49,"Camion enregistr\xE9"),G(),z(50,"p",29),l(51,"Statut : EN ATTENTE"),G()()(),z(52,"button",30),l(53," Enregistrer l\u2019arriv\xE9e "),G()()()()())},dependencies:[ae],styles:['body[_ngcontent-%COMP%]{font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:#0b1120;color:#0f172a;display:flex;align-items:center;justify-content:center}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:10;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a99}.modal__panel[_ngcontent-%COMP%]{position:relative;z-index:20}.truck-modal[_ngcontent-%COMP%]{width:min(460px,100%);max-height:calc(100vh - 3rem);padding:1.6rem 1.6rem 1.3rem;border-radius:1.25rem;background:#fff;display:flex;flex-direction:column;gap:1.2rem;box-shadow:0 24px 60px #0f172a8c;border:1px solid rgba(148,163,184,.7);overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:.75rem}.truck-modal-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:800;letter-spacing:-.03em;color:#0f172a}.truck-modal-close[_ngcontent-%COMP%]{border:none;background:transparent;border-radius:999px;width:2rem;height:2rem;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;color:#6b7280;transition:background-color .15s ease,color .15s ease,transform .1s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;color:#111827;transform:translateY(-1px)}.truck-modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding-right:.25rem;overflow-y:auto}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem}.truck-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;color:#111827}.truck-input[_ngcontent-%COMP%], .truck-select[_ngcontent-%COMP%]{width:100%;border-radius:.75rem;border:1px solid #d1d5db;padding:.75rem .85rem;font-size:.95rem;color:#0f172a;background-color:#fff;outline:none;transition:border-color .15s ease,box-shadow .15s ease,background-color .15s ease}.truck-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.truck-input[_ngcontent-%COMP%]:focus, .truck-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 1px #2b8cee73}#entrepot.truck-select[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;color:#6b7280;border-style:dashed;cursor:not-allowed}.truck-modal-footer[_ngcontent-%COMP%]{margin-top:.25rem;display:flex;flex-direction:column;gap:.85rem}.truck-confirm[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.8rem .9rem;border-radius:.9rem;background-color:#ecfdf3;border:1px solid #bbf7d0}.truck-confirm-icon[_ngcontent-%COMP%]{color:#16a34a}.truck-confirm-title[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#166534}.truck-confirm-sub[_ngcontent-%COMP%]{font-size:.78rem;color:#15803d}.truck-submit[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:100%;height:2.9rem;border-radius:.9rem;border:none;cursor:pointer;background-color:var(--primary);color:#fff;font-size:.95rem;font-weight:700;letter-spacing:.015em;box-shadow:0 16px 32px #2b8cee66;transition:background-color .15s ease,transform .1s ease,box-shadow .1s ease}.truck-submit[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:translateY(-1px);box-shadow:0 20px 40px #2563eb73}.truck-submit[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 12px 24px #2563eb66}@media (max-width: 480px){.modal[_ngcontent-%COMP%]{padding:1rem}.truck-modal[_ngcontent-%COMP%]{max-height:calc(100vh - 2rem);padding-inline:1.2rem}}']})};var sy=n=>["/userdashboard/userentrepot",n];function VD(n,t){if(n&1){let e=V();s(0,"div",36),_("click",function(){v(e);let o=m();return y(o.closeSidebar())}),c()}}function jD(n,t){if(n&1&&(s(0,"a",11)(1,"span",12),l(2,"warehouse"),c(),s(3,"span",13),l(4,"Entrep\xF4t"),c()()),n&2){let e=m();b("routerLink",Go(1,sy,e.userEntrepotId))}}function UD(n,t){if(n&1){let e=V();s(0,"div",37),_("click",function(){v(e);let o=m();return y(o.cancelLogout())}),s(1,"div",38),_("click",function(o){return v(e),y(o.stopPropagation())}),s(2,"div",39)(3,"h2",40),l(4,"Confirmation"),c(),s(5,"button",41),_("click",function(){v(e);let o=m();return y(o.cancelLogout())}),s(6,"span",12),l(7,"close"),c()()(),s(8,"div",42)(9,"p"),l(10,"\xCAtes-vous s\xFBr de vouloir vous d\xE9connecter ?"),c()(),s(11,"div",43)(12,"button",44),_("click",function(){v(e);let o=m();return y(o.cancelLogout())}),l(13,"Annuler"),c(),s(14,"button",45),_("click",function(){v(e);let o=m();return y(o.logout())}),l(15,"D\xE9connexion"),c()()()()}}function BD(n,t){n&1&&H(0,"span",46)}function HD(n,t){if(n&1&&(s(0,"span",54),l(1),c()),n&2){let e=m(2);f(),w(e.notifCount)}}function zD(n,t){n&1&&(s(0,"div",55)(1,"span",12),l(2,"notifications_off"),c(),s(3,"p"),l(4,"Aucune notification"),c()())}function $D(n,t){if(n&1){let e=V();s(0,"div",56),_("click",function(){let o=v(e).$implicit,i=m(2);return y(i.openNotification(o))}),s(1,"div",57)(2,"span",12),l(3,"local_shipping"),c()(),s(4,"div",58)(5,"div",59)(6,"span",60),l(7),c()(),s(8,"p",61),l(9),c(),s(10,"p",62),l(11),c()()()}if(n&2){let e=t.$implicit;f(7),w(e.immatriculation),f(2),w(e.entrepotName),f(2),w(e.statut)}}function WD(n,t){if(n&1&&(s(0,"div",47)(1,"div",48)(2,"h3",49),l(3,"Notifications"),c(),E(4,HD,2,1,"span",50),c(),s(5,"div",51),E(6,zD,5,0,"div",52)(7,$D,12,3,"div",53),c()()),n&2){let e=m();f(4),b("ngIf",e.notifCount>0),f(2),b("ngIf",e.notifications.length===0),f(),b("ngForOf",e.notifications)}}function GD(n,t){if(n&1){let e=V();s(0,"a",65),_("click",function(){v(e);let o=m(2);return y(o.showUserMenu=!1)}),s(1,"span",12),l(2,"warehouse"),c(),l(3," Entrep\xF4t "),c()}if(n&2){let e=m(2);b("routerLink",Go(1,sy,e.userEntrepotId))}}function qD(n,t){if(n&1){let e=V();s(0,"div",63),_("click",function(o){return v(e),y(o.stopPropagation())}),s(1,"div",64),l(2," MENU "),c(),s(3,"a",65),_("click",function(){v(e);let o=m();return y(o.showUserMenu=!1)}),s(4,"span",12),l(5,"dashboard"),c(),l(6," Tableau de bord "),c(),E(7,GD,4,3,"a",66),s(8,"a",65),_("click",function(){v(e);let o=m();return y(o.showUserMenu=!1)}),s(9,"span",12),l(10,"inventory_2"),c(),l(11," Empotage "),c(),H(12,"div",67),s(13,"a",68),_("click",function(o){v(e);let i=m();return o.preventDefault(),y(i.requestLogout())}),s(14,"span",12),l(15,"logout"),c(),l(16," D\xE9connexion "),c()()}if(n&2){let e=m();f(3),b("routerLink","/userdashboard/userdashboardmain"),f(4),b("ngIf",e.userEntrepotId!==null),f(),b("routerLink","/userdashboard/userEmpotage")}}var cd=class n{constructor(t,e,r,o){this.router=t;this.truckService=e;this.warehouseService=r;this.authService=o}isSidebarOpen=!1;currentUser=null;userName="\u2014";userRoleLabel="\u2014";userEntrepotId=null;notifCount=0;showNotifDropdown=!1;showUserMenu=!1;showLogoutConfirm=!1;notifications=[];toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}closeSidebar(){this.isSidebarOpen=!1}pollingInterval;ngOnInit(){this.loadCurrentUserOrRedirect(),this.loadNotifications(),this.pollingInterval=setInterval(()=>this.loadNotifications(),15e3),this.router.events.pipe(je(t=>t instanceof $e)).subscribe(()=>{this.closeSidebar()})}ngOnDestroy(){this.pollingInterval&&clearInterval(this.pollingInterval)}loadCurrentUserOrRedirect(){let t=sessionStorage.getItem("currentUser");if(!t){this.router.navigate(["/login"]);return}try{this.currentUser=JSON.parse(t)}catch{this.currentUser=null}if(!this.currentUser||this.currentUser.status!=="Actif"){sessionStorage.removeItem("currentUser"),this.router.navigate(["/login"]);return}if(this.userName=this.currentUser.nom,this.userRoleLabel=this.roleLabel(this.currentUser.role),this.userEntrepotId=this.currentUser.entrepotId,this.currentUser.role!=="admin"&&this.userEntrepotId===null){sessionStorage.removeItem("currentUser"),this.router.navigate(["/login"]);return}}requestLogout(){this.showLogoutConfirm=!0}cancelLogout(){this.showLogoutConfirm=!1}logout(){this.showLogoutConfirm=!1,this.authService.logout()}roleLabel(t){switch(t){case"admin":return"Administrateur";case"operator":return"Op\xE9rateur";case"driver":return"Chauffeur";case"security":return"S\xE9curit\xE9";default:return t}}loadNotifications(){this.userEntrepotId&&this.warehouseService.getWarehouses().subscribe({next:t=>{this.truckService.getTrucks(this.userEntrepotId).subscribe({next:e=>{this.notifications=e.filter(r=>r.unreadForGerant===!0).map(r=>{let o=t.find(i=>i.id===r.entrepotId);return{id:r.id,immatriculation:r.immatriculation,entrepotId:r.entrepotId,entrepotName:o?o.name:"Inconnu",statut:r.statut}}),this.notifCount=this.notifications.length}})}})}toggleNotifications(){this.showNotifDropdown=!this.showNotifDropdown,this.showNotifDropdown&&(this.showUserMenu=!1)}toggleUserMenu(){this.showUserMenu=!this.showUserMenu,this.showUserMenu&&(this.showNotifDropdown=!1)}closeDropdownsOnOutsideClick(){this.showNotifDropdown&&(this.showNotifDropdown=!1),this.showUserMenu&&(this.showUserMenu=!1)}openNotification(t){this.showNotifDropdown=!1,this.truckService.updateTruck(t.id,{unreadForGerant:!1}).subscribe({next:()=>{this.loadNotifications(),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/userdashboard/userentrepot",t.entrepotId])})}})}static \u0275fac=function(e){return new(e||n)(S(fe),S(ft),S(Me),S(nt))};static \u0275cmp=te({type:n,selectors:[["app-user-dashboard"]],hostBindings:function(e,r){e&1&&_("click",function(){return r.closeDropdownsOnOutsideClick()},mr)},decls:58,vars:16,consts:[[1,"app-shell"],["class","sidebar-overlay",3,"click",4,"ngIf"],["role","navigation",1,"sidebar-container"],[1,"sidebar-header"],[1,"logo-wrapper"],["fill","none","viewBox","0 0 48 48","xmlns","http://www.w3.org/2000/svg"],["d","M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z","fill","currentColor"],[1,"logo-title"],[1,"sidebar-nav"],[1,"nav-section"],[1,"section-label"],["routerLinkActive","active",1,"sidebar-link",3,"routerLink"],[1,"material-symbols-outlined","notranslate"],[1,"link-label"],["routerLinkActive","active","class","sidebar-link",3,"routerLink",4,"ngIf"],[1,"sidebar-footer"],[1,"footer-divider"],["href","#",1,"sidebar-link","logout",3,"click"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"content-wrapper"],[1,"top-header"],[1,"top-header-left"],[1,"mobile-menu-btn",3,"click"],[1,"top-header-right"],[1,"notification-container",3,"click"],["type","button",1,"notif-button",3,"click"],["class","notif-badge-dot",4,"ngIf"],["class","notif-popover",4,"ngIf"],[1,"profile-block",2,"cursor","pointer","position","relative",3,"click"],[1,"profile-avatar"],[1,"profile-info"],[1,"name"],[1,"role"],[1,"profile-toggle"],["class","user-dropdown",3,"click",4,"ngIf"],[1,"page-overflow","admin-scroll"],[1,"sidebar-overlay",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"btn-confirm",3,"click"],[1,"notif-badge-dot"],[1,"notif-popover"],[1,"popover-header"],[1,"popover-title"],["class","popover-count",4,"ngIf"],[1,"popover-scroll","custom-scroll"],["class","popover-empty",4,"ngIf"],["class","notif-card-item",3,"click",4,"ngFor","ngForOf"],[1,"popover-count"],[1,"popover-empty"],[1,"notif-card-item",3,"click"],[1,"notif-icon-circle"],[1,"notif-body"],[1,"notif-row"],[1,"notif-immat"],[1,"notif-subtitle"],[1,"notif-subtitle",2,"font-size","0.75rem","color","var(--primary)"],[1,"user-dropdown",3,"click"],[1,"dropdown-header-mobile"],[1,"dropdown-item",3,"click","routerLink"],["class","dropdown-item",3,"routerLink","click",4,"ngIf"],[1,"dropdown-divider"],["href","#",1,"dropdown-item","text-danger",3,"click"]],template:function(e,r){e&1&&(s(0,"div",0),E(1,VD,1,0,"div",1),s(2,"aside",2)(3,"div",3)(4,"div",4),No(),s(5,"svg",5),H(6,"path",6),c()(),Ro(),s(7,"h1",7),l(8,"Entrep\xF4ts"),c()(),s(9,"nav",8)(10,"div",9)(11,"p",10),l(12,"Menu"),c(),s(13,"a",11)(14,"span",12),l(15,"dashboard"),c(),s(16,"span",13),l(17,"Tableau de bord"),c()(),E(18,jD,5,3,"a",14),s(19,"a",11)(20,"span",12),l(21,"inventory_2"),c(),s(22,"span",13),l(23,"Empotage"),c()()()(),s(24,"div",15),H(25,"div",16),s(26,"a",17),_("click",function(i){return i.preventDefault(),r.requestLogout()}),s(27,"span",12),l(28,"logout"),c(),s(29,"span",13),l(30,"D\xE9connexion"),c()()()(),E(31,UD,16,0,"div",18),s(32,"div",19)(33,"header",20)(34,"div",21)(35,"button",22),_("click",function(){return r.toggleSidebar()}),s(36,"span",12),l(37,"menu"),c()()(),s(38,"div",23)(39,"div",24),_("click",function(i){return i.stopPropagation()}),s(40,"button",25),_("click",function(){return r.toggleNotifications()}),s(41,"span",12),l(42,"notifications"),c(),E(43,BD,1,0,"span",26),c(),E(44,WD,8,3,"div",27),c(),s(45,"div",28),_("click",function(i){return i.stopPropagation(),r.toggleUserMenu()}),H(46,"div",29),s(47,"div",30)(48,"p",31),l(49),c(),s(50,"p",32),l(51),c()(),s(52,"button",33)(53,"span",12),l(54,"expand_more"),c()(),E(55,qD,17,3,"div",34),c()()(),s(56,"main",35),H(57,"router-outlet"),c()()()),e&2&&(f(),b("ngIf",r.isSidebarOpen),f(),W("mobile-open",r.isSidebarOpen),f(11),b("routerLink","/userdashboard/userdashboardmain"),f(5),b("ngIf",r.userEntrepotId!==null),f(),b("routerLink","/userdashboard/userEmpotage"),f(12),b("ngIf",r.showLogoutConfirm),f(9),kn("aria-expanded",r.showNotifDropdown),f(3),b("ngIf",r.notifCount>0),f(),b("ngIf",r.showNotifDropdown),f(2),aa(to(`
              background-image: url('https://ui-avatars.com/api/?name=`,r.userName,`&background=random');
            `)),f(3),w(r.userName),f(2),w(r.userRoleLabel),f(4),b("ngIf",r.showUserMenu))},dependencies:[Jn,Kn,Tt,za,ae,be,me],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1d4ed8;--primary-subtle: #e7edf3;--success-bg: #dcfce7;--success-text: #166534;--success-border: #dcfce7;--warning-bg: #fffbeb;--warning-text: #b45309;--warning-border: #fef3c7;--danger-bg: #fee2e2;--danger-text: #991b1b;--danger-border: #fecaca;--danger-solid: #ef4444;--info-bg: #e0f2fe;--info-text: #0284c7;--background-light: #f6f7f8;--background-white: #ffffff;--background-dark: #101922;--text-primary: #0d141b;--text-secondary: #4c739a;--text-tertiary: #94a3b8;--border-light: #e2e8f0;--border-medium: #cbd5e1;--border-dark: #1f2933;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-card: 0 10px 40px -10px rgba(0, 0, 0, .08);--shadow-float: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease-in-out;--transition-normal: all .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .35s cubic-bezier(.16, 1, .3, 1);--header-height: 72px;--sidebar-width: 280px}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#e5e7eb}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;translate:no}.material-symbols-outlined.notranslate[_ngcontent-%COMP%]{translate:no}.page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);padding:2rem 1.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:var(--text-primary);text-shadow:0 2px 10px rgba(43,140,238,.1);letter-spacing:-.025em;margin:0;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-top:.5rem;font-weight:500}.card[_ngcontent-%COMP%]{background:var(--background-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);border:1px solid rgba(0,0,0,.03);padding:1.5rem;transition:var(--transition-normal)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-float)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.95rem;cursor:pointer;transition:var(--transition-normal);border:none;outline:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;box-shadow:0 4px 12px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 16px #2b8cee66}.btn-secondary[_ngcontent-%COMP%]{background:var(--background-white);border:1px solid var(--border-light);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:var(--border-medium)}.btn-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);cursor:pointer;transition:var(--transition-normal)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary);border-color:var(--primary)}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gap-1[_ngcontent-%COMP%]{gap:.25rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.w-full[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none!important}.responsive-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.truck-modal-close[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.06)!important;background:#ef4444!important;color:#fff!important;border-radius:.5rem!important;width:2.25rem!important;height:2.25rem!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;font-weight:700!important;transition:background-color .12s ease,transform .08s ease,box-shadow .12s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#dc2626!important;transform:translateY(-2px)!important;box-shadow:0 10px 30px #dc262624!important}.truck-modal-close[_ngcontent-%COMP%]:focus{outline:3px solid rgba(239,68,68,.18)!important;outline-offset:2px!important}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;line-height:1;min-height:1.8rem;box-sizing:border-box;box-shadow:var(--shadow-sm)}.status-pill[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.status-pill--enregistre[_ngcontent-%COMP%]{background:var(--info-bg);color:var(--info-text);border:1px solid var(--info-bg)}.status-pill--pending[_ngcontent-%COMP%]{background:var(--warning-bg);color:var(--warning-text);border:1px solid var(--warning-border)}.status-pill--validated[_ngcontent-%COMP%], .status-pill--accepted[_ngcontent-%COMP%]{background:var(--success-bg);color:var(--success-text);border:1px solid var(--success-border)}.status-pill--accepted-final[_ngcontent-%COMP%]{background:#ecfdf5;color:#064e3b;border:1px solid #059669}.status-pill--renvoye[_ngcontent-%COMP%]{background:#fff7ed;color:#c2410c;border:1px solid #ffedd5}.status-pill--reintegre[_ngcontent-%COMP%]{background:#f0fdfa;color:#0f766e;border:1px solid #ccfbf1}.status-pill--refoule[_ngcontent-%COMP%]{background:var(--danger-bg);color:var(--danger-text);border:1px solid var(--danger-border)}body.dark[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000004d}body.dark[_ngcontent-%COMP%]   .status-pill--enregistre[_ngcontent-%COMP%]{background:#1e40af33;color:#93c5fd;border-color:#1e40af4d}body.dark[_ngcontent-%COMP%]   .status-pill--pending[_ngcontent-%COMP%]{background:#92400e33;color:#fcd34d;border-color:#92400e4d}body.dark[_ngcontent-%COMP%]   .status-pill--validated[_ngcontent-%COMP%]{background:#16653433;color:#86efac;border-color:#1665344d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted[_ngcontent-%COMP%]{background:#14532d33;color:#6ee7b7;border-color:#14532d4d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted-final[_ngcontent-%COMP%]{background:#064e3b33;color:#34d399;border-color:#05966966}body.dark[_ngcontent-%COMP%]   .status-pill--renvoye[_ngcontent-%COMP%]{background:#9a341233;color:#fdba74;border-color:#9a34124d}body.dark[_ngcontent-%COMP%]   .status-pill--reintegre[_ngcontent-%COMP%]{background:#0f766e33;color:#5eead4;border-color:#0f766e4d}body.dark[_ngcontent-%COMP%]   .status-pill--refoule[_ngcontent-%COMP%]{background:#991b1b33;color:#fca5a5;border-color:#991b1b4d}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0;color:var(--text-primary)}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;overflow-y:auto;flex:1}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem}body.dark[_ngcontent-%COMP%]   .modal__backdrop[_ngcontent-%COMP%]{background:#000000b3}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1e293b;border:1px solid rgba(255,255,255,.1)}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{color:#fff}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#0f172a;border-top-color:#ffffff1a}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition-normal);width:100%}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.truck-field[_ngcontent-%COMP%]   .truck-help[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{background:#0f172a;border-color:#ffffff1a;color:#fff}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.notification-banner[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;background:#f0fdf4;border:1px solid #bbf7d0;color:#166534;padding:1rem 1.5rem;border-radius:.75rem;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.16,1,.3,1);font-weight:600}.notification-banner[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#15803d}@media (max-width: 480px){.notification-banner[_ngcontent-%COMP%]{top:70px;right:10px;left:10px;justify-content:center}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}[_nghost-%COMP%]{--sidebar-width: clamp(250px, 20vw, 290px);--header-height: 72px;--transition-ultra: all .35s cubic-bezier(.16, 1, .3, 1);--sidebar-bg: #ffffff;--sidebar-border: rgba(0, 0, 0, .05)}.app-shell[_ngcontent-%COMP%]{display:flex;height:100vh;height:100dvh;overflow:hidden;background-color:var(--background-light)}.sidebar-container[_ngcontent-%COMP%]{width:var(--sidebar-width);height:100%;background:var(--sidebar-bg);border-right:1px solid var(--sidebar-border);display:flex;flex-direction:column;z-index:100;flex-shrink:0;transition:var(--transition-ultra);position:relative}.sidebar-header[_ngcontent-%COMP%]{padding:2rem 1.75rem;display:flex;align-items:center;gap:1rem}.sidebar-header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;border-radius:12px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #2b8cee40}.sidebar-header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.sidebar-header[_ngcontent-%COMP%]   .logo-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:850;color:#0f172a;letter-spacing:-.015em;margin:0}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:0 1rem;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem;margin-bottom:2.5rem}.sidebar-nav[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{padding-left:1.25rem;font-size:.6875rem;font-weight:800;text-transform:uppercase;letter-spacing:.12em;color:#94a3b8;margin-bottom:.75rem}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:.875rem 1.25rem;border-radius:1rem;text-decoration:none;font-size:.9375rem;font-weight:600;color:#64748b;transition:var(--transition-ultra);position:relative;overflow:hidden}.sidebar-link[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:22px}.sidebar-link[_ngcontent-%COMP%]:hover{background:#2b8cee0d;color:var(--primary);transform:translate(4px)}.sidebar-link.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff;box-shadow:0 10px 20px -8px #2b8cee66}.sidebar-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:25%;bottom:25%;width:4px;background:#fff;border-radius:0 4px 4px 0;opacity:.5}.sidebar-link.active[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 1;filter:drop-shadow(0 0 4px rgba(255,255,255,.3))}.sidebar-link.logout[_ngcontent-%COMP%]{color:#ef4444}.sidebar-link.logout[_ngcontent-%COMP%]:hover{background:#fef2f2}.sidebar-link.secondary[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem 1rem;padding-bottom:max(1.5rem,env(safe-area-inset-bottom));border-top:1px solid var(--sidebar-border);display:flex;flex-direction:column;gap:.5rem;flex-shrink:0}.sidebar-footer[_ngcontent-%COMP%]   .footer-divider[_ngcontent-%COMP%]{height:1px;background:var(--sidebar-border);margin:.5rem .75rem}.content-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:0}.top-header[_ngcontent-%COMP%]{height:var(--header-height);background:#ffffffbf;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-bottom:1px solid var(--sidebar-border);display:flex;align-items:center;justify-content:space-between;padding:0 2rem;z-index:90}.top-header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.notification-container[_ngcontent-%COMP%]{position:relative}.notif-button[_ngcontent-%COMP%]{width:44px;height:44px;border:1px solid var(--sidebar-border);background:#fff;border-radius:12px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition-ultra);color:#64748b;position:relative}.notif-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);border-color:var(--primary);color:var(--primary);box-shadow:0 4px 12px #0000000d}.notif-button[_ngcontent-%COMP%]   .notif-badge-dot[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:8px;height:8px;background:#ef4444;border-radius:50%;border:2px solid #ffffff}.notif-popover[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 12px);right:0;width:320px;max-width:90vw;background:#fff;border-radius:1.25rem;box-shadow:0 20px 50px #00000026;border:1px solid var(--sidebar-border);overflow:hidden;animation:_ngcontent-%COMP%_popoverIn .3s cubic-bezier(.16,1,.3,1);z-index:1001}@media (max-width: 480px){.notif-popover[_ngcontent-%COMP%]{position:fixed;top:80px;left:50%;transform:translate(-50%);width:90%;max-width:350px;right:auto;box-shadow:0 10px 100px #0003}}.notif-popover[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;background:#fcfdfe;border-bottom:1px solid var(--sidebar-border);display:flex;justify-content:space-between;align-items:center}.notif-popover[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]   .popover-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:800;margin:0;color:#0f172a}.notif-popover[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]   .popover-count[_ngcontent-%COMP%]{background:#fee2e2;color:#ef4444;font-size:.7rem;font-weight:800;padding:.2rem .6rem;border-radius:999px}.notif-popover[_ngcontent-%COMP%]   .popover-scroll[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.notif-popover[_ngcontent-%COMP%]   .popover-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]{padding:1.125rem 1.5rem;display:flex;gap:1rem;cursor:pointer;transition:.2s;border-bottom:1px solid rgba(0,0,0,.03)}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-icon-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:#eff6ff;color:var(--primary);display:flex;align-items:center;justify-content:center}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-icon-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-body[_ngcontent-%COMP%]{flex:1}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-body[_ngcontent-%COMP%]   .notif-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-body[_ngcontent-%COMP%]   .notif-immat[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:#0f172a}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-body[_ngcontent-%COMP%]   .notif-clock[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8;font-weight:500}.notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-body[_ngcontent-%COMP%]   .notif-subtitle[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b;margin:0;font-weight:500}.notif-popover[_ngcontent-%COMP%]   .popover-empty[_ngcontent-%COMP%]{padding:3rem 1.5rem;text-align:center;color:#94a3b8}.notif-popover[_ngcontent-%COMP%]   .popover-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;opacity:.4;margin-bottom:.5rem;display:block}.notif-popover[_ngcontent-%COMP%]   .popover-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;margin:0}@keyframes _ngcontent-%COMP%_popoverIn{0%{opacity:0;transform:translateY(10px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.profile-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;padding:.4rem .5rem .4rem .4rem;background:#f8fafc;border:1px solid var(--sidebar-border);border-radius:999px;cursor:pointer;transition:var(--transition-ultra)}.profile-block[_ngcontent-%COMP%]:hover{background:#fff;border-color:var(--primary);transform:translateY(-1px)}.profile-block[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-size:cover;background-position:center;border:2px solid #ffffff;box-shadow:0 2px 6px #0000001a}.profile-block[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700;color:#0f172a;margin:0}.profile-block[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;margin:0;font-weight:500}.profile-block[_ngcontent-%COMP%]   .profile-toggle[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;color:#94a3b8;cursor:pointer}.user-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 12px);right:0;width:220px;background:#fff;border-radius:1rem;box-shadow:0 20px 50px #00000026;border:1px solid var(--sidebar-border);overflow:hidden;animation:_ngcontent-%COMP%_popoverIn .3s cubic-bezier(.16,1,.3,1);z-index:1001;padding:.5rem;display:flex;flex-direction:column;gap:.25rem}.user-dropdown[_ngcontent-%COMP%]   .dropdown-header-mobile[_ngcontent-%COMP%]{display:none;padding:.5rem 1rem;font-size:.75rem;font-weight:700;color:#94a3b8;text-transform:uppercase;border-bottom:1px solid var(--sidebar-border);margin-bottom:.25rem}@media (max-width: 768px){.user-dropdown[_ngcontent-%COMP%]   .dropdown-header-mobile[_ngcontent-%COMP%]{display:block}}.user-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:.75rem;color:#475569;font-size:.9rem;font-weight:600;text-decoration:none;transition:all .2s}.user-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{margin-right:0;font-size:20px}.user-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#f8fafc;color:var(--primary)}.user-dropdown[_ngcontent-%COMP%]   .dropdown-item.text-danger[_ngcontent-%COMP%]{color:#ef4444}.user-dropdown[_ngcontent-%COMP%]   .dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background:#fef2f2}.user-dropdown[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{height:1px;background:var(--sidebar-border);margin:.25rem .5rem}.page-overflow[_ngcontent-%COMP%]{flex:1;overflow-y:auto;min-height:0;-ms-overflow-style:none;scrollbar-width:none}.page-overflow[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}body.dark[_ngcontent-%COMP%]{--sidebar-bg: #111827;--sidebar-border: rgba(255, 255, 255, .05)}body.dark[_ngcontent-%COMP%]   .app-shell[_ngcontent-%COMP%]{background:var(--background-dark)}body.dark[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .logo-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .sidebar-link[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .sidebar-link[_ngcontent-%COMP%]:hover:not(.active){background:#ffffff08;color:#f8fafc}body.dark[_ngcontent-%COMP%]   .top-header[_ngcontent-%COMP%]{background:#101922cc;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .notif-button[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff14}body.dark[_ngcontent-%COMP%]   .notif-button[_ngcontent-%COMP%]   .notif-badge-dot[_ngcontent-%COMP%]{border-color:#1a222c}body.dark[_ngcontent-%COMP%]   .profile-block[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff14}body.dark[_ngcontent-%COMP%]   .profile-block[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]{background:#1e293b;border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]   .popover-title[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]{border-color:#ffffff08}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]:hover{background:#ffffff08}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-immat[_ngcontent-%COMP%]{color:#f8fafc}body.dark[_ngcontent-%COMP%]   .notif-popover[_ngcontent-%COMP%]   .notif-card-item[_ngcontent-%COMP%]   .notif-icon-circle[_ngcontent-%COMP%]{background:#2b8cee26}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0f172a66;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-overlay[_ngcontent-%COMP%]   .modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:90%;max-width:400px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;animation:_ngcontent-%COMP%_scaleIn .2s ease-out;border:1px solid rgba(0,0,0,.05);overflow:hidden}.modal-overlay[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-bottom:1px solid rgba(0,0,0,.05);display:flex;justify-content:space-between;align-items:center}.modal-overlay[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0f172a;margin:0}.modal-overlay[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#64748b;cursor:pointer;padding:.25rem;border-radius:8px;display:flex;align-items:center;justify-content:center}.modal-overlay[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#0f172a}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#334155;font-size:.95rem;line-height:1.5}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;background:#f8fafc;border-top:1px solid rgba(0,0,0,.05);display:flex;justify-content:flex-end;gap:.75rem}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.6rem 1rem;border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#fff;border:1px solid #cbd5e1;color:#475569}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#94a3b8}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{background:#ef4444;border:1px solid #ef4444;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:hover{background:#dc2626;border-color:#dc2626}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.mobile-menu-btn[_ngcontent-%COMP%]{display:none;background:transparent;border:none;color:#1e293b;cursor:pointer;padding:8px;border-radius:8px;transition:background-color .2s}.mobile-menu-btn[_ngcontent-%COMP%]:hover{background-color:#0000000d}.mobile-menu-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px}.sidebar-overlay[_ngcontent-%COMP%]{display:none}@media (max-width: 1024px){.sidebar-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;height:100dvh;z-index:9999;transform:translate(-100%);box-shadow:0 0 20px #0003;transition:transform .3s cubic-bezier(.4,0,.2,1)}.sidebar-container.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}.mobile-menu-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-right:1rem}.sidebar-overlay[_ngcontent-%COMP%]{display:block;position:fixed;inset:0;background-color:#00000080;z-index:9998;opacity:0;pointer-events:none;transition:opacity .3s}.sidebar-overlay[_ngcontent-%COMP%]{pointer-events:auto;opacity:1;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.top-header[_ngcontent-%COMP%]{padding:0 1rem;height:64px}.top-header[_ngcontent-%COMP%]   .top-header-left[_ngcontent-%COMP%]{flex:1}}']})};var YD=(n,t,e,r)=>({"status-success":n,"status-warning":t,"status-danger":e,"status-registered":r});function ZD(n,t){if(n&1&&(s(0,"span"),l(1),c()),n&2){let e=m();f(),k("",e.trucks.length," camions total enregistr\xE9s.")}}function QD(n,t){if(n&1&&(s(0,"tr")(1,"td",40),l(2),c(),s(3,"td"),l(4),c(),s(5,"td")(6,"span",41),l(7),c()(),s(8,"td")(9,"span",42)(10,"span",15),l(11),c(),l(12),c()(),s(13,"td"),l(14),oe(15,"date"),c(),s(16,"td",43),l(17),c()()),n&2){let e=t.$implicit;f(2),w(e.immatriculation),f(2),w(e.cooperative||"-"),f(3),w(e.transfert||"-"),f(2),b("ngClass",pp(11,YD,e.statut==="D\xE9charg\xE9"||e.statut==="Valid\xE9",e.statut==="En attente"||e.statut==="En cours de d\xE9chargement",e.statut==="Annul\xE9"||e.statut==="Refoul\xE9",e.statut==="Enregistr\xE9")),f(2),k(" ",e.statut==="D\xE9charg\xE9"||e.statut==="Valid\xE9"?"check_circle":e.statut==="Annul\xE9"||e.statut==="Refoul\xE9"?"cancel":e.statut==="En cours de d\xE9chargement"?"pending":e.statut==="Enregistr\xE9"?"app_registration":"hourglass_empty"," "),f(),k(" ",e.statut," "),f(2),w(ce(15,8,e.heureArrivee,"dd/MM/yy HH:mm")||"-"),f(3),k(" ",e.products!=null&&e.products.poidsNet?(e.products==null?null:e.products.poidsNet)+" kg":"-"," ")}}function KD(n,t){n&1&&(s(0,"tr")(1,"td",44)(2,"div",45)(3,"span",15),l(4,"inbox"),c(),s(5,"p"),l(6,"Aucune donn\xE9e pour la p\xE9riode s\xE9lectionn\xE9e."),c()()()())}var ld=class n{constructor(t,e){this.truckService=t;this.warehouseService=e}currentUser=null;entrepotId=null;entrepotName="\u2014";period="today";filterDate="";trucks=[];filteredTrucks=[];ngOnInit(){this.loadCurrentUser(),this.loadEntrepotLabel(),this.loadTrucks()}loadCurrentUser(){let t=localStorage.getItem("lastVisitedEntrepot");if(t){let r=Number(t);if(!Number.isNaN(r)){this.entrepotId=r;return}}let e=sessionStorage.getItem("currentUser");if(e)try{this.currentUser=JSON.parse(e),this.entrepotId=this.currentUser.entrepotId}catch{this.currentUser=null,this.entrepotId=null}}loadEntrepotLabel(){if(this.entrepotId===null){this.entrepotName="Tous les entrep\xF4ts";return}this.warehouseService.getWarehouse(this.entrepotId).subscribe({next:t=>this.entrepotName=t.name,error:()=>this.entrepotName="Entrep\xF4t inconnu"})}loadTrucks(){if(!this.entrepotId){console.warn("loadTrucks: No entrepotId available"),this.trucks=[],this.filteredTrucks=[];return}this.truckService.getTrucks(this.entrepotId).subscribe({next:t=>{this.trucks=t,this.applyFilters()},error:t=>console.error("Erreur loading trucks",t)})}applyFilters(){this.filteredTrucks=this.trucks.filter(t=>{let e=this.getDateForPeriod(t);return this.isInSelectedPeriod(e)})}onPeriodChange(){this.period!=="specific"&&(this.filterDate=""),this.applyFilters()}onDateChange(){this.filterDate?this.period="specific":this.period="today",this.applyFilters()}findHistoryDate(t,e){let r=t.history||[];for(let o=r.length-1;o>=0;o--)if(r[o]?.event===e&&r[o]?.date)return r[o].date}getDateForPeriod(t){try{if(t.statut==="Annul\xE9"){let e=t.advancedStatus;return e==="REFUSE_RENVOYE"?t.renvoyeAt||this.findHistoryDate(t,"Camion renvoy\xE9 par le g\xE9rant")||t.refusedAt||this.findHistoryDate(t,"Refus administrateur")||t.createdAt||t.heureArrivee||"":e==="REFUSE_EN_ATTENTE_GERANT"?t.refusedAt||this.findHistoryDate(t,"Refus administrateur")||t.createdAt||t.heureArrivee||"":t.refusedAt||t.renvoyeAt||this.findHistoryDate(t,"Refus administrateur")||this.findHistoryDate(t,"Camion renvoy\xE9 par le g\xE9rant")||t.createdAt||t.heureArrivee||""}return t.advancedStatus==="ACCEPTE_FINAL"?t.finalAcceptedAt||this.findHistoryDate(t,"D\xE9tails produits renseign\xE9s \u2014 Camion accept\xE9")||t.createdAt||t.heureArrivee||"":t.advancedStatus==="REFUSE_REINTEGRE"?t.reintegratedAt||this.findHistoryDate(t,"R\xE9int\xE9gration administrateur")||t.createdAt||t.heureArrivee||"":t.statut==="Valid\xE9"?t.validatedAt||this.findHistoryDate(t,"Validation administrateur")||t.createdAt||t.heureArrivee||"":t.statut==="En attente"?this.findHistoryDate(t,"Analyses envoy\xE9es \xE0 l\u2019administrateur")||t.createdAt||t.heureArrivee||"":t.createdAt||t.heureArrivee||""}catch{return t.createdAt||t.heureArrivee||""}}isInSelectedPeriod(t){if(!t)return!1;let e=new Date(t),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=r.getDay()||7,a=new Date(o);a.setDate(a.getDate()-(i-1));let d=new Date(r.getFullYear(),r.getMonth(),1),u=new Date(r.getFullYear(),0,1);return this.period==="specific"?this.filterDate?e.toDateString()===new Date(this.filterDate).toDateString():!0:this.period==="today"?e.toDateString()===r.toDateString():this.period==="week"?e>=a:this.period==="month"?e>=d:this.period==="year"?e>=u:!0}get totalPresents(){return this.filteredTrucks.length}get enAttente(){return this.filteredTrucks.filter(t=>t.statut==="En attente").length}get enDechargement(){return this.filteredTrucks.filter(t=>t.statut==="Valid\xE9"&&t.advancedStatus!=="ACCEPTE_FINAL").length}get decharges(){return this.filteredTrucks.filter(t=>t.advancedStatus==="ACCEPTE_FINAL").length}get annules(){return this.filteredTrucks.filter(t=>t.statut==="Annul\xE9").length}get attenteDecisionAdmin(){return this.filteredTrucks.filter(t=>t.unreadForAdmin===!0).length}get refusesAttenteGerant(){return this.filteredTrucks.filter(t=>t.advancedStatus==="REFUSE_EN_ATTENTE_GERANT").length}get refusesRenvoyes(){return this.filteredTrucks.filter(t=>t.advancedStatus==="REFUSE_RENVOYE").length}get refusesRintegres(){return this.filteredTrucks.filter(t=>t.advancedStatus==="REFUSE_REINTEGRE").length}static \u0275fac=function(e){return new(e||n)(S(ft),S(Me))};static \u0275cmp=te({type:n,selectors:[["app-user-dashboard-main"]],decls:121,vars:27,consts:[[1,"dashboard-wrapper"],[1,"dashboard-header"],[1,"header-content"],[1,"header-titles"],[1,"subtitle"],[4,"ngIf"],[1,"header-actions"],[1,"period-selector"],[3,"click"],[1,"date-input-wrapper"],[1,"material-symbols-outlined","notranslate","input-icon"],["type","date","placeholder","Date sp\xE9cifique",3,"ngModelChange","ngModel"],[1,"kpi-summary"],[1,"summary-card","primary"],[1,"card-icon"],[1,"material-symbols-outlined","notranslate"],[1,"card-data"],[1,"card-label"],[1,"card-value"],[1,"summary-card","info"],[1,"summary-card","success"],[1,"details-section"],[1,"section-title"],[1,"details-grid"],[1,"detail-card"],[1,"detail-header"],[1,"dot","info"],[1,"title"],[1,"detail-value"],[1,"dot","warning"],[1,"dot","orange"],[1,"dot","danger"],[1,"dot","purple"],[1,"dot","teal"],[1,"activity-section"],[1,"section-header"],[1,"table-container"],[1,"modern-table"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"fw-bold"],[1,"text-primary","fw-medium"],[1,"status-pill",3,"ngClass"],[1,"text-right","monospace"],["colspan","6",1,"empty-cell"],[1,"empty-state"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"h1"),l(5),c(),s(6,"p",4),l(7),E(8,ZD,2,1,"span",5),c()(),s(9,"div",6)(10,"div",7)(11,"button",8),_("click",function(){return r.period="today",r.onPeriodChange()}),l(12," Aujourd'hui "),c(),s(13,"button",8),_("click",function(){return r.period="week",r.onPeriodChange()}),l(14," Semaine "),c(),s(15,"button",8),_("click",function(){return r.period="month",r.onPeriodChange()}),l(16," Mois "),c(),s(17,"button",8),_("click",function(){return r.period="year",r.onPeriodChange()}),l(18," Ann\xE9e "),c()(),s(19,"div",9)(20,"span",10),l(21,"calendar_today"),c(),s(22,"input",11),A("ngModelChange",function(i){return N(r.filterDate,i)||(r.filterDate=i),i}),_("ngModelChange",function(){return r.onDateChange()}),c()()()()(),s(23,"section",12)(24,"div",13)(25,"div",14)(26,"span",15),l(27,"local_shipping"),c()(),s(28,"div",16)(29,"span",17),l(30,"Total Pr\xE9sents"),c(),s(31,"span",18),l(32),c()()(),s(33,"div",19)(34,"div",14)(35,"span",15),l(36,"hourglass_top"),c()(),s(37,"div",16)(38,"span",17),l(39,"En Traitement"),c(),s(40,"span",18),l(41),c()()(),s(42,"div",20)(43,"div",14)(44,"span",15),l(45,"check_circle"),c()(),s(46,"div",16)(47,"span",17),l(48,"Accept\xE9s / D\xE9charg\xE9s"),c(),s(49,"span",18),l(50),c()()()(),s(51,"section",21)(52,"h2",22),l(53,"D\xE9tails des statuts"),c(),s(54,"div",23)(55,"div",24)(56,"div",25),H(57,"span",26),s(58,"span",27),l(59,"En attente"),c()(),s(60,"div",28),l(61),c()(),s(62,"div",24)(63,"div",25),H(64,"span",29),s(65,"span",27),l(66,"Valid\xE9s (Attente)"),c()(),s(67,"div",28),l(68),c()(),s(69,"div",24)(70,"div",25),H(71,"span",30),s(72,"span",27),l(73,"D\xE9cision Admin"),c()(),s(74,"div",28),l(75),c()(),s(76,"div",24)(77,"div",25),H(78,"span",31),s(79,"span",27),l(80,"Refus\xE9s (G\xE9rant)"),c()(),s(81,"div",28),l(82),c()(),s(83,"div",24)(84,"div",25),H(85,"span",32),s(86,"span",27),l(87,"Refus\xE9s (Renvoy\xE9s)"),c()(),s(88,"div",28),l(89),c()(),s(90,"div",24)(91,"div",25),H(92,"span",33),s(93,"span",27),l(94,"R\xE9int\xE9gr\xE9s"),c()(),s(95,"div",28),l(96),c()()()(),s(97,"section",34)(98,"div",35)(99,"h2",22),l(100,"Activit\xE9 R\xE9cente"),c()(),s(101,"div",36)(102,"table",37)(103,"thead")(104,"tr")(105,"th"),l(106,"Immatriculation"),c(),s(107,"th"),l(108,"COOPERATIVE"),c(),s(109,"th"),l(110,"Fiche de transport"),c(),s(111,"th"),l(112,"Statut"),c(),s(113,"th"),l(114,"Date / Heure"),c(),s(115,"th",38),l(116,"Poids (Net)"),c()()(),s(117,"tbody"),E(118,QD,18,16,"tr",39),oe(119,"slice"),E(120,KD,7,0,"tr",5),c()()()()()),e&2&&(f(5),k("Tableau de bord \u2014 ",r.entrepotName),f(2),k(" Bienvenue",r.currentUser!=null&&r.currentUser.nom?", "+(r.currentUser==null?null:r.currentUser.nom):"",". "),f(),b("ngIf",r.trucks.length>0),f(3),W("active",r.period==="today"),f(2),W("active",r.period==="week"),f(2),W("active",r.period==="month"),f(2),W("active",r.period==="year"),f(5),T("ngModel",r.filterDate),f(10),w(r.totalPresents),f(9),w(r.enAttente+r.enDechargement+r.attenteDecisionAdmin),f(9),w(r.decharges),f(11),w(r.enAttente),f(7),w(r.enDechargement),f(7),w(r.attenteDecisionAdmin),f(7),w(r.refusesAttenteGerant),f(7),w(r.refusesRenvoyes),f(7),w(r.refusesRintegres),f(22),b("ngForOf",gp(119,23,r.filteredTrucks,0,10)),f(2),b("ngIf",r.filteredTrucks.length===0))},dependencies:[ae,vt,be,me,Se,xe,De,Oe,Vp,tt],styles:["[_ngcontent-%COMP%]:root{--primary: #3b82f6;--success: #22c55e;--warning: #eab308;--danger: #ef4444;--info: #0ea5e9;--text-primary: #1e293b;--text-secondary: #64748b;--bg-light: #f8fafc;--bg-cards: #ffffff;--border-color: #e2e8f0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.dashboard-wrapper[_ngcontent-%COMP%]{padding:1.5rem;width:100%;background-color:var(--bg-light);min-height:100vh;font-family:Inter,sans-serif;color:var(--text-primary);animation:_ngcontent-%COMP%_fadeIn .4s ease-out}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;flex-wrap:wrap;gap:1.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin:0;color:#0f172a;letter-spacing:-.025em}.dashboard-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.25rem 0 0;color:var(--text-secondary);font-size:.95rem}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}.period-selector[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-color);padding:.25rem;border-radius:.5rem;display:flex;gap:.25rem;box-shadow:0 1px 2px #0000000d}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;padding:.4rem .8rem;border-radius:.375rem;font-size:.85rem;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:all .2s}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;color:var(--text-primary)}.period-selector[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff;box-shadow:0 1px 2px #3b82f64d}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid var(--border-color);border-radius:.5rem;padding:0 .75rem;display:flex;align-items:center;height:40px;box-shadow:0 1px 2px #0000000d;transition:box-shadow .2s}.date-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.date-input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin-right:.5rem}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;font-size:.9rem;color:var(--text-primary);font-family:inherit;background:transparent;cursor:pointer}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer}.kpi-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;margin-bottom:2rem}.summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.5rem;display:flex;align-items:center;gap:1.25rem;border:1px solid rgba(0,0,0,.04);box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008;transition:transform .2s ease,box-shadow .2s ease;cursor:default}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #00000014,0 4px 6px -2px #0000000a}.summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;border-radius:.75rem;display:flex;align-items:center;justify-content:center}.summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.75rem}.summary-card[_ngcontent-%COMP%]   .card-data[_ngcontent-%COMP%]{display:flex;flex-direction:column}.summary-card[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;margin-bottom:.25rem;color:var(--text-secondary)}.summary-card[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;line-height:1;letter-spacing:-.02em;color:#0f172a}.summary-card.primary[_ngcontent-%COMP%]{border-bottom:4px solid var(--primary)}.summary-card.primary[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:#3b82f61a;color:var(--primary)}.summary-card.info[_ngcontent-%COMP%]{border-bottom:4px solid var(--info)}.summary-card.info[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:#0ea5e91a;color:var(--info)}.summary-card.success[_ngcontent-%COMP%]{border-bottom:4px solid var(--success)}.summary-card.success[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:#22c55e1a;color:var(--success)}.details-section[_ngcontent-%COMP%]{margin-bottom:2rem}.details-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--text-secondary);margin-bottom:1rem;padding-left:.25rem}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:.75rem;border:1px solid var(--border-color);box-shadow:0 1px 2px #0000000d;display:flex;flex-direction:column;justify-content:space-between;min-height:80px}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .dot.info[_ngcontent-%COMP%]{background:var(--info)}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .dot.warning[_ngcontent-%COMP%]{background:var(--warning)}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .dot.orange[_ngcontent-%COMP%]{background:#f97316}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .dot.danger[_ngcontent-%COMP%]{background:var(--danger)}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .dot.purple[_ngcontent-%COMP%]{background:#8b5cf6}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .dot.teal[_ngcontent-%COMP%]{background:#14b8a6}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);font-weight:500}.details-grid[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-top:.5rem;color:var(--text-primary)}.activity-section[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;border:1px solid var(--border-color);box-shadow:0 4px 6px -1px #0000000d;overflow:hidden}.activity-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.activity-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#0f172a;margin:0;text-transform:uppercase;letter-spacing:.05em}.activity-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:transparent;border:1px solid var(--border-color);padding:.4rem .8rem;border-radius:.375rem;font-size:.85rem;color:var(--text-secondary);cursor:pointer;transition:all .2s}.activity-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:var(--primary);border-color:var(--primary)}.activity-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]:hover   .material-symbols-outlined[_ngcontent-%COMP%]{transform:rotate(180deg)}.activity-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:1.1rem;transition:transform .4s ease}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;font-size:.9rem}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f8fafc;position:sticky;top:0;z-index:10}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:left;font-weight:700;color:var(--text-secondary);font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;border-bottom:1px solid var(--border-color);white-space:nowrap}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .15s;border-bottom:1px solid var(--border-color)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f1f5f9}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;color:#334155;vertical-align:middle;border-bottom:1px solid var(--border-color)}.modern-table[_ngcontent-%COMP%]   .fw-bold[_ngcontent-%COMP%]{font-weight:600;color:#0f172a}.modern-table[_ngcontent-%COMP%]   .fw-medium[_ngcontent-%COMP%]{font-weight:500}.modern-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.modern-table[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{color:var(--primary)}.modern-table[_ngcontent-%COMP%]   .monospace[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;color:var(--text-secondary)}.modern-table[_ngcontent-%COMP%]   .badge-product[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .6rem;border-radius:999px;background:#f1f5f9;color:#475569;font-size:.75rem;font-weight:600}.modern-table[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .65rem;border-radius:9999px;font-size:.75rem;font-weight:700;line-height:normal;white-space:nowrap}.modern-table[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.modern-table[_ngcontent-%COMP%]   .status-pill.status-success[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;border:1px solid transparent}.modern-table[_ngcontent-%COMP%]   .status-pill.status-warning[_ngcontent-%COMP%]{background:#fff;color:#d97706;border:1px solid #fed7aa}.modern-table[_ngcontent-%COMP%]   .status-pill.status-danger[_ngcontent-%COMP%]{background:#fef2f2;color:#ef4444;border:1px solid #fee2e2}.modern-table[_ngcontent-%COMP%]   .status-pill.status-registered[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb;border:1px solid #dbeafe}.empty-state[_ngcontent-%COMP%]{padding:3rem;text-align:center;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:3rem;color:#cbd5e1;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem}@media (prefers-color-scheme: dark){body.dark[_ngcontent-%COMP%]{--bg-light: #0f172a;--bg-cards: #1e293b;--border-color: #334155;--text-primary: #f1f5f9;--text-secondary: #94a3b8}body.dark[_ngcontent-%COMP%]   .dashboard-wrapper[_ngcontent-%COMP%]{background-color:var(--bg-light);color:var(--text-primary)}body.dark[_ngcontent-%COMP%]   .period-selector[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .recent-activity-section[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .detail-card[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:var(--bg-cards);border-color:var(--border-color)}body.dark[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#1e293b}body.dark[_ngcontent-%COMP%]   .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff05}body.dark[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#fff}}@media (max-width: 768px){.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.period-selector[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.modern-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem}}"]})};function JD(n,t){n&1&&(s(0,"tr")(1,"td",30),l(2," Aucun passage ne correspond \xE0 vos filtres pour le moment. "),c()())}function XD(n,t){if(n&1&&(s(0,"tr")(1,"td",32),l(2),c(),s(3,"td",33),l(4),c(),s(5,"td",33),l(6),oe(7,"date"),c(),s(8,"td",33),l(9),c(),s(10,"td")(11,"span",34)(12,"span",35),l(13),c(),l(14),c()(),s(15,"td",28)(16,"button",36)(17,"span",8),l(18,"visibility"),c()()()()),n&2){let e=t.$implicit,r=m(2);f(2),k(" ",e.immatriculation," "),f(2),k(" ",e.transporteur," "),f(2),k(" ",e.heureArrivee?ce(7,7,e.heureArrivee,"dd/MM/yyyy"):"-"," "),f(3),k(" ",r.formatHeure(e.createdAt)," "),f(2),b("ngClass",r.getStatusCssClass(e.statut)),f(2),w(r.getStatusIcon(e.statut)),f(),k(" ",e.statut," ")}}function eS(n,t){if(n&1&&(ct(0),E(1,XD,19,10,"tr",31),lt()),n&2){let e=m();f(),b("ngForOf",e.filteredRows)}}var dd=class n{constructor(t){this.route=t}entrepotId=null;allRows=[];filteredRows=[];searchTerm="";selectedWarehouseId="all";selectedStatus="all";selectedPeriod="all";warehousesOptions=[];ngOnInit(){let t=this.route.snapshot.paramMap.get("id")??this.route.snapshot.queryParamMap.get("entrepotId");this.entrepotId=t?Number(t):null,this.loadDataFromLocalStorage(),this.applyFilters()}loadDataFromLocalStorage(){let t=localStorage.getItem("warehouses");if(t)try{this.warehousesOptions=JSON.parse(t)}catch(o){console.error("Erreur parsing warehouses",o),this.warehousesOptions=[]}let e=localStorage.getItem("trucks");if(!e){this.allRows=[];return}let r=[];try{if(r=JSON.parse(e),this.entrepotId===null||Number.isNaN(this.entrepotId)){console.warn("[user-historique] Aucun entrepotId trouv\xE9 dans la route. Historique vide par s\xE9curit\xE9."),this.allRows=[];return}r=r.filter(o=>o.entrepotId===this.entrepotId)}catch(o){console.error("Erreur parsing trucks",o),r=[]}this.allRows=r.map(o=>{let i=this.warehousesOptions.find(a=>a.id===o.entrepotId)??null;return{entrepotId:o.entrepotId,entrepotName:i?i.name:"Entrep\xF4t inconnu",immatriculation:o.immatriculation,transporteur:o.transporteur,kor:o.kor,heureArrivee:o.heureArrivee,debutDechargement:o.debutDechargement??"-",finDechargement:o.finDechargement??"-",statut:o.statut,createdAt:o.createdAt}}),this.allRows.sort((o,i)=>new Date(i.createdAt).getTime()-new Date(o.createdAt).getTime())}applyFilters(){let t=this.searchTerm.trim().toLowerCase(),r=new Date().toISOString().slice(0,10);this.filteredRows=this.allRows.filter(o=>{if(t&&!(o.immatriculation+" "+o.transporteur).toLowerCase().includes(t)||this.selectedWarehouseId!=="all"&&o.entrepotId!==this.selectedWarehouseId||this.selectedStatus!=="all"&&o.statut!==this.selectedStatus)return!1;if(this.selectedPeriod!=="all"){let i=new Date(o.createdAt);if(isNaN(i.getTime()))return!1;let a=new Date,d=u=>{let p=u.getFullYear(),g=String(u.getMonth()+1).padStart(2,"0"),h=String(u.getDate()).padStart(2,"0");return`${p}-${g}-${h}`};if(this.selectedPeriod==="today"&&d(i)!==d(a))return!1;if(this.selectedPeriod==="7days"){let u=new Date(a);if(u.setDate(a.getDate()-7),i.getTime()<u.getTime())return!1}}return!0})}formatDateTime(t){let e=new Date(t);if(isNaN(e.getTime()))return"";let r=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear(),a=String(e.getHours()).padStart(2,"0"),d=String(e.getMinutes()).padStart(2,"0");return`${r}/${o}/${i} ${a}:${d}`}getTodayFileName(){let t=new Date,e=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0");return`${t.getFullYear()}-${r}-${e}`}exporterCSV(){if(!this.filteredRows||this.filteredRows.length===0){alert("Aucune donn\xE9e \xE0 exporter.");return}let t=["Entrep\xF4t","Immatriculation","Transporteur","Statut","Heure arriv\xE9e","Heure enregistrement","D\xE9but d\xE9chargement","Fin d\xE9chargement"],e=this.filteredRows.map(d=>{let u=this.warehousesOptions.find(p=>p.id===d.entrepotId);return[u?u.name:"",d.immatriculation,d.transporteur,d.statut,d.heureArrivee||"",d.createdAt?this.formatDateTime(d.createdAt):"",d.debutDechargement?this.formatDateTime(d.debutDechargement):"",d.finDechargement?this.formatDateTime(d.finDechargement):""]}),r=[t.join(";"),...e.map(d=>d.map(u=>`"${String(u).replace(/"/g,'""')}"`).join(";"))].join(`
`),o=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(o),a=document.createElement("a");a.href=i,a.download=`historique_camions_${this.getTodayFileName()}.csv`,a.click(),URL.revokeObjectURL(i)}getStatusCssClass(t){switch(t){case"D\xE9charg\xE9":return"status-pill status-pill--validated";case"En attente":return"status-pill status-pill--pending";case"Annul\xE9":return"status-pill status-pill--refoule";case"En cours de d\xE9chargement":return"status-pill status-pill--enregistre";default:return"status-pill"}}getStatusIcon(t){switch(t){case"D\xE9charg\xE9":return"check_circle";case"En attente":return"hourglass_empty";case"Annul\xE9":return"cancel";case"En cours de d\xE9chargement":return"sync";default:return"help_outline"}}formatHeure(t){return t?new Date(t).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"-"}static \u0275fac=function(e){return new(e||n)(S(Ke))};static \u0275cmp=te({type:n,selectors:[["app-historique"]],decls:72,vars:7,consts:[[1,"page-root"],[1,"page-main"],[1,"page-container"],[1,"page-header"],[1,"page-title-block"],[1,"page-title"],[1,"page-subtitle"],["type","button",1,"primary-chip-button",3,"click","disabled"],[1,"material-symbols-outlined","notranslate"],["aria-label","Filtres d'historique",1,"filters-section"],[1,"filters-grid"],[1,"search-wrapper"],[1,"search-field"],[1,"search-icon-box"],["type","text","placeholder","Rechercher par immatriculation ou transporteur...",1,"search-input",3,"ngModelChange","ngModel"],[1,"filter-chips-row"],[1,"filter-chip"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","today"],["value","7days"],[3,"ngValue"],["value","En attente"],["value","En cours de d\xE9chargement"],["value","D\xE9charg\xE9"],["value","Annul\xE9"],["aria-label","Tableau des passages",1,"table-card"],[1,"table-scroll"],[1,"action-cell"],[4,"ngIf"],["colspan","9",1,"cell-muted"],[4,"ngFor","ngForOf"],[1,"cell-main"],[1,"cell-muted"],[3,"ngClass"],[1,"material-symbols-outlined","notranslate","status-icon"],["type","button","title","Voir le d\xE9tail du passage",1,"icon-ghost-button"]],template:function(e,r){e&1&&(s(0,"body")(1,"div",0)(2,"main",1)(3,"div",2)(4,"header",3)(5,"div",4)(6,"p",5),l(7,"Historique des passages"),c(),s(8,"p",6),l(9," Consultez et filtrez l'historique de tous les passages de camions. "),c()(),s(10,"button",7),_("click",function(){return r.exporterCSV()}),s(11,"span",8),l(12,"download"),c(),s(13,"span"),l(14,"Exporter"),c()()(),s(15,"section",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"div",13)(20,"span",8),l(21,"search"),c()(),s(22,"input",14),A("ngModelChange",function(i){return N(r.searchTerm,i)||(r.searchTerm=i),i}),_("ngModelChange",function(){return r.applyFilters()}),c()()(),s(23,"div",15)(24,"div",16)(25,"span"),l(26,"P\xE9riode"),c(),s(27,"select",17),A("ngModelChange",function(i){return N(r.selectedPeriod,i)||(r.selectedPeriod=i),i}),_("change",function(){return r.applyFilters()}),s(28,"option",18),l(29,"Toutes"),c(),s(30,"option",19),l(31,"Aujourd'hui"),c(),s(32,"option",20),l(33,"7 derniers jours"),c()(),s(34,"span",8),l(35,"arrow_drop_down"),c()(),s(36,"div",16)(37,"span"),l(38,"Statut"),c(),s(39,"select",17),A("ngModelChange",function(i){return N(r.selectedStatus,i)||(r.selectedStatus=i),i}),_("change",function(){return r.applyFilters()}),s(40,"option",21),l(41,"Tous"),c(),s(42,"option",22),l(43,"En attente"),c(),s(44,"option",23),l(45,"En cours de d\xE9chargement"),c(),s(46,"option",24),l(47,"D\xE9charg\xE9"),c(),s(48,"option",25),l(49,"Annul\xE9"),c()(),s(50,"span",8),l(51,"arrow_drop_down"),c()()()()(),s(52,"section",26)(53,"div",27)(54,"table")(55,"thead")(56,"tr")(57,"th"),l(58,"Immatriculation"),c(),s(59,"th"),l(60,"Transporteur"),c(),s(61,"th"),l(62,"Date Arriv\xE9e Camion"),c(),s(63,"th"),l(64,"Heure d'enr\xE9gistrement"),c(),s(65,"th"),l(66,"Statut"),c(),s(67,"th",28),l(68,"Action"),c()()(),s(69,"tbody"),E(70,JD,3,0,"tr",29)(71,eS,2,1,"ng-container",29),c()()()()()()()()),e&2&&(f(10),b("disabled",r.filteredRows.length===0),f(12),T("ngModel",r.searchTerm),f(5),T("ngModel",r.selectedPeriod),f(12),T("ngModel",r.selectedStatus),f(),b("ngValue","all"),f(30),b("ngIf",r.filteredRows.length===0),f(),b("ngIf",r.filteredRows.length>0))},dependencies:[ae,vt,be,me,Se,Pr,kr,xe,Or,De,Oe,tt],styles:['@charset "UTF-8";.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24;font-size:20px}.page-root[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.page-main[_ngcontent-%COMP%]{flex:1;padding:1.5rem}@media (min-width: 1024px){.page-main[_ngcontent-%COMP%]{padding:2rem}}.page-container[_ngcontent-%COMP%]{max-width:1120px;margin:0 auto;display:flex;flex-direction:column;gap:1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-between;gap:1rem}.page-title-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem}.page-title[_ngcontent-%COMP%]{font-size:1.9rem;font-weight:900;letter-spacing:-.03em;color:#020617}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-muted)}body.dark[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#f9fafb}body.dark[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{color:#9ca3af}.primary-chip-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.4rem;height:2.5rem;padding:0 1rem;border-radius:.75rem;border:none;cursor:pointer;background-color:var(--primary);color:#fff;font-size:.85rem;font-weight:700;letter-spacing:.03em;box-shadow:0 10px 24px #2b8cee66;transition:background-color .15s ease,transform .1s ease,box-shadow .1s ease}.primary-chip-button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px}.primary-chip-button[_ngcontent-%COMP%]:hover{background-color:#236ed0;transform:translateY(-1px);box-shadow:0 14px 32px #2b8cee80}.primary-chip-button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 8px 18px #2b8cee59}.filters-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr);gap:.75rem}@media (min-width: 768px){.filters-grid[_ngcontent-%COMP%]{grid-template-columns:minmax(0,1.5fr) minmax(0,1fr);align-items:center}}.search-wrapper[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]{display:flex;width:100%;border-radius:.75rem;overflow:hidden;border:1px solid #cbd5e1;background-color:#fff}.search-icon-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-inline:.85rem;border-right:1px solid #cbd5e1;color:#6b7280;background-color:#fff}.search-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;padding:.6rem .9rem;font-size:.92rem;background-color:#fff;color:var(--text-main)}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.search-input[_ngcontent-%COMP%]:focus{outline:none}body.dark[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{border-color:var(--border-dark);background-color:#020617}body.dark[_ngcontent-%COMP%]   .search-icon-box[_ngcontent-%COMP%]{border-color:var(--border-dark);background-color:#020617;color:#9ca3af}body.dark[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{background-color:#020617;color:#e5e7eb}.filter-chips-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:.5rem}.filter-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;height:2.5rem;padding:0 .75rem 0 1rem;border-radius:.75rem;border:1px solid #cbd5e1;background-color:#fff;cursor:pointer;font-size:.85rem;font-weight:500;color:#1f2933;transition:background-color .15s ease,border-color .15s ease}.filter-chip[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px;color:#4b5563}.filter-chip[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#94a3b8}body.dark[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]{border-color:var(--border-dark);background-color:#020617;color:#e5e7eb}body.dark[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{color:#d1d5db}body.dark[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]:hover{background-color:#111827}.table-card[_ngcontent-%COMP%]{border-radius:.75rem;border:1px solid var(--border-light);background-color:#fff;overflow:hidden}body.dark[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]{border-color:#020617;background-color:#020617}.table-scroll[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:960px;text-align:left}thead[_ngcontent-%COMP%]{background-color:#f8fafc;border-bottom:1px solid #e2e8f0}body.dark[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#0f172ae6;border-color:#1f2937}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.8rem;white-space:nowrap}th[_ngcontent-%COMP%]{font-weight:600;color:#64748b}body.dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#9ca3af}tbody[_ngcontent-%COMP%]{background-color:#fff}body.dark[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{background-color:#020617}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0;transition:background-color .15s ease;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9fafb}body.dark[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-color:#1f2937}body.dark[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#1e40af33}.cell-main[_ngcontent-%COMP%]{font-weight:600;color:#0f172a}.cell-muted[_ngcontent-%COMP%]{color:#6b7280}body.dark[_ngcontent-%COMP%]   .cell-main[_ngcontent-%COMP%]{color:#e5e7eb}body.dark[_ngcontent-%COMP%]   .cell-muted[_ngcontent-%COMP%]{color:#cbd5f5}.action-cell[_ngcontent-%COMP%]{text-align:right}.icon-ghost-button[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:.75rem;border:none;background-color:transparent;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;color:#6b7280;transition:background-color .15s ease,color .15s ease}.icon-ghost-button[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;color:var(--primary)}body.dark[_ngcontent-%COMP%]   .icon-ghost-button[_ngcontent-%COMP%]{color:#9ca3af}body.dark[_ngcontent-%COMP%]   .icon-ghost-button[_ngcontent-%COMP%]:hover{background-color:#111827;color:var(--primary)}@media (max-width: 640px){.page-main[_ngcontent-%COMP%]{padding-inline:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.6rem}}.filters-section[_ngcontent-%COMP%]{margin-top:1.5rem}.filters-grid[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1.5rem;flex-wrap:wrap}.search-wrapper[_ngcontent-%COMP%]{flex:1;min-width:320px;max-width:520px}.search-field[_ngcontent-%COMP%]{display:flex;align-items:center;height:48px;border:1px solid #e3e8f0;border-radius:999px;background-color:#fff;overflow:hidden;transition:border-color .2s,box-shadow .2s}.search-icon-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;color:#7b8aa0}.search-input[_ngcontent-%COMP%]{flex:1;height:100%;border:none;outline:none;padding-right:1rem;font-size:14px;color:#1f2937;background:transparent}.search-input[_ngcontent-%COMP%]::placeholder{color:#9aa7bd}.search-field[_ngcontent-%COMP%]:focus-within{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f626}.filter-chip[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.5rem;height:40px;padding:0 .75rem;border:1px solid #e3e8f0;border-radius:999px;background-color:#fff;cursor:pointer}.filter-select[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none}.filter-chip[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{pointer-events:none;font-size:20px;color:#7b8aa0}@media (max-width: 900px){.filters-grid[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-wrapper[_ngcontent-%COMP%]{max-width:100%}.filter-chips-row[_ngcontent-%COMP%]{justify-content:flex-start}}']})};function tS(n,t){if(n&1&&(s(0,"span",26),l(1),c()),n&2){let e=m();f(),w(e.nbEnregistres)}}function nS(n,t){if(n&1&&(s(0,"span",26),l(1),c()),n&2){let e=m();f(),w(e.nbAttente)}}function rS(n,t){if(n&1&&(s(0,"span",26),l(1),c()),n&2){let e=m();f(),w(e.nbValides)}}function oS(n,t){if(n&1&&(s(0,"span",26),l(1),c()),n&2){let e=m();f(),w(e.nbRefoules)}}function iS(n,t){if(n&1&&(s(0,"span",26),l(1),c()),n&2){let e=m();f(),w(e.nbAcceptes)}}function aS(n,t){if(n&1&&(s(0,"span",26),l(1),c()),n&2){let e=m();f(),w(e.nbHistorique)}}function sS(n,t){n&1&&(s(0,"tr")(1,"td",27)(2,"div",28)(3,"span",6),l(4,"info"),c(),s(5,"p"),l(6,"Aucun camion trouv\xE9 pour ce statut."),c()()()())}function cS(n,t){n&1&&(s(0,"span",48),l(1,"Nouveau"),c())}function lS(n,t){n&1&&(s(0,"span",49)(1,"span",50),l(2,"save_as"),c(),l(3," Enregistr\xE9 "),c())}function dS(n,t){n&1&&(s(0,"span",51)(1,"span",50),l(2,"hourglass_empty"),c(),l(3," En attente "),c())}function uS(n,t){n&1&&(s(0,"span",52)(1,"span",50),l(2,"check_circle"),c(),l(3," Valid\xE9 "),c())}function fS(n,t){n&1&&(s(0,"span",53)(1,"span",50),l(2,"cancel"),c(),l(3," Refoul\xE9 "),c())}function pS(n,t){n&1&&(s(0,"span",53)(1,"span",50),l(2,"cancel"),c(),l(3," Annul\xE9 "),c())}function gS(n,t){n&1&&(s(0,"span",51)(1,"span",50),l(2,"pending"),c(),l(3," En attente g\xE9rant "),c())}function mS(n,t){n&1&&(s(0,"span",54)(1,"span",50),l(2,"reply"),c(),l(3," Renvoy\xE9 "),c())}function hS(n,t){n&1&&(s(0,"span",55)(1,"span",50),l(2,"autorenew"),c(),l(3," R\xE9int\xE9gr\xE9 "),c())}function bS(n,t){n&1&&(s(0,"span",56)(1,"span",50),l(2,"assignment_turned_in"),c(),l(3," Accept\xE9 d\xE9f. "),c())}function _S(n,t){n&1&&(s(0,"span",32),l(1," \u2014 "),c())}function vS(n,t){if(n&1){let e=V();ct(0),s(1,"button",57),_("click",function(){v(e);let o=m().$implicit,i=m();return y(i.openEditModal(o))}),s(2,"span",6),l(3,"edit"),c()(),s(4,"button",58),_("click",function(){v(e);let o=m().$implicit,i=m();return y(i.openAnalysisModal(o))}),s(5,"span",6),l(6,"science"),c()(),lt()}}function yS(n,t){if(n&1){let e=V();s(0,"button",59),_("click",function(){v(e);let o=m().$implicit,i=m();return y(i.openProductsModal(o))}),s(1,"span",6),l(2,"inventory_2"),c()()}}function CS(n,t){if(n&1){let e=V();s(0,"button",60),_("click",function(){v(e);let o=m().$implicit,i=m();return y(i.markAsRenvoye(o))}),s(1,"span",6),l(2,"send"),c()()}}function xS(n,t){if(n&1){let e=V();s(0,"button",61),_("click",function(){v(e);let o=m().$implicit,i=m();return y(i.openDetails(o))}),s(1,"span",6),l(2,"visibility"),c()()}}function MS(n,t){if(n&1){let e=V();s(0,"tr",29)(1,"td")(2,"div",30),l(3),E(4,cS,2,0,"span",31),c()(),s(5,"td",32),l(6),c(),s(7,"td",32),l(8),c(),s(9,"td"),E(10,lS,4,0,"span",33)(11,dS,4,0,"span",34)(12,uS,4,0,"span",35)(13,fS,4,0,"span",36)(14,pS,4,0,"span",36),c(),s(15,"td"),ct(16,37),E(17,gS,4,0,"span",38)(18,mS,4,0,"span",39)(19,hS,4,0,"span",40)(20,bS,4,0,"span",41)(21,_S,2,0,"span",42),lt(),c(),s(22,"td")(23,"div",43),E(24,vS,7,0,"ng-container",23)(25,yS,3,0,"button",44)(26,CS,3,0,"button",45),s(27,"button",46),_("click",function(){let o=v(e).$implicit,i=m();return y(i.openHistoryModal(o))}),s(28,"span",6),l(29,"history"),c()(),E(30,xS,3,0,"button",47),c()()()}if(n&2){let e=t.$implicit,r=m();f(3),k(" ",e.immatriculation," "),f(),b("ngIf",e.unreadForGerant),f(2),w(e.transporteur),f(2),w(r.getHourForCurrentTab(e)),f(2),b("ngIf",e.statut==="Enregistr\xE9"),f(),b("ngIf",e.statut==="En attente"),f(),b("ngIf",e.statut==="Valid\xE9"),f(),b("ngIf",e.statut==="Refoul\xE9"||e.statut==="Annul\xE9"&&(e.advancedStatus==="REFUSE_EN_ATTENTE_GERANT"||e.advancedStatus==="REFUSE_RENVOYE")),f(),b("ngIf",e.statut==="Annul\xE9"&&!e.advancedStatus),f(2),b("ngSwitch",e.advancedStatus),f(),b("ngSwitchCase","REFUSE_EN_ATTENTE_GERANT"),f(),b("ngSwitchCase","REFUSE_RENVOYE"),f(),b("ngSwitchCase","REFUSE_REINTEGRE"),f(),b("ngSwitchCase","ACCEPTE_FINAL"),f(4),b("ngIf",e.statut==="Enregistr\xE9"),f(),b("ngIf",e.statut==="Valid\xE9"&&e.advancedStatus!=="ACCEPTE_FINAL"),f(),b("ngIf",(e.statut==="Refoul\xE9"||e.statut==="Annul\xE9")&&e.advancedStatus==="REFUSE_EN_ATTENTE_GERANT"),f(4),b("ngIf",e.advancedStatus==="ACCEPTE_FINAL"&&e.products)}}function wS(n,t){n&1&&(s(0,"div",86),l(1," Tous les champs sont requis. "),c())}function ES(n,t){if(n&1&&(s(0,"div",86),l(1),c()),n&2){let e=m(2);f(),k(" ",e.errorMessage," ")}}function OS(n,t){if(n&1&&(s(0,"div",87)(1,"span",6),l(2,"check_circle"),c(),s(3,"div")(4,"p",88),l(5,"Camion enregistr\xE9"),c(),s(6,"p",89),l(7),c()()()),n&2){let e=m(2);f(7),k("Statut : ",e.lastSavedStatutLabel)}}function PS(n,t){if(n&1){let e=V();s(0,"div",62)(1,"div",63),_("click",function(){v(e);let o=m();return y(o.closeModal())}),c(),s(2,"div",64)(3,"div",65)(4,"h2",66),l(5,"Enregistrer un nouveau camion"),c(),s(6,"button",67),_("click",function(){v(e);let o=m();return y(o.closeModal())}),s(7,"span",6),l(8,"close"),c()()(),s(9,"div",68)(10,"div",69)(11,"label",70),l(12,"Entrep\xF4t"),c(),s(13,"select",71)(14,"option",72),l(15),c()()(),s(16,"div",69)(17,"label",73),l(18," Immatriculation du camion "),s(19,"span",74),l(20,"*"),c()(),s(21,"input",75),A("ngModelChange",function(o){v(e);let i=m();return N(i.newTruck.immatriculation,o)||(i.newTruck.immatriculation=o),y(o)}),c()(),s(22,"div",69)(23,"label",76),l(24," Transporteur / Chauffeur "),s(25,"span",74),l(26,"*"),c()(),s(27,"input",77),A("ngModelChange",function(o){v(e);let i=m();return N(i.newTruck.transporteur,o)||(i.newTruck.transporteur=o),y(o)}),c()(),s(28,"div",69)(29,"label",78),l(30," N\xB0 fiche de transfert "),c(),s(31,"input",79),A("ngModelChange",function(o){v(e);let i=m();return N(i.newTruck.transfert,o)||(i.newTruck.transfert=o),y(o)}),c()(),s(32,"div",69)(33,"label",80),l(34," Nom coop\xE9rative "),s(35,"span",74),l(36,"*"),c()(),s(37,"input",81),A("ngModelChange",function(o){v(e);let i=m();return N(i.newTruck.cooperative,o)||(i.newTruck.cooperative=o),y(o)}),c()(),E(38,wS,2,0,"div",82)(39,ES,2,1,"div",82),c(),s(40,"div",83),E(41,OS,8,1,"div",84),s(42,"button",85),_("click",function(){v(e);let o=m();return y(o.saveTruck())}),l(43," Enregistrer l\u2019arriv\xE9e "),c()()()()}if(n&2){let e=m();f(15),w(e.entrepot.nom),f(6),T("ngModel",e.newTruck.immatriculation),f(6),T("ngModel",e.newTruck.transporteur),f(4),T("ngModel",e.newTruck.transfert),f(6),T("ngModel",e.newTruck.cooperative),f(),b("ngIf",e.isNewTruckInvalid),f(),b("ngIf",e.errorMessage),f(2),b("ngIf",e.showSuccessBanner)}}function kS(n,t){n&1&&(s(0,"div",86),l(1," Tous les champs sont requis. "),c())}function DS(n,t){if(n&1){let e=V();s(0,"div",62)(1,"div",63),_("click",function(){v(e);let o=m();return y(o.closeEditModal())}),c(),s(2,"div",64)(3,"div",65)(4,"h2",66),l(5,"Modifier le camion"),c(),s(6,"button",90),_("click",function(){v(e);let o=m();return y(o.closeEditModal())}),s(7,"span",91),l(8,"close"),c()()(),s(9,"div",68)(10,"div",69)(11,"label",92),l(12,"Immatriculation "),s(13,"span",74),l(14,"*"),c()(),s(15,"input",93),A("ngModelChange",function(o){v(e);let i=m();return N(i.editTruckData.immatriculation,o)||(i.editTruckData.immatriculation=o),y(o)}),c()(),s(16,"div",69)(17,"label",92),l(18,"Transporteur "),s(19,"span",74),l(20,"*"),c()(),s(21,"input",93),A("ngModelChange",function(o){v(e);let i=m();return N(i.editTruckData.transporteur,o)||(i.editTruckData.transporteur=o),y(o)}),c()(),s(22,"div",69)(23,"label",92),l(24,"Transfert "),s(25,"span",74),l(26,"*"),c()(),s(27,"input",93),A("ngModelChange",function(o){v(e);let i=m();return N(i.editTruckData.transfert,o)||(i.editTruckData.transfert=o),y(o)}),c()(),s(28,"div",69)(29,"label",92),l(30,"Coop\xE9rative "),s(31,"span",74),l(32,"*"),c()(),s(33,"input",93),A("ngModelChange",function(o){v(e);let i=m();return N(i.editTruckData.cooperative,o)||(i.editTruckData.cooperative=o),y(o)}),c()(),E(34,kS,2,0,"div",82),c(),s(35,"div",94)(36,"button",95),_("click",function(){v(e);let o=m();return y(o.submitEditTruck())}),l(37,"Mettre \xE0 jour"),c()()()()}if(n&2){let e=m();f(15),T("ngModel",e.editTruckData.immatriculation),f(6),T("ngModel",e.editTruckData.transporteur),f(6),T("ngModel",e.editTruckData.transfert),f(6),T("ngModel",e.editTruckData.cooperative),f(),b("ngIf",e.isEditInvalid)}}function SS(n,t){n&1&&(s(0,"div",101),l(1," Tous les champs num\xE9riques sont requis. "),c())}function IS(n,t){if(n&1){let e=V();s(0,"div",62)(1,"div",63),_("click",function(){v(e);let o=m();return y(o.closeAnalysisModal())}),c(),s(2,"div",64)(3,"div",65)(4,"h2",66),l(5,"R\xE9sultats d'analyse"),c(),s(6,"button",90),_("click",function(){v(e);let o=m();return y(o.closeAnalysisModal())}),s(7,"span",91),l(8,"close"),c()()(),s(9,"div",68)(10,"div",96),l(11," Veuillez saisir les r\xE9sultats de l'analyse (KOR, TH) pour envoyer le camion en validation Admin. "),c(),s(12,"div",69)(13,"label",92),l(14,"KOR "),s(15,"span",74),l(16,"*"),c()(),s(17,"input",97),A("ngModelChange",function(o){v(e);let i=m();return N(i.analysisData.kor,o)||(i.analysisData.kor=o),y(o)}),c()(),s(18,"div",69)(19,"label",92),l(20,"TH "),s(21,"span",74),l(22,"*"),c()(),s(23,"input",98),A("ngModelChange",function(o){v(e);let i=m();return N(i.analysisData.th,o)||(i.analysisData.th=o),y(o)}),c()(),E(24,SS,2,0,"div",99),c(),s(25,"div",94)(26,"button",100),_("click",function(){v(e);let o=m();return y(o.submitAnalysis())}),l(27),c()()()()}if(n&2){let e=m();f(17),T("ngModel",e.analysisData.kor),f(6),T("ngModel",e.analysisData.th),f(),b("ngIf",e.isAnalysisInvalid),f(2),b("disabled",e.loadingAnalysis),f(),k(" ",e.loadingAnalysis?"Envoi...":"Soumettre \xE0 l'Admin"," ")}}function TS(n,t){n&1&&(s(0,"div",86),l(1," Veuillez remplir correctement tous les champs obligatoires (valeurs positives pour les nombres). "),c())}function AS(n,t){if(n&1){let e=V();s(0,"div",62)(1,"div",63),_("click",function(){v(e);let o=m();return y(o.closeProductsModal())}),c(),s(2,"div",64)(3,"div",65)(4,"h2",66),l(5,"Renseigner d\xE9tails produits"),c(),s(6,"button",90),_("click",function(){v(e);let o=m();return y(o.closeProductsModal())}),s(7,"span",91),l(8,"close"),c()()(),s(9,"div",68)(10,"div",69)(11,"label",92),l(12,"Num\xE9ro du camion"),c(),H(13,"input",102),c(),s(14,"div",69)(15,"label",92),l(16,"Num\xE9ro de la fiche de transfert "),s(17,"span",74),l(18,"*"),c()(),s(19,"input",103),A("ngModelChange",function(o){v(e);let i=m();return N(i.productsData.numeroFicheTransfert,o)||(i.productsData.numeroFicheTransfert=o),y(o)}),c()(),s(20,"div",69)(21,"label",92),l(22,"Num\xE9ro de lot "),s(23,"span",74),l(24,"*"),c()(),s(25,"input",104),A("ngModelChange",function(o){v(e);let i=m();return N(i.productsData.numeroLot,o)||(i.productsData.numeroLot=o),y(o)}),c()(),s(26,"div",69)(27,"label",92),l(28,"Nombre de sacs d\xE9charg\xE9s "),s(29,"span",74),l(30,"*"),c()(),s(31,"input",105),A("ngModelChange",function(o){v(e);let i=m();return N(i.productsData.nombreSacsDecharges,o)||(i.productsData.nombreSacsDecharges=o),y(o)}),c()(),s(32,"div",69)(33,"label",92),l(34,"Poids brut "),s(35,"span",74),l(36,"*"),c()(),s(37,"input",106),A("ngModelChange",function(o){v(e);let i=m();return N(i.productsData.poidsBrut,o)||(i.productsData.poidsBrut=o),y(o)}),c()(),s(38,"div",69)(39,"label",92),l(40,"Poids net "),s(41,"span",74),l(42,"*"),c()(),s(43,"input",107),A("ngModelChange",function(o){v(e);let i=m();return N(i.productsData.poidsNet,o)||(i.productsData.poidsNet=o),y(o)}),c()(),s(44,"div",69)(45,"label",92),l(46,"KOR "),s(47,"span",74),l(48,"*"),c()(),s(49,"input",108),A("ngModelChange",function(o){v(e);let i=m();return N(i.productsData.kor,o)||(i.productsData.kor=o),y(o)}),c()(),E(50,TS,2,0,"div",82),c(),s(51,"div",94)(52,"button",95),_("click",function(){v(e);let o=m();return y(o.submitProducts())}),l(53,"Finaliser l'entr\xE9e"),c()()()()}if(n&2){let e=m();f(13),b("value",e.productsData.numeroCamion),f(6),T("ngModel",e.productsData.numeroFicheTransfert),f(6),T("ngModel",e.productsData.numeroLot),f(6),T("ngModel",e.productsData.nombreSacsDecharges),f(6),T("ngModel",e.productsData.poidsBrut),f(6),T("ngModel",e.productsData.poidsNet),f(6),T("ngModel",e.productsData.kor),f(),b("ngIf",e.isProductsInvalid)}}function NS(n,t){n&1&&(s(0,"div",115),l(1," Aucun historique disponible. "),c())}function RS(n,t){if(n&1&&(s(0,"div",116)(1,"div",117)(2,"div",118),l(3),c(),s(4,"div",119),l(5),oe(6,"titlecase"),s(7,"span",120),l(8),oe(9,"date"),c()()()()),n&2){let e=t.$implicit;f(3),k(" ",e.event||e.action," "),f(2),k(" ",ca(6,3,e.by)," "),f(3),k(" \u2022 ",ce(9,5,e.date,"dd/MM/yyyy HH:mm"))}}function FS(n,t){if(n&1){let e=V();s(0,"div",62)(1,"div",63),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),c(),s(2,"div",64)(3,"div",65)(4,"h2",66),l(5,"Historique"),c(),s(6,"button",90),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),s(7,"span",91),l(8,"close"),c()()(),s(9,"div",109),E(10,NS,2,0,"div",110),s(11,"div",111),E(12,RS,10,8,"div",112),c()(),s(13,"div",113)(14,"button",114),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),l(15,"Fermer"),c()()()()}if(n&2){let e=m();f(10),b("ngIf",!(!(e.selectedTruckForHistory==null||e.selectedTruckForHistory.history==null)&&e.selectedTruckForHistory.history.length)),f(2),b("ngForOf",e.selectedTruckForHistory==null?null:e.selectedTruckForHistory.history)}}function LS(n,t){if(n&1&&(s(0,"div",128)(1,"span",129),l(2,"Commentaire"),c(),s(3,"div"),l(4),c()()),n&2){let e=m(2);f(4),w(e.selectedTruckForDetails==null||e.selectedTruckForDetails.products==null?null:e.selectedTruckForDetails.products.comment)}}function VS(n,t){if(n&1){let e=V();s(0,"div",62)(1,"div",63),_("click",function(){v(e);let o=m();return y(o.closeDetailsModal())}),c(),s(2,"div",64)(3,"div",65)(4,"h2",66),l(5,"D\xE9tails Entr\xE9e"),c(),s(6,"button",90),_("click",function(){v(e);let o=m();return y(o.closeDetailsModal())}),s(7,"span",91),l(8,"close"),c()()(),s(9,"div",68)(10,"div",121)(11,"span",122),l(12,"Camion"),c(),s(13,"span",123),l(14),c()(),s(15,"div",121)(16,"span",122),l(17,"Fiche de transfert"),c(),s(18,"span",123),l(19),c()(),s(20,"div",121)(21,"span",122),l(22,"Num\xE9ro de lot"),c(),s(23,"span",123),l(24),c()(),s(25,"div",121)(26,"span",122),l(27,"Sacs d\xE9charg\xE9s"),c(),s(28,"span",123),l(29),c()(),s(30,"div",121)(31,"span",122),l(32,"Poids Brut"),c(),s(33,"span",123),l(34),c()(),s(35,"div",121)(36,"span",122),l(37,"Poids Net"),c(),s(38,"span",123),l(39),c()(),s(40,"div",121)(41,"span",122),l(42,"KOR"),c(),s(43,"span",123),l(44),c()(),E(45,LS,5,1,"div",124),c(),s(46,"div",94)(47,"button",125),_("click",function(){v(e);let o=m();return y(o.printSelectedTruck())}),s(48,"span",126),l(49,"print"),c(),l(50," Imprimer "),c(),s(51,"button",127),_("click",function(){v(e);let o=m();return y(o.closeDetailsModal())}),l(52,"Fermer"),c()()()()}if(n&2){let e=m();f(14),w(e.selectedTruckForDetails==null?null:e.selectedTruckForDetails.immatriculation),f(5),w(e.selectedTruckForDetails==null?null:e.selectedTruckForDetails.transfert),f(5),w((e.selectedTruckForDetails==null||e.selectedTruckForDetails.products==null?null:e.selectedTruckForDetails.products.numeroLot)||"\u2014"),f(5),w((e.selectedTruckForDetails==null||e.selectedTruckForDetails.products==null?null:e.selectedTruckForDetails.products.nombreSacsDecharges)||"\u2014"),f(5),k("",e.selectedTruckForDetails==null||e.selectedTruckForDetails.products==null?null:e.selectedTruckForDetails.products.poidsBrut," Kg"),f(5),k("",e.selectedTruckForDetails==null||e.selectedTruckForDetails.products==null?null:e.selectedTruckForDetails.products.poidsNet," Kg"),f(5),w(e.selectedTruckForDetails==null?null:e.selectedTruckForDetails.kor),f(),b("ngIf",e.selectedTruckForDetails==null||e.selectedTruckForDetails.products==null?null:e.selectedTruckForDetails.products.comment)}}function jS(n,t){if(n&1){let e=V();s(0,"div",62)(1,"div",63),_("click",function(){v(e);let o=m();return y(o.closeRenvoyeConfirmModal())}),c(),s(2,"div",130)(3,"div",65)(4,"h2",66),l(5,"Confirmer le renvoi"),c(),s(6,"button",90),_("click",function(){v(e);let o=m();return y(o.closeRenvoyeConfirmModal())}),s(7,"span",91),l(8,"close"),c()()(),s(9,"div",68)(10,"div",131)(11,"span",132),l(12,"warning"),c(),s(13,"p",133),l(14," Confirmez-vous que le camion "),s(15,"strong"),l(16),c(),l(17," a bien quitt\xE9 l'entrep\xF4t ? "),c(),s(18,"p",134),l(19,' Cette action marquera le camion comme "Renvoy\xE9". '),c()()(),s(20,"div",135)(21,"button",136),_("click",function(){v(e);let o=m();return y(o.closeRenvoyeConfirmModal())}),l(22," Annuler "),c(),s(23,"button",137),_("click",function(){v(e);let o=m();return y(o.confirmRenvoye())}),l(24," Confirmer le d\xE9part "),c()()()()}if(n&2){let e=m();f(16),w(e.truckToRenvoyer==null?null:e.truckToRenvoyer.immatriculation)}}var ud=class n{entrepot={id:0,nom:"",lieu:""};trucks=[];currentTab="enregistres";nbEnregistres=0;nbAttente=0;nbValides=0;nbRefoules=0;nbAcceptes=0;nbHistorique=0;showEditModal=!1;showAnalysisModal=!1;showProductsModal=!1;showHistoryModal=!1;showModal=!1;showSuccessBanner=!1;showDetailsModal=!1;showRenvoyeConfirmModal=!1;truckToRenvoyer;isNewTruckInvalid=!1;isEditInvalid=!1;isProductsInvalid=!1;isAnalysisInvalid=!1;analysisError="";selectedTruckForHistory=null;openAnalysisModal(t){t.unreadForGerant&&(t.unreadForGerant=!1,this.truckService.updateTruck(t.id,{unreadForGerant:!1}).subscribe()),this.selectedTruckForAnalysis=t,this.analysisData={kor:t.kor??"",th:t.th??"",impurete:t.impurete??"",grainage:t.grainage??"",defaut:t.defaut??""},this.isAnalysisInvalid=!1,this.analysisError="",this.showAnalysisModal=!0}submitAnalysis(){if(!this.selectedTruckForAnalysis)return;let t=String(this.analysisData.kor||"").trim(),e=String(this.analysisData.th||"").trim();if(this.isAnalysisInvalid=!1,this.analysisError="",!e||!t){this.isAnalysisInvalid=!0;return}this.loadingAnalysis=!0;let r=this.selectedTruckForAnalysis;r.kor=t,r.th=e,r.statut="En attente",r.impurete=this.analysisData.impurete,r.grainage=this.analysisData.grainage,r.defaut=this.analysisData.defaut,this.addHistory(r,"Analyses envoy\xE9es \xE0 l\u2019administrateur");let o={kor:r.kor,th:r.th,statut:"En attente",history:r.history,impurete:r.impurete,grainage:r.grainage,defaut:r.defaut};this.truckService.updateTruck(r.id,o).subscribe({next:()=>{this.loadingAnalysis=!1,this.showAnalysisModal=!1,this.refreshView(),this.toastService.success("Analyses transmises avec succ\xE8s. En attente de validation.")},error:()=>{this.loadingAnalysis=!1,this.toastService.error("Erreur envoi analyses")}})}lastSavedStatutLabel="";newTruck={immatriculation:"",transporteur:"",transfert:"",cooperative:""};selectedTruckForEdit=null;selectedTruckForAnalysis=null;selectedTruckForProducts=null;selectedTruckForDetails=null;editTruckData={immatriculation:"",transporteur:"",transfert:"",cooperative:""};analysisData={kor:"",th:"",impurete:"",grainage:"",defaut:""};productForm={numeroCamion:"",numeroFicheTransfert:"",numeroLot:"",nombreSacsDecharges:"",poidsBrut:"",poidsNet:"",kor:""};productsData={numeroCamion:"",numeroFicheTransfert:"",numeroLot:"",nombreSacsDecharges:"",poidsBrut:"",poidsNet:"",kor:"",type:"Cacao",comment:""};loadingAnalysis=!1;errorMessage="";route=x(Ke);router=x(fe);truckService=x(ft);warehouseService=x(Me);toastService=x(pt);constructor(){}filterSearch="";period="today";selectedStatus="all";filterDate="";showStatusMenu=!1;filteredTrucks=[];get periodLabel(){switch(this.period){case"today":return"Aujourd'hui";case"week":return"Cette semaine";case"month":return"Ce mois";case"year":return"Cette ann\xE9e";case"specific":return"Date sp\xE9cifique";default:return"Toutes p\xE9riodes"}}get statusLabel(){return this.selectedStatus==="all"?"Tous statuts":this.selectedStatus}toggleStatusMenu(){this.showStatusMenu=!this.showStatusMenu}onPeriodChange(){this.period!=="specific"&&(this.filterDate=""),this.applyFilters()}onDateChange(){this.filterDate?this.period="specific":this.period="today",this.applyFilters()}setStatus(t){this.selectedStatus=t,this.showStatusMenu=!1,this.applyFilters()}getBaseListForTab(){switch(this.currentTab){case"enregistres":return this.trucks.filter(t=>t.statut==="Enregistr\xE9");case"attente":return this.trucks.filter(t=>t.statut==="En attente");case"valides":return this.trucks.filter(t=>t.statut==="Valid\xE9"&&t.advancedStatus!=="ACCEPTE_FINAL");case"refoules":return this.trucks.filter(t=>t.statut==="Refoul\xE9"||t.statut==="Annul\xE9"&&(t.advancedStatus==="REFUSE_EN_ATTENTE_GERANT"||t.advancedStatus==="REFUSE_RENVOYE"));case"acceptes":return this.trucks.filter(t=>t.advancedStatus==="ACCEPTE_FINAL");case"historique":return this.trucks.filter(t=>t.history&&t.history.length>0);default:return[]}}applyFilters(){let t=this.filterSearch.trim().toLowerCase(),e=this.trucks.filter(r=>{if(t&&!((r.immatriculation??"")+" "+(r.transporteur??"")+" "+(r.transfert??"")+" "+(r.cooperative??"")).toLowerCase().includes(t)||this.selectedStatus!=="all"&&r.statut!==this.selectedStatus)return!1;let o=this.getDateForPeriod(r);return this.isInSelectedPeriod(o)});switch(this.nbEnregistres=0,this.nbAttente=0,this.nbValides=0,this.nbRefoules=0,this.nbAcceptes=0,this.nbHistorique=0,e.forEach(r=>{r.statut==="Enregistr\xE9"&&this.nbEnregistres++,r.statut==="En attente"&&this.nbAttente++,r.statut==="Valid\xE9"&&r.advancedStatus!=="ACCEPTE_FINAL"&&this.nbValides++,(r.statut==="Refoul\xE9"||r.statut==="Annul\xE9"&&(r.advancedStatus==="REFUSE_EN_ATTENTE_GERANT"||r.advancedStatus==="REFUSE_RENVOYE"))&&this.nbRefoules++,r.advancedStatus==="ACCEPTE_FINAL"&&this.nbAcceptes++,r.history&&r.history.length>0&&this.nbHistorique++}),this.currentTab){case"enregistres":this.filteredTrucks=e.filter(r=>r.statut==="Enregistr\xE9");break;case"attente":this.filteredTrucks=e.filter(r=>r.statut==="En attente");break;case"valides":this.filteredTrucks=e.filter(r=>r.statut==="Valid\xE9"&&r.advancedStatus!=="ACCEPTE_FINAL");break;case"refoules":this.filteredTrucks=e.filter(r=>r.statut==="Refoul\xE9"||r.statut==="Annul\xE9"&&(r.advancedStatus==="REFUSE_EN_ATTENTE_GERANT"||r.advancedStatus==="REFUSE_RENVOYE"));break;case"acceptes":this.filteredTrucks=e.filter(r=>r.advancedStatus==="ACCEPTE_FINAL");break;case"historique":this.filteredTrucks=e.filter(r=>r.history&&r.history.length>0);break;default:this.filteredTrucks=[]}}ngOnInit(){this.loadEntrepot()}refreshView(){this.loadTrucks()}loadTrucksFromStorage(){let t=localStorage.getItem("trucks"),e=t?JSON.parse(t):[];this.trucks=e.filter(r=>Number(r.entrepotId)===Number(this.entrepot.id)).map(r=>X(P({},r),{showMenu:!1})),this.trucks.forEach(r=>{r.history||(r.history=[]),r.kor||(r.kor=""),r.th||(r.th=""),r.showMenu===void 0&&(r.showMenu=!1)}),this.applyFilters()}saveTrucksToStorage(){let t=localStorage.getItem("trucks"),e=t?JSON.parse(t):[];e=e.filter(o=>Number(o.entrepotId)!==Number(this.entrepot.id));let r=this.trucks.map(o=>{let i=P({},o);return delete i.showMenu,i});e.push(...r),localStorage.setItem("trucks",JSON.stringify(e))}loadEntrepot(){let t=Number(this.route.snapshot.paramMap.get("id"));this.warehouseService.getWarehouse(t).subscribe({next:e=>{this.entrepot={id:e.id,nom:e.name,lieu:e.location};try{localStorage.setItem("lastVisitedEntrepot",String(this.entrepot.id))}catch{}this.loadTrucks()},error:e=>{console.error("Erreur chargement entrep\xF4t",e);try{let r=localStorage.getItem("warehouses"),o=r?JSON.parse(r):[],i=o.find(a=>a.id===t)??o[0];i&&(this.entrepot={id:i.id,nom:i.name,lieu:i.location})}catch{}this.loadTrucksFromStorage()}})}loadTrucks(){this.truckService.getTrucks(this.entrepot.id).subscribe({next:t=>{let e=(t||[]).filter(r=>Number(r.entrepotId)===Number(this.entrepot.id));this.trucks=e.map(r=>X(P({},r),{showMenu:!1})),this.applyFilters();try{this.saveTrucksToStorage()}catch(r){console.warn("Could not save trucks to localStorage",r)}console.log("[user-entrepot] loadTrucks - after applyFilters, filteredTrucks.length=",this.filteredTrucks.length)},error:t=>{console.error("Erreur loading trucks, falling back to localStorage",t),this.loadTrucksFromStorage()}})}addHistory(t,e){t.history||(t.history=[]),t.history.push({event:e,by:"gerant",date:new Date().toISOString()})}setTab(t){this.currentTab=t,this.applyFilters(),this.loadTrucks()}trackById(t,e){return e.id}getList(){let t=this.trucksByPeriod;switch(this.currentTab){case"enregistres":return t.filter(e=>e.statut==="Enregistr\xE9");case"attente":return t.filter(e=>e.statut==="En attente");case"valides":return t.filter(e=>e.statut==="Valid\xE9"&&e.advancedStatus!=="ACCEPTE_FINAL");case"refoules":return t.filter(e=>e.statut==="Refoul\xE9"||e.statut==="Annul\xE9"&&(e.advancedStatus==="REFUSE_EN_ATTENTE_GERANT"||e.advancedStatus==="REFUSE_RENVOYE"));case"acceptes":return t.filter(e=>e.advancedStatus==="ACCEPTE_FINAL");case"historique":return t.filter(e=>e.history&&e.history.length>0);default:return[]}}get trucksByPeriod(){return this.trucks.filter(t=>{let e=this.getDateForPeriod(t);return this.isInSelectedPeriod(e)})}getDateForPeriod(t){try{if(t.statut==="Annul\xE9"){let e=t.advancedStatus;return e==="REFUSE_RENVOYE"?t.renvoyeAt||this.findHistoryDate(t,"Camion renvoy\xE9 par le g\xE9rant")||t.refusedAt||this.findHistoryDate(t,"Refus administrateur")||t.createdAt||t.heureArrivee||"":e==="REFUSE_EN_ATTENTE_GERANT"?t.refusedAt||this.findHistoryDate(t,"Refus administrateur")||t.createdAt||t.heureArrivee||"":t.refusedAt||t.renvoyeAt||this.findHistoryDate(t,"Refus administrateur")||this.findHistoryDate(t,"Camion renvoy\xE9 par le g\xE9rant")||t.createdAt||t.heureArrivee||""}return t.advancedStatus==="ACCEPTE_FINAL"?t.finalAcceptedAt||this.findHistoryDate(t,"D\xE9tails produits renseign\xE9s \u2014 Camion accept\xE9")||t.createdAt||t.heureArrivee||"":t.advancedStatus==="REFUSE_REINTEGRE"?t.reintegratedAt||this.findHistoryDate(t,"R\xE9int\xE9gration administrateur")||t.createdAt||t.heureArrivee||"":t.statut==="Valid\xE9"?t.validatedAt||this.findHistoryDate(t,"Validation administrateur")||t.createdAt||t.heureArrivee||"":t.statut==="En attente"?this.findHistoryDate(t,"Analyses envoy\xE9es \xE0 l\u2019administrateur")||t.createdAt||t.heureArrivee||"":t.createdAt||t.heureArrivee||""}catch{return t.createdAt||t.heureArrivee||""}}isInSelectedPeriod(t){if(!t)return!1;let e=new Date(t),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=r.getDay()||7,a=new Date(o);a.setDate(a.getDate()-(i-1));let d=new Date(r.getFullYear(),r.getMonth(),1),u=new Date(r.getFullYear(),0,1);return this.period==="specific"?this.filterDate?e.toDateString()===new Date(this.filterDate).toDateString():!0:this.period==="today"?e.toDateString()===r.toDateString():this.period==="week"?e>=a:this.period==="month"?e>=d:this.period==="year"?e>=u:!0}formatHourFromIso(t){if(!t)return"\u2014";let e=new Date(t);return isNaN(e.getTime())?"\u2014":e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}findHistoryDate(t,e){let r=t.history||[];for(let o=r.length-1;o>=0;o--)if(r[o]?.event===e&&r[o]?.date)return r[o].date}getHourForCurrentTab(t){let e=t.createdAt||"";switch(this.currentTab){case"enregistres":{let r=this.findHistoryDate(t,"Camion enregistr\xE9")||t.createdAt||e;return this.formatHourFromIso(r)}case"attente":{let r=this.findHistoryDate(t,"Analyses envoy\xE9es \xE0 l\u2019administrateur")||t.createdAt||e;return this.formatHourFromIso(r)}case"valides":{if(t.advancedStatus==="REFUSE_REINTEGRE"){let o=t.reintegratedAt||this.findHistoryDate(t,"R\xE9int\xE9gration administrateur")||t.validatedAt||this.findHistoryDate(t,"Validation administrateur")||t.createdAt||e;return this.formatHourFromIso(o)}let r=t.validatedAt||this.findHistoryDate(t,"Validation administrateur")||t.createdAt||e;return this.formatHourFromIso(r)}case"refoules":{let r=t.refusedAt||this.findHistoryDate(t,"Refus administrateur")||t.createdAt||e;return this.formatHourFromIso(r)}case"acceptes":{let r=t.finalAcceptedAt||this.findHistoryDate(t,"D\xE9tails produits renseign\xE9s \u2014 Camion accept\xE9")||t.createdAt||e;return this.formatHourFromIso(r)}case"historique":{let r=t.history&&t.history.length>0?t.history[t.history.length-1]?.date:void 0;return this.formatHourFromIso(r||t.createdAt||e)}default:return this.formatHourFromIso(t.createdAt||e)}}openModal(){this.showSuccessBanner=!1,this.isNewTruckInvalid=!1,this.errorMessage="",this.newTruck={immatriculation:"",transporteur:"",transfert:"",cooperative:""},this.showModal=!0}closeModal(){this.showModal=!1}saveTruck(){if(this.isNewTruckInvalid=!1,!this.newTruck.immatriculation.trim()||!this.newTruck.transporteur.trim()||!this.newTruck.transfert.trim()||!this.newTruck.cooperative.trim()){this.isNewTruckInvalid=!0;return}if(!this.entrepot.id){this.toastService.error("Entrep\xF4t non charg\xE9, impossible de cr\xE9er le camion.");return}let t=this.newTruck.immatriculation.trim().toLowerCase(),e=this.newTruck.transfert.trim().toLowerCase(),r=new Date().toDateString();if(this.errorMessage="",this.trucks.find(u=>{let p=(u.immatriculation||"").trim().toLowerCase(),g=(u.transfert||"").trim().toLowerCase(),h=u.heureArrivee?new Date(u.heureArrivee):u.createdAt?new Date(u.createdAt):null;return!h||h.toDateString()!==r?!1:!!(t&&p===t||e&&g===e)})){this.errorMessage="Doublon : cette immatriculation ou cette fiche de transfert a d\xE9j\xE0 \xE9t\xE9 enregistr\xE9e aujourd'hui.";return}let i=new Date,d={entrepotId:this.entrepot.id,immatriculation:this.newTruck.immatriculation.trim(),transporteur:this.newTruck.transporteur.trim(),transfert:this.newTruck.transfert.trim(),cooperative:this.newTruck.cooperative.trim(),kor:"",th:"",statut:"Enregistr\xE9",heureArrivee:i.toISOString(),history:[{event:"Camion enregistr\xE9",by:"gerant",date:i.toISOString()}]};console.log("Sending payload:",d),this.truckService.createTruck(d).subscribe({next:u=>{let p=new Date().toISOString(),g={id:u&&u.id||Math.floor(Math.random()*-1e6),entrepotId:d.entrepotId,immatriculation:d.immatriculation||"",transporteur:d.transporteur||"",transfert:d.transfert||"",cooperative:d.cooperative||"",kor:d.kor||"",th:d.th||"",statut:d.statut||"Enregistr\xE9",heureArrivee:d.heureArrivee||p,history:d.history||[],createdAt:p,showMenu:!1};this.trucks=[g,...this.trucks],this.applyFilters();try{this.saveTrucksToStorage()}catch(h){console.warn("Could not save created truck to localStorage",h)}this.lastSavedStatutLabel="Enregistr\xE9",this.showSuccessBanner=!0,setTimeout(()=>{this.showModal=!1,this.showSuccessBanner=!1},1200)},error:u=>{console.error("API createTruck failed, saving locally",u);let p=new Date().toISOString(),g={id:Math.floor(Math.random()*-1e6),entrepotId:d.entrepotId,immatriculation:d.immatriculation||"",transporteur:d.transporteur||"",transfert:d.transfert||"",cooperative:d.cooperative||"",kor:d.kor||"",th:d.th||"",statut:d.statut||"Enregistr\xE9",heureArrivee:d.heureArrivee||p,history:d.history||[],createdAt:p,showMenu:!1};this.trucks=[g,...this.trucks],this.applyFilters();try{this.saveTrucksToStorage(),this.toastService.warning("Camion enregistr\xE9 localement (mode hors-ligne)")}catch(h){console.error("Failed to save truck locally",h),this.toastService.error(u.error?.message||"Erreur cr\xE9ation camion")}}})}openEditModal(t){t.unreadForGerant&&(t.unreadForGerant=!1,this.truckService.updateTruck(t.id,{unreadForGerant:!1}).subscribe()),this.selectedTruckForEdit=t,this.editTruckData={immatriculation:t.immatriculation,transporteur:t.transporteur,transfert:t.transfert||"",cooperative:t.cooperative||""},this.isEditInvalid=!1,this.showEditModal=!0}saveEdit(){if(!this.selectedTruckForEdit)return;if(this.isEditInvalid=!1,!this.editTruckData.immatriculation.trim()||!this.editTruckData.transporteur.trim()||!this.editTruckData.transfert.trim()||!this.editTruckData.cooperative.trim()){this.isEditInvalid=!0;return}let t=this.selectedTruckForEdit;t.immatriculation=this.editTruckData.immatriculation.trim(),t.transporteur=this.editTruckData.transporteur.trim(),t.transfert=this.editTruckData.transfert.trim(),t.cooperative=this.editTruckData.cooperative.trim(),this.addHistory(t,"Modification des informations");let e={immatriculation:t.immatriculation,transporteur:t.transporteur,transfert:t.transfert,cooperative:t.cooperative,history:t.history};this.truckService.updateTruck(t.id,e).subscribe({next:()=>{this.showEditModal=!1,this.refreshView(),this.toastService.success("Modifications enregistr\xE9es avec succ\xE8s.")},error:()=>this.toastService.error("Erreur modification")})}openProductsModal(t){t.unreadForGerant&&(t.unreadForGerant=!1,this.truckService.updateTruck(t.id,{unreadForGerant:!1}).subscribe()),this.selectedTruckForProducts=t,this.productsData={numeroCamion:t.immatriculation||"",numeroFicheTransfert:t.transfert||"",numeroLot:t.products?.numeroLot||"",nombreSacsDecharges:t.products?.nombreSacsDecharges||"",poidsBrut:t.products?.poidsBrut||"",poidsNet:t.products?.poidsNet||"",kor:t.kor||"",type:t.products?.type||"Cacao",comment:t.products?.comment||""},this.isProductsInvalid=!1,this.showProductsModal=!0}markAsRead(t){t.unreadForGerant&&(t.unreadForGerant=!1,this.truckService.updateTruck(t.id,{unreadForGerant:!1}).subscribe())}submitProducts(){if(!this.selectedTruckForProducts)return;if(this.isProductsInvalid=!1,!this.productsData.numeroFicheTransfert.toString().trim()||!this.productsData.numeroLot.toString().trim()||!this.productsData.type.toString().trim()||!this.productsData.nombreSacsDecharges||Number(this.productsData.nombreSacsDecharges)<=0||!this.productsData.poidsBrut||Number(this.productsData.poidsBrut)<=0||!this.productsData.poidsNet||Number(this.productsData.poidsNet)<=0||!this.productsData.kor||Number(this.productsData.kor)<=0){this.isProductsInvalid=!0;return}let t=this.selectedTruckForProducts,e={poidsBrut:String(this.productsData.poidsBrut),poidsNet:String(this.productsData.poidsNet),nombreSacsDecharges:String(this.productsData.nombreSacsDecharges),numeroLot:String(this.productsData.numeroLot),type:this.productsData.type,comment:this.productsData.comment};t.products=e,t.transfert=this.productsData.numeroFicheTransfert,t.kor=String(this.productsData.kor),t.advancedStatus="ACCEPTE_FINAL",t.finalAcceptedAt=new Date().toISOString(),t.unreadForAdmin=!0,this.addHistory(t,"D\xE9tails produits renseign\xE9s \u2014 Camion accept\xE9");let r={products:t.products,transfert:t.transfert,kor:t.kor,advancedStatus:"ACCEPTE_FINAL",finalAcceptedAt:t.finalAcceptedAt,unreadForAdmin:!0,history:t.history};this.truckService.updateTruck(t.id,r).subscribe({next:()=>{this.showProductsModal=!1,this.refreshView(),this.toastService.success("Produits enregistr\xE9s. Camion accept\xE9 d\xE9finitivement.")},error:()=>this.toastService.error("Erreur sauvegarde produits")})}markAsRenvoye(t){this.truckToRenvoyer=t,this.showRenvoyeConfirmModal=!0}closeRenvoyeConfirmModal(){this.showRenvoyeConfirmModal=!1,this.truckToRenvoyer=void 0}confirmRenvoye(){if(!this.truckToRenvoyer)return;let t=this.truckToRenvoyer;t.statut="Annul\xE9",t.advancedStatus="REFUSE_RENVOYE",t.renvoyeAt=new Date().toISOString(),t.unreadForAdmin=!0,this.addHistory(t,"Camion renvoy\xE9 par le g\xE9rant");let e={statut:"Annul\xE9",advancedStatus:"REFUSE_RENVOYE",renvoyeAt:t.renvoyeAt,unreadForAdmin:!0,history:t.history};this.truckService.updateTruck(t.id,e).subscribe({next:()=>{this.closeRenvoyeConfirmModal(),this.refreshView(),this.toastService.success("Camion marqu\xE9 comme renvoy\xE9.")},error:()=>this.toastService.error("Erreur renvoi")})}openHistoryModal(t){this.selectedTruckForHistory=t,this.showHistoryModal=!0}openDetails(t){this.openDetailsModal(t)}openDetailsModal(t){this.selectedTruckForDetails=t,this.showDetailsModal=!0}printSelectedTruck(){if(!this.selectedTruckForDetails)return;let t=this.selectedTruckForDetails,e=`
    <html>
      <head>
        <title>Fiche camion</title>
        <style>
          body { font-family: Arial; padding: 24px; }
          h2 { margin-bottom: 16px; }
          .row { margin-bottom: 8px; }
          .label { font-weight: bold; }
        </style>
      </head>
      <body>
        <h2>Fiche camion accept\xE9e</h2>
        <div class="row"><span class="label">Camion :</span> ${t.immatriculation}</div>
        <div class="row"><span class="label">Transfert :</span> ${t.transfert}</div>
        <div class="row"><span class="label">Lot :</span> ${t.products?.numeroLot??""}</div>
        <div class="row"><span class="label">Sacs :</span> ${t.products?.nombreSacsDecharges??""}</div>
        <div class="row"><span class="label">Poids brut :</span> ${t.products?.poidsBrut??""}</div>
        <div class="row"><span class="label">Poids net :</span> ${t.products?.poidsNet??""} Kg</div>
        <div class="row"><span class="label">KOR :</span> ${t.kor}</div>
        <div class="row"><span class="label">Type produit :</span> ${t.products?.type??""}</div>
        <div class="row"><span class="label">Commentaire :</span> ${t.products?.comment??"\u2014"}</div>
        <script>window.print()<\/script>
      </body>
    </html>
  `,r=window.open("","_blank");r&&(r.document.write(e),r.document.close())}get totalEnregistres(){return this.trucksByPeriod.filter(t=>t.statut==="Enregistr\xE9").length}get totalEnAttente(){return this.trucksByPeriod.filter(t=>t.statut==="En attente").length}get totalValides(){return this.trucksByPeriod.filter(t=>t.statut==="Valid\xE9").length}get totalAcceptes(){return this.trucksByPeriod.filter(t=>t.advancedStatus==="ACCEPTE_FINAL").length}get totalRefoules(){return this.trucksByPeriod.filter(t=>t.statut==="Refoul\xE9"||t.statut==="Annul\xE9"&&(t.advancedStatus==="REFUSE_EN_ATTENTE_GERANT"||t.advancedStatus==="REFUSE_RENVOYE")).length}get historique(){return this.trucks.filter(t=>t.history&&t.history.length>0)}get nbValidesByPeriod(){return this.trucksByPeriod.filter(t=>t.statut==="Valid\xE9"&&t.advancedStatus!=="ACCEPTE_FINAL").length}get nbEnregistresByPeriod(){return this.trucksByPeriod.filter(t=>t.statut==="Enregistr\xE9").length}get nbAttenteByPeriod(){return this.trucksByPeriod.filter(t=>t.statut==="En attente").length}get nbRefoulesByPeriod(){return this.trucksByPeriod.filter(t=>t.statut==="Refoul\xE9"||t.statut==="Annul\xE9"&&(t.advancedStatus==="REFUSE_EN_ATTENTE_GERANT"||t.advancedStatus==="REFUSE_RENVOYE")).length}get nbAcceptesByPeriod(){return this.trucksByPeriod.filter(t=>t.advancedStatus==="ACCEPTE_FINAL").length}getAdvancedStatusLabel(t){let e=t.advancedStatus,r=String(e??"").trim();if(!r)return"\u2014";let o={ACCEPTE_FINAL:"Accept\xE9 d\xE9finitivement",REFUSE_EN_ATTENTE_GERANT:"En attente du g\xE9rant",REFUSE_RENVOYE:"Renvoy\xE9",REFUSE_REINTEGRE:"R\xE9int\xE9gr\xE9"};return o[r]?o[r]:r.replace(/_/g," ").toLowerCase().replace(/(?:^|\s)\S/g,i=>i.toUpperCase())}getAdvancedStatusClass(t){let e=t.advancedStatus,r=String(e??"").trim();if(!r)return"adv-badge--unknown";let o={ACCEPTE_FINAL:"adv-badge--accepted",REFUSE_EN_ATTENTE_GERANT:"adv-badge--refused-wait",REFUSE_RENVOYE:"adv-badge--renvoye",REFUSE_REINTEGRE:"adv-badge--reintegre"};if(o[r])return o[r];let i=r.toUpperCase();return i.includes("ACCEP")||i.includes("ACCEPT")?"adv-badge--accepted":i.includes("RENVOY")||i.includes("RENVOYE")?"adv-badge--renvoye":i.includes("REINT")||i.includes("REINTEG")?"adv-badge--reintegre":i.includes("ATTENT")||i.includes("WAIT")?"adv-badge--refused-wait":"adv-badge--unknown"}getAdvancedStatusIcon(t){let e=t.advancedStatus,r=String(e??"").trim(),o={ACCEPTE_FINAL:"task_alt",REFUSE_EN_ATTENTE_GERANT:"hourglass_top",REFUSE_RENVOYE:"send_to_mobile",REFUSE_REINTEGRE:"autorenew"};if(o[r])return o[r];let i=r.toUpperCase();return r?i.includes("ACCEP")||i.includes("ACCEPT")?"task_alt":i.includes("RENVOY")||i.includes("RENVOYE")||i.includes("RENV")?"send_to_mobile":i.includes("REINT")||i.includes("REINTEG")?"autorenew":i.includes("ATTENT")||i.includes("WAIT")?"hourglass_top":i.includes("REFUS")||i.includes("REFUSE")?"cancel":"help_outline":"help_outline"}getStatusLabel(t){let e=t.statut;if(!e)return"\u2014";switch(e){case"Enregistr\xE9":return"Enregistr\xE9";case"En attente":return"En attente";case"Valid\xE9":return"Valid\xE9";case"Refoul\xE9":case"Annul\xE9":return"Refoul\xE9";default:return String(e)}}getStatusClass(t){let e=t.statut;if(!e)return"status-pill status-pill--renvoye";switch(e){case"Enregistr\xE9":return"status-pill status-pill--enregistre";case"En attente":return"status-pill status-pill--pending";case"Valid\xE9":return"status-pill status-pill--validated";case"Refoul\xE9":case"Annul\xE9":return"status-pill status-pill--refoule";default:return"status-pill status-pill--renvoye"}}getStatusIcon(t){switch(t.statut){case"Enregistr\xE9":return"post_add";case"En attente":return"schedule";case"Valid\xE9":return"check_circle";case"Refoul\xE9":case"Annul\xE9":return"cancel";default:return"help_outline"}}submitTruck(){this.saveTruck()}closeEditModal(){this.showEditModal=!1}submitEditTruck(){this.saveEdit()}closeAnalysisModal(){this.showAnalysisModal=!1}closeProductsModal(){this.showProductsModal=!1}closeHistoryModal(){this.showHistoryModal=!1}closeDetailsModal(){this.showDetailsModal=!1}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-user-entrepot"]],decls:77,vars:40,consts:[[1,"page-container"],[1,"page-header"],[1,"header-left"],[1,"page-title"],[1,"page-subtitle"],["type","button",1,"btn","btn-primary",3,"click"],[1,"material-symbols-outlined","notranslate"],[1,"controls-area"],[1,"search-and-filters"],[1,"search-box"],[1,"material-symbols-outlined","notranslate","search-icon"],["type","text","placeholder","Rechercher un camion...",3,"ngModelChange","ngModel"],[1,"period-selector"],[3,"click"],[1,"date-input-wrapper"],[1,"material-symbols-outlined","notranslate","input-icon"],["type","date","placeholder","Date sp\xE9cifique",3,"ngModelChange","ngModel"],[1,"card","table-card"],[1,"card-tabs-header"],[1,"tab-btn",3,"click"],["class","tab-badge",4,"ngIf"],[1,"table-wrap"],[2,"text-align","right"],[4,"ngIf"],["class","row-hover",4,"ngFor","ngForOf","ngForTrackBy"],["class","modal-root",4,"ngIf"],[1,"tab-badge"],["colspan","6",2,"padding","0"],[1,"empty-state-content"],[1,"row-hover"],[2,"display","flex","align-items","center","gap","0.5rem","font-weight","700"],["class","badge-new",4,"ngIf"],[1,"cell-muted"],["class","status-pill status-pill--enregistre",4,"ngIf"],["class","status-pill status-pill--pending",4,"ngIf"],["class","status-pill status-pill--validated",4,"ngIf"],["class","status-pill status-pill--refoule",4,"ngIf"],[3,"ngSwitch"],["class","status-pill status-pill--pending",4,"ngSwitchCase"],["class","status-pill status-pill--renvoye",4,"ngSwitchCase"],["class","status-pill status-pill--reintegre",4,"ngSwitchCase"],["class","status-pill status-pill--accepted-final",4,"ngSwitchCase"],["class","cell-muted",4,"ngSwitchDefault"],[1,"actions-group"],["class","action-btn btn-inventory","title","Produits",3,"click",4,"ngIf"],["class","action-btn btn-send","title","Marquer renvoy\xE9",3,"click",4,"ngIf"],["title","Historique",1,"action-btn","btn-history",3,"click"],["class","action-btn btn-history","title","D\xE9tails",3,"click",4,"ngIf"],[1,"badge-new"],[1,"status-pill","status-pill--enregistre"],[1,"material-symbols-outlined","notranslate",2,"font-size","16px"],[1,"status-pill","status-pill--pending"],[1,"status-pill","status-pill--validated"],[1,"status-pill","status-pill--refoule"],[1,"status-pill","status-pill--renvoye"],[1,"status-pill","status-pill--reintegre"],[1,"status-pill","status-pill--accepted-final"],["title","Modifier",1,"action-btn","btn-edit",3,"click"],["title","Analyses",1,"action-btn","btn-science",3,"click"],["title","Produits",1,"action-btn","btn-inventory",3,"click"],["title","Marquer renvoy\xE9",1,"action-btn","btn-send",3,"click"],["title","D\xE9tails",1,"action-btn","btn-history",3,"click"],[1,"modal-root"],[1,"modal-backdrop",3,"click"],[1,"modal-panel"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Fermer",1,"btn-close-icon",3,"click"],[1,"modal-body"],[1,"truck-field"],["for","entrepot",1,"truck-label"],["id","entrepot","disabled","",1,"truck-select"],["selected",""],["for","immatriculation",1,"truck-label"],[2,"color","red"],["id","immatriculation","type","text","placeholder","Ex : AB-123-CD","name","immatriculation","required","",1,"truck-input",3,"ngModelChange","ngModel"],["for","transporteur",1,"truck-label"],["id","transporteur","type","text","placeholder","Nom du transporteur ou du chauffeur","name","transporteur","required","",1,"truck-input",3,"ngModelChange","ngModel"],["for","transfert",1,"truck-label"],["id","transfert","type","text","placeholder","Ex : FT-2025-001","name","transfert",1,"truck-input",3,"ngModelChange","ngModel"],["for","cooperative",1,"truck-label"],["id","cooperative","type","text","placeholder","Ex : AMIAN","name","cooperative","required","",1,"truck-input",3,"ngModelChange","ngModel"],["style","color:#ef4444; font-weight:700; margin-top:1rem; padding:0.5rem; background:#fef2f2; border-radius:0.5rem; border:1px solid #fecaca;",4,"ngIf"],[1,"modal-footer",2,"display","block"],["class","truck-confirm","style","margin-bottom: 1rem; padding: 1rem; background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 0.5rem; display: flex; align-items: center; gap: 0.75rem; color: #166534;",4,"ngIf"],["type","button",1,"truck-submit",3,"click"],[2,"color","#ef4444","font-weight","700","margin-top","1rem","padding","0.5rem","background","#fef2f2","border-radius","0.5rem","border","1px solid #fecaca"],[1,"truck-confirm",2,"margin-bottom","1rem","padding","1rem","background","#f0fdf4","border","1px solid #bbf7d0","border-radius","0.5rem","display","flex","align-items","center","gap","0.75rem","color","#166534"],[2,"margin","0","font-weight","700"],[2,"margin","0","font-size","0.875rem"],[1,"btn-close-icon",3,"click"],[1,"material-symbols-outlined","notranslate",2,"font-size","20px"],[1,"truck-label"],[1,"truck-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"truck-submit",3,"click"],[2,"margin-bottom","1rem","padding","1rem","background","#f0f9ff","border-radius","0.75rem","color","#0369a1","font-size","0.9rem"],["type","number","placeholder","Ex: 60.3","oninput","if(this.value.length > 6) this.value = this.value.slice(0, 6);",1,"truck-input",3,"ngModelChange","ngModel"],["type","number","placeholder","Ex: 12.5","oninput","if(this.value.length > 6) this.value = this.value.slice(0, 6);",1,"truck-input",3,"ngModelChange","ngModel"],["style","color:#ef4444; font-weight:700; margin-top:1rem;",4,"ngIf"],[1,"truck-submit",3,"click","disabled"],[2,"color","#ef4444","font-weight","700","margin-top","1rem"],["type","text","readonly","","disabled","",1,"truck-input",2,"background","#f1f5f9","color","#64748b",3,"value"],["type","text",1,"truck-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Ex : LOT-4587",1,"truck-input",3,"ngModelChange","ngModel"],["type","number","placeholder","Ex: 120",1,"truck-input",3,"ngModelChange","ngModel"],["type","number","placeholder","Ex: 3500",1,"truck-input",3,"ngModelChange","ngModel"],["type","number","placeholder","Ex: 3400",1,"truck-input",3,"ngModelChange","ngModel"],["type","number",1,"truck-input",3,"ngModelChange","ngModel"],[1,"modal-body",2,"background","#f8fafc","padding","1.5rem"],["class","cell-muted","style","text-align:center;",4,"ngIf"],[1,"history-list",2,"display","flex","flex-direction","column","gap","1rem"],["class","history-card","style","background:white; padding:1rem 1.5rem; border-radius:1rem; box-shadow:0 2px 5px rgba(0,0,0,0.05); display:flex; border-left: 4px solid var(--primary);",4,"ngFor","ngForOf"],[1,"modal-footer",2,"justify-content","center"],[1,"truck-submit",2,"max-width","200px",3,"click"],[1,"cell-muted",2,"text-align","center"],[1,"history-card",2,"background","white","padding","1rem 1.5rem","border-radius","1rem","box-shadow","0 2px 5px rgba(0,0,0,0.05)","display","flex","border-left","4px solid var(--primary)"],[1,"history-content"],[2,"font-weight","700","color","#0f172a","font-size","1rem","margin-bottom","0.25rem"],[2,"font-size","0.85rem","color","var(--primary)","font-weight","600"],[2,"color","#94a3b8","font-weight","400"],[2,"display","flex","justify-content","space-between","padding","0.75rem 0","border-bottom","1px solid #f1f5f9"],[2,"font-weight","600","color","#64748b"],[2,"font-weight","700"],["style","margin-top:1rem; padding:1rem; background:#f8fafc; border-radius:0.5rem;",4,"ngIf"],[1,"truck-submit",2,"background","white","color","var(--text-primary)","border","1px solid var(--border-medium)","width","auto","padding","0.75rem 1.5rem",3,"click"],[1,"material-symbols-outlined","notranslate",2,"vertical-align","middle","font-size","18px","margin-right","4px"],[1,"truck-submit",2,"width","auto","padding","0.75rem 2.5rem",3,"click"],[2,"margin-top","1rem","padding","1rem","background","#f8fafc","border-radius","0.5rem"],[2,"display","block","font-size","0.75rem","font-weight","700","color","#64748b","text-transform","uppercase","margin-bottom","0.25rem"],[1,"modal-panel",2,"max-width","500px"],[2,"text-align","center","margin","2rem 0"],[1,"material-symbols-outlined","notranslate",2,"font-size","48px","color","#f59e0b","margin-bottom","1rem"],[2,"font-size","1.1rem","font-weight","500","color","#1e293b"],[2,"font-size","0.9rem","color","#64748b"],[1,"modal-footer",2,"justify-content","center","gap","1rem"],[1,"truck-submit",2,"background","white","color","#64748b","border","1px solid #cbd5e1","width","auto","padding","0.75rem 1.5rem",3,"click"],[1,"truck-submit",2,"background","#ef4444","width","auto","padding","0.75rem 1.5rem",3,"click"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3),l(4),c(),s(5,"p",4),l(6),c()(),s(7,"button",5),_("click",function(){return r.openModal()}),s(8,"span",6),l(9,"add"),c(),s(10,"span"),l(11,"Enregistrer un camion"),c()()(),s(12,"section",7)(13,"div",8)(14,"div",9)(15,"span",10),l(16,"search"),c(),s(17,"input",11),A("ngModelChange",function(i){return N(r.filterSearch,i)||(r.filterSearch=i),i}),_("ngModelChange",function(){return r.applyFilters()}),c()(),s(18,"div",12)(19,"button",13),_("click",function(){return r.period="today",r.onPeriodChange()}),l(20,"Aujourd'hui"),c(),s(21,"button",13),_("click",function(){return r.period="week",r.onPeriodChange()}),l(22,"Semaine"),c(),s(23,"button",13),_("click",function(){return r.period="month",r.onPeriodChange()}),l(24,"Mois"),c(),s(25,"button",13),_("click",function(){return r.period="year",r.onPeriodChange()}),l(26,"Ann\xE9e"),c()(),s(27,"div",14)(28,"span",15),l(29,"calendar_today"),c(),s(30,"input",16),A("ngModelChange",function(i){return N(r.filterDate,i)||(r.filterDate=i),i}),_("ngModelChange",function(){return r.onDateChange()}),c()()()(),s(31,"div",17)(32,"div",18)(33,"button",19),_("click",function(){return r.setTab("enregistres")}),l(34," Enregistr\xE9s "),E(35,tS,2,1,"span",20),c(),s(36,"button",19),_("click",function(){return r.setTab("attente")}),l(37," En attente "),E(38,nS,2,1,"span",20),c(),s(39,"button",19),_("click",function(){return r.setTab("valides")}),l(40," Valid\xE9s "),E(41,rS,2,1,"span",20),c(),s(42,"button",19),_("click",function(){return r.setTab("refoules")}),l(43," Refoul\xE9s "),E(44,oS,2,1,"span",20),c(),s(45,"button",19),_("click",function(){return r.setTab("acceptes")}),l(46," Accept\xE9s "),E(47,iS,2,1,"span",20),c(),s(48,"button",19),_("click",function(){return r.setTab("historique")}),l(49," Historique "),E(50,aS,2,1,"span",20),c()(),s(51,"div",21)(52,"table")(53,"thead")(54,"tr")(55,"th"),l(56,"Immatriculation"),c(),s(57,"th"),l(58,"Transporteur"),c(),s(59,"th"),l(60,"Heure"),c(),s(61,"th"),l(62,"Statut"),c(),s(63,"th"),l(64,"Statut avanc\xE9"),c(),s(65,"th",22),l(66,"Actions"),c()()(),s(67,"tbody"),E(68,sS,7,0,"tr",23)(69,MS,31,18,"tr",24),c()()()(),E(70,PS,44,8,"div",25)(71,DS,38,5,"div",25)(72,IS,28,5,"div",25)(73,AS,54,8,"div",25)(74,FS,16,2,"div",25)(75,VS,53,8,"div",25)(76,jS,25,1,"div",25),c()),e&2&&(f(4),w(r.entrepot.nom),f(2),w(r.entrepot.lieu),f(11),T("ngModel",r.filterSearch),f(2),W("active",r.period==="today"),f(2),W("active",r.period==="week"),f(2),W("active",r.period==="month"),f(2),W("active",r.period==="year"),f(5),T("ngModel",r.filterDate),f(3),W("active",r.currentTab==="enregistres"),f(2),b("ngIf",r.nbEnregistres>0),f(),W("active",r.currentTab==="attente"),f(2),b("ngIf",r.nbAttente>0),f(),W("active",r.currentTab==="valides"),f(2),b("ngIf",r.nbValides>0),f(),W("active",r.currentTab==="refoules"),f(2),b("ngIf",r.nbRefoules>0),f(),W("active",r.currentTab==="acceptes"),f(2),b("ngIf",r.nbAcceptes>0),f(),W("active",r.currentTab==="historique"),f(2),b("ngIf",r.nbHistorique>0),f(18),b("ngIf",r.filteredTrucks.length===0),f(),b("ngForOf",r.filteredTrucks)("ngForTrackBy",r.trackById),f(),b("ngIf",r.showModal),f(),b("ngIf",r.showEditModal),f(),b("ngIf",r.showAnalysisModal),f(),b("ngIf",r.showProductsModal),f(),b("ngIf",r.showHistoryModal),f(),b("ngIf",r.showDetailsModal),f(),b("ngIf",r.showRenvoyeConfirmModal))},dependencies:[ae,be,me,no,ha,ba,Se,Pr,kr,xe,Ja,De,Xn,Oe,Jn,Lp,tt],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1d4ed8;--primary-subtle: #e7edf3;--success-bg: #dcfce7;--success-text: #166534;--success-border: #dcfce7;--warning-bg: #fffbeb;--warning-text: #b45309;--warning-border: #fef3c7;--danger-bg: #fee2e2;--danger-text: #991b1b;--danger-border: #fecaca;--danger-solid: #ef4444;--info-bg: #e0f2fe;--info-text: #0284c7;--background-light: #f6f7f8;--background-white: #ffffff;--background-dark: #101922;--text-primary: #0d141b;--text-secondary: #4c739a;--text-tertiary: #94a3b8;--border-light: #e2e8f0;--border-medium: #cbd5e1;--border-dark: #1f2933;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-card: 0 10px 40px -10px rgba(0, 0, 0, .08);--shadow-float: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease-in-out;--transition-normal: all .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .35s cubic-bezier(.16, 1, .3, 1);--header-height: 72px;--sidebar-width: 280px}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#e5e7eb}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;translate:no}.material-symbols-outlined.notranslate[_ngcontent-%COMP%]{translate:no}.page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);padding:2rem 1.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:var(--text-primary);text-shadow:0 2px 10px rgba(43,140,238,.1);letter-spacing:-.025em;margin:0;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-top:.5rem;font-weight:500}.card[_ngcontent-%COMP%]{background:var(--background-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);border:1px solid rgba(0,0,0,.03);padding:1.5rem;transition:var(--transition-normal)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-float)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.95rem;cursor:pointer;transition:var(--transition-normal);border:none;outline:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;box-shadow:0 4px 12px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 16px #2b8cee66}.btn-secondary[_ngcontent-%COMP%]{background:var(--background-white);border:1px solid var(--border-light);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:var(--border-medium)}.btn-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);cursor:pointer;transition:var(--transition-normal)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary);border-color:var(--primary)}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gap-1[_ngcontent-%COMP%]{gap:.25rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.w-full[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none!important}.responsive-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.truck-modal-close[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.06)!important;background:#ef4444!important;color:#fff!important;border-radius:.5rem!important;width:2.25rem!important;height:2.25rem!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;font-weight:700!important;transition:background-color .12s ease,transform .08s ease,box-shadow .12s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#dc2626!important;transform:translateY(-2px)!important;box-shadow:0 10px 30px #dc262624!important}.truck-modal-close[_ngcontent-%COMP%]:focus{outline:3px solid rgba(239,68,68,.18)!important;outline-offset:2px!important}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;line-height:1;min-height:1.8rem;box-sizing:border-box;box-shadow:var(--shadow-sm)}.status-pill[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.status-pill--enregistre[_ngcontent-%COMP%]{background:var(--info-bg);color:var(--info-text);border:1px solid var(--info-bg)}.status-pill--pending[_ngcontent-%COMP%]{background:var(--warning-bg);color:var(--warning-text);border:1px solid var(--warning-border)}.status-pill--validated[_ngcontent-%COMP%], .status-pill--accepted[_ngcontent-%COMP%]{background:var(--success-bg);color:var(--success-text);border:1px solid var(--success-border)}.status-pill--accepted-final[_ngcontent-%COMP%]{background:#ecfdf5;color:#064e3b;border:1px solid #059669}.status-pill--renvoye[_ngcontent-%COMP%]{background:#fff7ed;color:#c2410c;border:1px solid #ffedd5}.status-pill--reintegre[_ngcontent-%COMP%]{background:#f0fdfa;color:#0f766e;border:1px solid #ccfbf1}.status-pill--refoule[_ngcontent-%COMP%]{background:var(--danger-bg);color:var(--danger-text);border:1px solid var(--danger-border)}body.dark[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000004d}body.dark[_ngcontent-%COMP%]   .status-pill--enregistre[_ngcontent-%COMP%]{background:#1e40af33;color:#93c5fd;border-color:#1e40af4d}body.dark[_ngcontent-%COMP%]   .status-pill--pending[_ngcontent-%COMP%]{background:#92400e33;color:#fcd34d;border-color:#92400e4d}body.dark[_ngcontent-%COMP%]   .status-pill--validated[_ngcontent-%COMP%]{background:#16653433;color:#86efac;border-color:#1665344d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted[_ngcontent-%COMP%]{background:#14532d33;color:#6ee7b7;border-color:#14532d4d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted-final[_ngcontent-%COMP%]{background:#064e3b33;color:#34d399;border-color:#05966966}body.dark[_ngcontent-%COMP%]   .status-pill--renvoye[_ngcontent-%COMP%]{background:#9a341233;color:#fdba74;border-color:#9a34124d}body.dark[_ngcontent-%COMP%]   .status-pill--reintegre[_ngcontent-%COMP%]{background:#0f766e33;color:#5eead4;border-color:#0f766e4d}body.dark[_ngcontent-%COMP%]   .status-pill--refoule[_ngcontent-%COMP%]{background:#991b1b33;color:#fca5a5;border-color:#991b1b4d}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0;color:var(--text-primary)}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;overflow-y:auto;flex:1}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem}body.dark[_ngcontent-%COMP%]   .modal__backdrop[_ngcontent-%COMP%]{background:#000000b3}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1e293b;border:1px solid rgba(255,255,255,.1)}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{color:#fff}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#0f172a;border-top-color:#ffffff1a}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition-normal);width:100%}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.truck-field[_ngcontent-%COMP%]   .truck-help[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{background:#0f172a;border-color:#ffffff1a;color:#fff}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.notification-banner[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;background:#f0fdf4;border:1px solid #bbf7d0;color:#166534;padding:1rem 1.5rem;border-radius:.75rem;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.16,1,.3,1);font-weight:600}.notification-banner[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#15803d}@media (max-width: 480px){.notification-banner[_ngcontent-%COMP%]{top:70px;right:10px;left:10px;justify-content:center}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.controls-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.search-and-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.period-selector[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-light);padding:.25rem;border-radius:.5rem;display:flex;gap:.25rem;box-shadow:0 1px 2px #0000000d}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;padding:.4rem .8rem;border-radius:.375rem;font-size:.85rem;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:all .2s}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;color:var(--text-primary)}.period-selector[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff;box-shadow:0 1px 2px #3b82f64d}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid var(--border-light);border-radius:.5rem;padding:0 .75rem;display:flex;align-items:center;height:40px;box-shadow:0 1px 2px #0000000d;transition:box-shadow .2s}.date-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.date-input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin-right:.5rem}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;font-size:.9rem;color:var(--text-primary);font-family:inherit;background:transparent;cursor:pointer}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer}@media (max-width: 992px){.controls-area[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.search-and-filters[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;width:100%;gap:1rem}.search-box[_ngcontent-%COMP%]{max-width:100%;width:100%}.filter-chip-wrap[_ngcontent-%COMP%]{width:100%;justify-content:center}.calendar-wrapper[_ngcontent-%COMP%]{width:100%}}.search-box[_ngcontent-%COMP%]{position:relative;width:100%;max-width:350px}.search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);font-size:20px;color:var(--primary)}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.75rem;border-radius:.9rem;border:1px solid var(--border-light);font-size:.875rem;transition:var(--transition-normal);background:#fff}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 3px #2b8cee1a;outline:none}.filter-chip-wrap[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:.65rem 1.25rem;background:#fff;border:1px solid var(--border-light);border-radius:999px;cursor:pointer;transition:var(--transition-normal);position:relative;box-shadow:var(--shadow-sm);-webkit-user-select:none;user-select:none}.filter-chip-wrap[_ngcontent-%COMP%]:hover{border-color:var(--primary);background:#f8fafc}.filter-chip-wrap[_ngcontent-%COMP%]   .chip-label[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700;color:var(--text-secondary)}.filter-chip-wrap[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px;color:var(--primary)}.filter-dropdown-wrapper[_ngcontent-%COMP%]{position:relative}.filter-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);left:0;background:#fff;border-radius:1rem;box-shadow:var(--shadow-float);border:1px solid var(--border-light);padding:.5rem;min-width:200px;z-index:50;display:flex;flex-direction:column;gap:.25rem}.filter-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:none;background:transparent;text-align:left;font-size:.875rem;font-weight:600;color:var(--text-primary);border-radius:.6rem;cursor:pointer;transition:.2s}.filter-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:var(--primary-subtle);color:var(--primary)}.date-input[_ngcontent-%COMP%]{padding:.65rem 1rem;background:#fff;border:1px solid var(--border-light);border-radius:.9rem;font-size:.9rem;color:var(--text-secondary);font-family:inherit;transition:var(--transition-normal)}.date-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);outline:none}.calendar-wrapper[_ngcontent-%COMP%]{position:relative}.calendar-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);font-size:20px;color:var(--primary);pointer-events:none;z-index:2}.calendar-wrapper[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{padding-left:2.75rem!important}.card.table-card[_ngcontent-%COMP%]{padding:0;overflow:hidden;margin-top:1rem}.card-tabs-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:#fcfdfe;border-bottom:1px solid var(--border-light);display:flex;gap:.5rem;overflow-x:auto}.card-tabs-header[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.card-tabs-header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-medium);border-radius:4px}.tab-btn[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:none;background:transparent;font-size:.875rem;font-weight:700;color:var(--text-secondary);border-radius:.75rem;cursor:pointer;display:flex;align-items:center;justify-content:center;flex:1;gap:.6rem;transition:var(--transition-normal);white-space:nowrap}.tab-btn[_ngcontent-%COMP%]   .tab-badge[_ngcontent-%COMP%]{font-size:.75rem;background:#f1f5f9;color:#64748b;padding:.2rem .6rem;border-radius:999px;font-weight:800}.tab-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:var(--text-primary)}.tab-btn.active[_ngcontent-%COMP%]{background:var(--primary);color:#fff;box-shadow:0 4px 12px #2b8cee40}.tab-btn.active[_ngcontent-%COMP%]   .tab-badge[_ngcontent-%COMP%]{background:#ffffff40;color:#fff}.table-wrap[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{background:#f8fafc;padding:1rem 1.5rem;font-size:.75rem;font-weight:800;color:#64748b;text-transform:uppercase;letter-spacing:.05em;text-align:left}td[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:.9375rem;color:var(--text-primary);border-bottom:1px solid var(--border-light);vertical-align:middle}.row-hover[_ngcontent-%COMP%]{transition:background .2s}.row-hover[_ngcontent-%COMP%]:hover{background:#2b8cee0a}.cell-muted[_ngcontent-%COMP%]{color:var(--text-tertiary)}.empty-state-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;color:var(--text-tertiary)}.empty-state-content[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1rem;opacity:.5;border:2px solid var(--border-medium);border-radius:50%;padding:10px}.empty-state-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-tertiary)}.actions-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}.actions-group[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:none;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s;color:var(--text-tertiary)}.actions-group[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px}.actions-group[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;transform:translateY(-1px)}.actions-group[_ngcontent-%COMP%]   .action-btn.btn-edit[_ngcontent-%COMP%]:hover{background:#eff6ff;color:#3b82f6}.actions-group[_ngcontent-%COMP%]   .action-btn.btn-science[_ngcontent-%COMP%]:hover{background:#f0fdf4;color:#10b981}.actions-group[_ngcontent-%COMP%]   .action-btn.btn-inventory[_ngcontent-%COMP%]:hover{background:#fff7ed;color:#f97316}.actions-group[_ngcontent-%COMP%]   .action-btn.btn-send[_ngcontent-%COMP%]:hover{background:#fef2f2;color:#ef4444}.actions-group[_ngcontent-%COMP%]   .action-btn.btn-history[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#475569}.modal-root[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a80;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal-panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:var(--shadow-float);width:100%;max-width:600px;max-height:calc(100vh - 4rem);display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_modalEnter .3s cubic-bezier(.34,1.56,.64,1)}.modal-panel.mini[_ngcontent-%COMP%]{max-width:400px}@keyframes _ngcontent-%COMP%_modalEnter{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}.modal-header[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center;background:#fff;z-index:1}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:850;margin:0}.btn-close-icon[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b;border:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:.2s}.btn-close-icon[_ngcontent-%COMP%]:hover{background:#fee2e2;color:#ef4444}.modal-body[_ngcontent-%COMP%]{padding:2rem;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:#f8fafc;display:flex;justify-content:space-between;align-items:center;border-top:1px solid var(--border-light)}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.truck-label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.025em}.truck-input[_ngcontent-%COMP%], .truck-select[_ngcontent-%COMP%]{width:100%;padding:.85rem 1rem;border:1px solid var(--border-light);border-radius:.75rem;font-size:1rem;transition:all .2s ease}.truck-input[_ngcontent-%COMP%]:focus, .truck-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #2563eb1a}.truck-submit[_ngcontent-%COMP%]{width:100%;background:var(--primary);color:#fff;padding:1rem;border-radius:1rem;font-weight:700;font-size:1rem;border:none;cursor:pointer;transition:all .2s ease}.truck-submit[_ngcontent-%COMP%]:hover{background:var(--primary-hover);transform:translateY(-2px)}body.dark[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#111827;border-color:#ffffff1a;color:#f8fafc}body.dark[_ngcontent-%COMP%]   .filter-chip-wrap[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .filter-chip-wrap[_ngcontent-%COMP%]   .chip-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff1a;color:#f8fafc}body.dark[_ngcontent-%COMP%]   .card.table-card[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .card-tabs-header[_ngcontent-%COMP%]{background:#1e293b;border-color:#ffffff0d}body.dark[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:hover{background:#111827}body.dark[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]   .tab-badge[_ngcontent-%COMP%]{background:#111827;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]   .tab-badge[_ngcontent-%COMP%]{background:#ffffff1a}body.dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#111827;color:#94a3b8}body.dark[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#ffffff0d;color:#cbd5e1}body.dark[_ngcontent-%COMP%]   .cell-muted[_ngcontent-%COMP%]{color:#64748b}body.dark[_ngcontent-%COMP%]   .modal-panel[_ngcontent-%COMP%]{background:#1a222c}body.dark[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{background:#1a222c;border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{background:#1e293b;border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%], body.dark[_ngcontent-%COMP%]   .truck-select[_ngcontent-%COMP%]{background:#0f172a;border-color:#334155;color:#f8fafc}body.dark[_ngcontent-%COMP%]   .btn-close-icon[_ngcontent-%COMP%]{background:#334155;color:#94a3b8}.truck-confirm[_ngcontent-%COMP%]{margin-bottom:1rem;padding:1rem;background:var(--success-bg);border:1px solid var(--success-border);border-radius:var(--radius-sm);display:flex;align-items:center;gap:.75rem;color:var(--success-text)}.truck-confirm[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:var(--success-text)}.truck-confirm[_ngcontent-%COMP%]   .truck-confirm-title[_ngcontent-%COMP%]{margin:0;font-weight:700}.truck-confirm[_ngcontent-%COMP%]   .truck-confirm-sub[_ngcontent-%COMP%]{margin:0;font-size:.875rem}']})};var fd=class n{constructor(t){this.http=t}apiUrl=`${de.apiUrl}/users`;getUsers(){return this.http.get(this.apiUrl)}createUser(t){return this.http.post(this.apiUrl,t)}updateUser(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteUser(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(j(It))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};var BS=(n,t,e)=>({"status-pill--validated":n,"status-pill--refoule":t,"status-pill--pending":e});function HS(n,t){if(n&1&&(s(0,"option",29),l(1),c()),n&2){let e=t.$implicit;b("value",e.id),f(),w(e.name)}}function zS(n,t){n&1&&(s(0,"tr")(1,"td",30)(2,"span",31),l(3,"person_off"),c(),l(4," Aucun utilisateur ne correspond aux filtres. "),c()())}function $S(n,t){if(n&1&&(s(0,"div",44)(1,"span",45),l(2,"domain"),c(),s(3,"span"),l(4),c()()),n&2){let e=m().$implicit,r=m();f(3),Dn("color",e.entrepotId?"var(--text-primary)":"var(--text-secondary)"),f(),k(" ",r.getWarehouseName(e.entrepotId)," ")}}function WS(n,t){n&1&&(s(0,"span",46),l(1," Acc\xE8s complet "),c())}function GS(n,t){if(n&1){let e=V();s(0,"tr")(1,"td")(2,"div",32)(3,"div",33),l(4),c(),s(5,"div")(6,"span",34),l(7),c(),s(8,"span",35),l(9),c()()()(),s(10,"td")(11,"span",36)(12,"span",9),l(13),c(),l(14),c()(),s(15,"td",24),E(16,$S,5,3,"div",37)(17,WS,2,0,"span",38),c(),s(18,"td")(19,"span",39),H(20,"span",40),l(21),c()(),s(22,"td")(23,"div",41)(24,"button",42),_("click",function(){let o=v(e).$implicit,i=m();return y(i.openEditUser(o))}),s(25,"span",9),l(26,"edit"),c()(),s(27,"button",43),_("click",function(){let o=v(e).$implicit,i=m();return y(i.deleteUser(o))}),s(28,"span",9),l(29,"delete"),c()()()()()}if(n&2){let e=t.$implicit,r=m();f(4),w(r.getInitials(e.nom)),f(3),w(e.nom),f(2),k("@",e.username),f(4),w(r.roleIcon(e.role)),f(),k(" ",r.roleLabel(e.role)," "),f(2),b("ngIf",e.role==="operator"),f(),b("ngIf",e.role==="admin"),f(2),b("ngClass",sa(9,BS,e.status==="Actif",e.status==="Inactif",e.status==="En attente")),f(2),k(" ",e.status," ")}}function qS(n,t){n&1&&(s(0,"div",73),l(1," Le nom est requis. "),c())}function YS(n,t){n&1&&(s(0,"div",73),l(1," L'identifiant est requis. "),c())}function ZS(n,t){n&1&&(s(0,"small",74),l(1," (laisser vide pour ne pas changer)"),c())}function QS(n,t){if(n&1&&(s(0,"option",76),l(1),c()),n&2){let e=t.$implicit;b("ngValue",e.id),f(),w(e.name)}}function KS(n,t){n&1&&(s(0,"p",79),l(1," Aucun entrep\xF4t disponible. "),c())}function JS(n,t){if(n&1){let e=V();s(0,"div",54)(1,"label",55),l(2,"Entrep\xF4t Affect\xE9 "),s(3,"span",56),l(4,"*"),c()(),s(5,"select",75),A("ngModelChange",function(o){v(e);let i=m(2);return N(i.formUser.entrepotId,o)||(i.formUser.entrepotId=o),y(o)}),s(6,"option",76),l(7,"S\xE9lectionner un entrep\xF4t"),c(),E(8,QS,2,2,"option",77),c(),E(9,KS,2,0,"p",78),c()}if(n&2){let e=m(2);f(5),T("ngModel",e.formUser.entrepotId),b("disabled",e.warehouses.length===0),f(),b("ngValue",null),f(2),b("ngForOf",e.warehouses),f(),b("ngIf",e.warehouses.length===0)}}function XS(n,t){if(n&1&&(ct(0),l(1),lt()),n&2){let e=m(2);f(),w(e.isEditMode?"Enregistrer":"Cr\xE9er l\u2019utilisateur")}}function eI(n,t){n&1&&(ct(0),l(1,"Enregistrement..."),lt())}function tI(n,t){if(n&1){let e=V();s(0,"div",47)(1,"div",48),_("click",function(){v(e);let o=m();return y(o.closeUserModal())}),c(),s(2,"div",49)(3,"div",50)(4,"h2",51),l(5),c(),s(6,"button",52),_("click",function(){v(e);let o=m();return y(o.closeUserModal())}),s(7,"span",9),l(8,"close"),c()()(),s(9,"div",53)(10,"div",54)(11,"label",55),l(12,"Nom "),s(13,"span",56),l(14,"*"),c()(),s(15,"input",57),A("ngModelChange",function(o){v(e);let i=m();return N(i.formUser.nom,o)||(i.formUser.nom=o),y(o)}),c(),E(16,qS,2,0,"div",58),c(),s(17,"div",54)(18,"label",55),l(19,"Identifiant (Username) "),s(20,"span",56),l(21,"*"),c()(),s(22,"input",59),A("ngModelChange",function(o){v(e);let i=m();return N(i.formUser.username,o)||(i.formUser.username=o),y(o)}),c(),E(23,YS,2,0,"div",58),c(),s(24,"div",54)(25,"label",55),l(26," Mot de passe "),E(27,ZS,2,0,"small",60),c(),s(28,"div",61)(29,"input",62),A("ngModelChange",function(o){v(e);let i=m();return N(i.formUser.password,o)||(i.formUser.password=o),y(o)}),c(),s(30,"button",63),_("click",function(){v(e);let o=m();return y(o.showPassword=!o.showPassword)}),s(31,"span",64),l(32),c()()()(),s(33,"div",65)(34,"div",54)(35,"label",55),l(36,"R\xF4le "),s(37,"span",56),l(38,"*"),c()(),s(39,"select",66),A("ngModelChange",function(o){v(e);let i=m();return N(i.formUser.role,o)||(i.formUser.role=o),y(o)}),s(40,"option",18),l(41,"Administrateur"),c(),s(42,"option",19),l(43,"Op\xE9rateur"),c()()(),s(44,"div",54)(45,"label",55),l(46,"Statut "),s(47,"span",56),l(48,"*"),c()(),s(49,"select",66),A("ngModelChange",function(o){v(e);let i=m();return N(i.formUser.status,o)||(i.formUser.status=o),y(o)}),s(50,"option",67),l(51,"Actif"),c(),s(52,"option",68),l(53,"Inactif"),c()()()(),E(54,JS,10,5,"div",69),c(),s(55,"div",70)(56,"button",71),_("click",function(){v(e);let o=m();return y(o.closeUserModal())}),l(57," Annuler "),c(),s(58,"button",72),_("click",function(){v(e);let o=m();return y(o.saveUserFromModal())}),E(59,XS,2,1,"ng-container",26)(60,eI,2,0,"ng-container",26),c()()()()}if(n&2){let e=m();f(5),k(" ",e.isEditMode?"Modifier l\u2019utilisateur":"Cr\xE9er un utilisateur"," "),f(10),T("ngModel",e.formUser.nom),f(),b("ngIf",e.saveAttempted&&!e.formUser.nom),f(6),T("ngModel",e.formUser.username),f(),b("ngIf",e.saveAttempted&&!e.formUser.username),f(4),b("ngIf",e.isEditMode),f(2),b("type",e.showPassword?"text":"password"),T("ngModel",e.formUser.password),f(3),k(" ",e.showPassword?"visibility_off":"visibility"," "),f(7),T("ngModel",e.formUser.role),f(10),T("ngModel",e.formUser.status),f(5),b("ngIf",e.formUser.role==="operator"),f(4),b("disabled",e.isLoading),f(),b("ngIf",!e.isLoading),f(),b("ngIf",e.isLoading)}}function nI(n,t){if(n&1&&(s(0,"div",86)(1,"p",87),l(2),c(),s(3,"p",88),l(4),c(),s(5,"p",89),l(6),c()()),n&2){let e=m(2);f(2),w(e.userToDelete.nom),f(2),k(" @",e.userToDelete.username," "),f(2),k(" ",e.roleLabel(e.userToDelete.role)," ")}}function rI(n,t){if(n&1){let e=V();s(0,"div",47)(1,"div",48),_("click",function(){v(e);let o=m();return y(o.cancelDelete())}),c(),s(2,"div",80)(3,"div",50)(4,"h2",51),l(5,"Confirmer la suppression"),c(),s(6,"button",52),_("click",function(){v(e);let o=m();return y(o.cancelDelete())}),s(7,"span",9),l(8,"close"),c()()(),s(9,"div",53)(10,"p",81),l(11," \xCAtes-vous s\xFBr de vouloir supprimer cet utilisateur ? "),c(),E(12,nI,7,3,"div",82),s(13,"p",83)(14,"span",84),l(15,"warning"),c(),l(16," Cette action est irr\xE9versible. "),c()(),s(17,"div",70)(18,"button",71),_("click",function(){v(e);let o=m();return y(o.cancelDelete())}),l(19," Annuler "),c(),s(20,"button",85),_("click",function(){v(e);let o=m();return y(o.confirmDelete())}),l(21," Supprimer "),c()()()()}if(n&2){let e=m();f(12),b("ngIf",e.userToDelete)}}var pd=class n{constructor(t,e,r){this.userService=t;this.warehouseService=e;this.toastService=r}users=[];warehouses=[];searchTerm="";selectedRole="";selectedWarehouseId="";showUserModal=!1;showDeleteModal=!1;userToDelete=null;isEditMode=!1;formUser=this.getEmptyFormUser();saveAttempted=!1;isLoading=!1;showPassword=!1;ngOnInit(){this.loadWarehouses(),this.loadUsers()}loadWarehouses(){this.warehouseService.getWarehouses().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Erreur chargement entrep\xF4ts",t)})}loadUsers(){this.userService.getUsers().subscribe({next:t=>this.users=t,error:t=>console.error("Erreur chargement utilisateurs",t)})}get filteredUsers(){let t=this.searchTerm.trim().toLowerCase();return this.users.filter(e=>{if(t&&!`${e.nom} ${e.username}`.toLowerCase().includes(t)||this.selectedRole&&e.role!==this.selectedRole)return!1;if(this.selectedWarehouseId!==""){let r=Number(this.selectedWarehouseId);if(e.entrepotId!==r)return!1}return!0})}getWarehouseName(t){if(t===null)return"\u2014";let e=this.warehouses.find(o=>o.id===t);return e?e.name:this.users.find(o=>o.entrepotId===t)?.entrepotName??"\u2014"}getInitials(t){let e=t.trim().split(/\s+/).filter(Boolean),r=e[0]?.[0]??"",o=e.length>1?e[1][0]:e[0]?.[1]??"";return(r+o).toUpperCase()}roleLabel(t){switch(t){case"admin":return"Administrateur";case"operator":return"Op\xE9rateur";default:return t}}roleIcon(t){switch(t){case"admin":return"shield_person";case"operator":return"desktop_windows";default:return"person"}}statusClass(t){switch(t){case"Actif":return"status-pill status-pill--validated";case"Inactif":return"status-pill status-pill--refoule";case"En attente":return"status-pill status-pill--pending";default:return"status-pill status-pill--validated"}}statusIcon(t){switch(t){case"Actif":return"check_circle";case"Inactif":return"cancel";case"En attente":return"hourglass_empty";default:return"help_outline"}}openCreateUser(){this.isEditMode=!1,this.formUser=this.getEmptyFormUser(),this.warehouses.length>0&&(this.formUser.entrepotId=this.warehouses[0].id),this.showUserModal=!0}openEditUser(t){this.isEditMode=!0,this.formUser=P({},t),this.showUserModal=!0}closeUserModal(){this.showUserModal=!1}saveUserFromModal(){if(this.saveAttempted=!0,console.log("saveUserFromModal called",{formUser:this.formUser,isEditMode:this.isEditMode}),!this.formUser.nom||!this.formUser.username||!this.formUser.role){this.toastService.warning("Veuillez remplir les champs obligatoires.");return}if(this.formUser.role==="operator"&&!this.formUser.entrepotId){if(this.warehouses.length===0){this.toastService.warning("Aucun entrep\xF4t disponible. Cr\xE9ez d'abord un entrep\xF4t.");return}this.toastService.warning("Un op\xE9rateur doit \xEAtre li\xE9 \xE0 un entrep\xF4t.");return}this.formUser.role==="admin"&&(this.formUser.entrepotId=null),this.isLoading=!0;let t={next:()=>{this.isLoading=!1,this.toastService.success(this.isEditMode?"Utilisateur mis \xE0 jour.":"Utilisateur cr\xE9\xE9."),this.closeUserModal(),this.loadUsers()},error:e=>{this.isLoading=!1,console.error(e);let r=e.error?.message||"Une erreur est survenue";this.toastService.error(r)}};try{if(this.isEditMode){if(!this.formUser.id){this.isLoading=!1,this.toastService.error("Impossible : identifiant utilisateur manquant.");return}let e=P({},this.formUser);(e.password===""||e.password===void 0)&&delete e.password,this.userService.updateUser(this.formUser.id,e).subscribe(t);return}if(!this.formUser.password){this.isLoading=!1,this.toastService.warning("Mot de passe requis pour la cr\xE9ation.");return}this.userService.createUser(this.formUser).subscribe(t)}catch(e){this.isLoading=!1,console.error("saveUserFromModal sync error",e),this.toastService.error("Erreur interne. Voir console.")}}deleteUser(t){if(t.role==="admin"&&this.users.filter(r=>r.role==="admin").length<=1){this.toastService.warning("Impossible : il doit rester au moins un administrateur.");return}this.userToDelete=t,this.showDeleteModal=!0}cancelDelete(){this.showDeleteModal=!1,this.userToDelete=null}confirmDelete(){!this.userToDelete||!this.userToDelete.id||this.userService.deleteUser(this.userToDelete.id).subscribe({next:()=>{this.toastService.success("Utilisateur supprim\xE9."),this.loadUsers(),this.cancelDelete()},error:t=>{this.toastService.error("Erreur suppression."),console.error(t),this.cancelDelete()}})}updateUserWarehouse(t,e){let r=e?Number(e):null;this.userService.updateUser(t.id,{entrepotId:r}).subscribe({next:()=>{t.entrepotId=r,this.toastService.success("Entrep\xF4t affect\xE9.")},error:o=>this.toastService.error("Erreur mise \xE0 jour.")})}getEmptyFormUser(){return{nom:"",username:"",password:"",role:"operator",entrepotId:null,status:"Actif"}}static \u0275fac=function(e){return new(e||n)(S(fd),S(Me),S(pt))};static \u0275cmp=te({type:n,selectors:[["app-users-manager"]],decls:56,vars:8,consts:[[1,"pageMain"],[1,"admin-root"],[1,"admin-main"],[1,"admin-scroll"],[1,"content"],[1,"page-head"],[1,"page-title"],[1,"page-desc"],["type","button",1,"btn-primary",3,"click"],[1,"material-symbols-outlined","notranslate"],["aria-label","Filtres",1,"card","filters"],[1,"filters-row"],[1,"field"],[1,"left-icon"],["type","text","placeholder","Rechercher par nom ou identifiant...",3,"ngModelChange","ngModel"],[1,"select-wrap"],["aria-label","Filtrer par r\xF4le",3,"ngModelChange","ngModel"],["value",""],["value","admin"],["value","operator"],["aria-label","Filtrer par entrep\xF4t",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Liste des utilisateurs",1,"card"],[1,"table-wrap"],[1,"hide-md"],[2,"text-align","right"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[3,"value"],["colspan","5",1,"sub",2,"text-align","center","padding","3rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","3rem","opacity","0.1","display","block","margin-bottom","1rem"],[1,"user-cell"],[1,"initials"],[1,"name"],[1,"sub"],[1,"badge"],["class","warehouse-display",4,"ngIf"],["class","sub","style","font-style: italic; opacity: 0.6",4,"ngIf"],[1,"status-pill",3,"ngClass"],[1,"dot"],[1,"row-actions"],["title","Modifier","type","button",1,"mini-btn",3,"click"],["title","Supprimer","type","button",1,"mini-btn","danger",3,"click"],[1,"warehouse-display"],[1,"material-symbols-outlined","notranslate",2,"font-size","18px","color","var(--text-secondary)","opacity","0.7"],[1,"sub",2,"font-style","italic","opacity","0.6"],[1,"modal"],[1,"modal__backdrop",3,"click"],[1,"modal__panel"],[1,"truck-modal-header"],[1,"truck-modal-title"],["type","button","aria-label","Fermer",1,"truck-modal-close",3,"click"],[1,"truck-modal-body"],[1,"truck-field"],[1,"truck-label"],[2,"color","red"],["type","text","placeholder","Ex : Paule Yves","required","",1,"truck-input",3,"ngModelChange","ngModel"],["class","field-error",4,"ngIf"],["type","text","placeholder","Ex : pyves","required","",1,"truck-input",3,"ngModelChange","ngModel"],["style","text-transform: none; opacity: 0.7",4,"ngIf"],[1,"password-wrapper",2,"position","relative"],["placeholder","**********","name","password",1,"truck-input",2,"padding-right","2.5rem",3,"ngModelChange","type","ngModel"],["type","button",2,"position","absolute","right","0.75rem","top","50%","transform","translateY(-50%)","background","none","border","none","color","#94a3b8","cursor","pointer","display","flex","align-items","center",3,"click"],[1,"material-symbols-outlined","notranslate",2,"font-size","20px"],[2,"display","grid","grid-template-columns","1fr 1fr","gap","1rem"],["required","",1,"truck-select",3,"ngModelChange","ngModel"],["value","Actif"],["value","Inactif"],["class","truck-field",4,"ngIf"],[1,"truck-modal-footer"],["type","button",1,"btn-secondary",2,"padding","0.75rem 1.5rem","border","1px solid #e2e8f0","border-radius","0.75rem","background","transparent","font-weight","700","color","#64748b","cursor","pointer",3,"click"],["type","button",1,"truck-submit",3,"click","disabled"],[1,"field-error"],[2,"text-transform","none","opacity","0.7"],["required","",1,"truck-select",3,"ngModelChange","ngModel","disabled"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","truck-help","style","color: #ef4444; font-size: 0.75rem; margin-top: 0.25rem",4,"ngIf"],[1,"truck-help",2,"color","#ef4444","font-size","0.75rem","margin-top","0.25rem"],[1,"modal__panel",2,"max-width","420px"],[2,"color","#64748b","line-height","1.5","margin-bottom","0.5rem"],["style","background: #f8fafc; padding: 1rem; border-radius: 0.75rem; border: 1px solid #e2e8f0;",4,"ngIf"],[2,"color","#ef4444","font-size","0.85rem","margin-top","1rem","display","flex","align-items","center","gap","0.5rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","18px"],["type","button",1,"btn-primary",2,"background","#ef4444","box-shadow","0 4px 12px rgba(239, 68, 68, 0.3)","border","none","padding","0.75rem 1.5rem","border-radius","0.75rem","font-weight","700","color","white","cursor","pointer",3,"click"],[2,"background","#f8fafc","padding","1rem","border-radius","0.75rem","border","1px solid #e2e8f0"],[2,"margin","0","font-weight","700","color","#0f172a"],[2,"margin","0.25rem 0 0","font-size","0.85rem","color","#64748b"],[2,"margin","0.25rem 0 0","font-size","0.75rem","color","#94a3b8","text-transform","uppercase","font-weight","600"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"div",1)(2,"main",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"h2",6),l(8,"Utilisateurs"),c(),s(9,"p",7),l(10,"G\xE9rez les acc\xE8s et affectez les entrep\xF4ts aux op\xE9rateurs."),c()(),s(11,"button",8),_("click",function(){return r.openCreateUser()}),s(12,"span",9),l(13,"person_add"),c(),s(14,"span"),l(15,"Cr\xE9er un utilisateur"),c()()(),s(16,"section",10)(17,"div",11)(18,"div",12)(19,"span",13)(20,"span",9),l(21,"search"),c()(),s(22,"input",14),A("ngModelChange",function(i){return N(r.searchTerm,i)||(r.searchTerm=i),i}),c()(),s(23,"div",15)(24,"select",16),A("ngModelChange",function(i){return N(r.selectedRole,i)||(r.selectedRole=i),i}),s(25,"option",17),l(26,"Tous les r\xF4les"),c(),s(27,"option",18),l(28,"Administrateur"),c(),s(29,"option",19),l(30,"Op\xE9rateur"),c()()(),s(31,"div",15)(32,"select",20),A("ngModelChange",function(i){return N(r.selectedWarehouseId,i)||(r.selectedWarehouseId=i),i}),s(33,"option",17),l(34,"Tous les entrep\xF4ts"),c(),E(35,HS,2,2,"option",21),c()()()(),s(36,"section",22)(37,"div",23)(38,"table")(39,"thead")(40,"tr")(41,"th"),l(42,"Utilisateur"),c(),s(43,"th"),l(44,"R\xF4le"),c(),s(45,"th",24),l(46,"Entrep\xF4t Affect\xE9"),c(),s(47,"th"),l(48,"Statut"),c(),s(49,"th",25),l(50,"Actions"),c()()(),s(51,"tbody"),E(52,zS,5,0,"tr",26)(53,GS,30,13,"tr",27),c()()()(),E(54,tI,61,15,"div",28)(55,rI,22,1,"div",28),c()()()()()),e&2&&(f(22),T("ngModel",r.searchTerm),f(2),T("ngModel",r.selectedRole),f(8),T("ngModel",r.selectedWarehouseId),f(3),b("ngForOf",r.warehouses),f(17),b("ngIf",r.filteredUsers.length===0),f(),b("ngForOf",r.filteredUsers),f(),b("ngIf",r.showUserModal),f(),b("ngIf",r.showDeleteModal))},dependencies:[ae,vt,be,me,Se,Pr,kr,xe,Or,De,Xn,Oe],styles:[`@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1d4ed8;--primary-subtle: #e7edf3;--success-bg: #dcfce7;--success-text: #166534;--success-border: #dcfce7;--warning-bg: #fffbeb;--warning-text: #b45309;--warning-border: #fef3c7;--danger-bg: #fee2e2;--danger-text: #991b1b;--danger-border: #fecaca;--danger-solid: #ef4444;--info-bg: #e0f2fe;--info-text: #0284c7;--background-light: #f6f7f8;--background-white: #ffffff;--background-dark: #101922;--text-primary: #0d141b;--text-secondary: #4c739a;--text-tertiary: #94a3b8;--border-light: #e2e8f0;--border-medium: #cbd5e1;--border-dark: #1f2933;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-card: 0 10px 40px -10px rgba(0, 0, 0, .08);--shadow-float: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease-in-out;--transition-normal: all .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .35s cubic-bezier(.16, 1, .3, 1);--header-height: 72px;--sidebar-width: 280px}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#e5e7eb}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;translate:no}.material-symbols-outlined.notranslate[_ngcontent-%COMP%]{translate:no}.page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);padding:2rem 1.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:var(--text-primary);text-shadow:0 2px 10px rgba(43,140,238,.1);letter-spacing:-.025em;margin:0;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-top:.5rem;font-weight:500}.card[_ngcontent-%COMP%]{background:var(--background-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);border:1px solid rgba(0,0,0,.03);padding:1.5rem;transition:var(--transition-normal)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-float)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.95rem;cursor:pointer;transition:var(--transition-normal);border:none;outline:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%], .truck-submit[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;box-shadow:0 4px 12px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover, .truck-submit[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 16px #2b8cee66}.btn-secondary[_ngcontent-%COMP%]{background:var(--background-white);border:1px solid var(--border-light);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:var(--border-medium)}.btn-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);cursor:pointer;transition:var(--transition-normal)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary);border-color:var(--primary)}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gap-1[_ngcontent-%COMP%]{gap:.25rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.w-full[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none!important}.responsive-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.truck-modal-close[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.06)!important;background:#ef4444!important;color:#fff!important;border-radius:.5rem!important;width:2.25rem!important;height:2.25rem!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;font-weight:700!important;transition:background-color .12s ease,transform .08s ease,box-shadow .12s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#dc2626!important;transform:translateY(-2px)!important;box-shadow:0 10px 30px #dc262624!important}.truck-modal-close[_ngcontent-%COMP%]:focus{outline:3px solid rgba(239,68,68,.18)!important;outline-offset:2px!important}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;line-height:1;min-height:1.8rem;box-sizing:border-box;box-shadow:var(--shadow-sm)}.status-pill[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.status-pill--enregistre[_ngcontent-%COMP%]{background:var(--info-bg);color:var(--info-text);border:1px solid var(--info-bg)}.status-pill--pending[_ngcontent-%COMP%]{background:var(--warning-bg);color:var(--warning-text);border:1px solid var(--warning-border)}.status-pill--validated[_ngcontent-%COMP%], .status-pill--accepted[_ngcontent-%COMP%]{background:var(--success-bg);color:var(--success-text);border:1px solid var(--success-border)}.status-pill--accepted-final[_ngcontent-%COMP%]{background:#ecfdf5;color:#064e3b;border:1px solid #059669}.status-pill--renvoye[_ngcontent-%COMP%]{background:#fff7ed;color:#c2410c;border:1px solid #ffedd5}.status-pill--reintegre[_ngcontent-%COMP%]{background:#f0fdfa;color:#0f766e;border:1px solid #ccfbf1}.status-pill--refoule[_ngcontent-%COMP%]{background:var(--danger-bg);color:var(--danger-text);border:1px solid var(--danger-border)}body.dark[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000004d}body.dark[_ngcontent-%COMP%]   .status-pill--enregistre[_ngcontent-%COMP%]{background:#1e40af33;color:#93c5fd;border-color:#1e40af4d}body.dark[_ngcontent-%COMP%]   .status-pill--pending[_ngcontent-%COMP%]{background:#92400e33;color:#fcd34d;border-color:#92400e4d}body.dark[_ngcontent-%COMP%]   .status-pill--validated[_ngcontent-%COMP%]{background:#16653433;color:#86efac;border-color:#1665344d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted[_ngcontent-%COMP%]{background:#14532d33;color:#6ee7b7;border-color:#14532d4d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted-final[_ngcontent-%COMP%]{background:#064e3b33;color:#34d399;border-color:#05966966}body.dark[_ngcontent-%COMP%]   .status-pill--renvoye[_ngcontent-%COMP%]{background:#9a341233;color:#fdba74;border-color:#9a34124d}body.dark[_ngcontent-%COMP%]   .status-pill--reintegre[_ngcontent-%COMP%]{background:#0f766e33;color:#5eead4;border-color:#0f766e4d}body.dark[_ngcontent-%COMP%]   .status-pill--refoule[_ngcontent-%COMP%]{background:#991b1b33;color:#fca5a5;border-color:#991b1b4d}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0;color:var(--text-primary)}body.dark[_ngcontent-%COMP%]   .modal__backdrop[_ngcontent-%COMP%]{background:#000000b3}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1e293b;border:1px solid rgba(255,255,255,.1)}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{color:#fff}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#0f172a;border-top-color:#ffffff1a}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition-normal);width:100%}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.truck-field[_ngcontent-%COMP%]   .truck-help[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{background:#0f172a;border-color:#ffffff1a;color:#fff}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.notification-banner[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;background:#f0fdf4;border:1px solid #bbf7d0;color:#166534;padding:1rem 1.5rem;border-radius:.75rem;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.16,1,.3,1);font-weight:600}.notification-banner[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#15803d}@media (max-width: 480px){.notification-banner[_ngcontent-%COMP%]{top:70px;right:10px;left:10px;justify-content:center}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}[_nghost-%COMP%]{--row-hover: rgba(43, 140, 238, .04);--card-shadow: 0 10px 40px -10px rgba(0, 0, 0, .08);--card-border: 1px solid rgba(0, 0, 0, .05);--transition: all .25s cubic-bezier(.4, 0, .2, 1)}.pageMain[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light)}.admin-root[_ngcontent-%COMP%], .admin-main[_ngcontent-%COMP%]{width:100%}.admin-scroll[_ngcontent-%COMP%]{padding:2rem 1.5rem;width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.page-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:.5rem}.page-head[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:800;color:var(--text-primary);letter-spacing:-.025em;margin:0}.page-head[_ngcontent-%COMP%]   .page-desc[_ngcontent-%COMP%]{margin:.5rem 0 0;color:var(--text-secondary);font-size:1rem;font-weight:500}.btn-primary[_ngcontent-%COMP%], .truck-submit[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background:var(--primary);color:#fff;border:none;border-radius:.75rem;padding:.875rem 1.5rem;font-size:.9375rem;font-weight:700;cursor:pointer;transition:var(--transition);box-shadow:0 10px 20px -5px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover, .truck-submit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 15px 25px -5px #2b8cee66;filter:brightness(1.1)}.btn-primary[_ngcontent-%COMP%]:active, .truck-submit[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-primary[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%], .truck-submit[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px}.card[_ngcontent-%COMP%]{background:#fff;border:var(--card-border);border-radius:1.25rem;box-shadow:var(--row-shadow, var(--card-shadow));overflow:hidden;transition:var(--transition)}.filters[_ngcontent-%COMP%]{padding:1.5rem}.filters[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 200px 200px;gap:1rem;align-items:center}@media (max-width: 900px){.filters[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{position:relative}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .left-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--text-secondary);opacity:.6;display:flex}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.8rem;border-radius:.75rem;border:1px solid var(--border-light);background:#fcfdfe;font-size:.9375rem;color:var(--text-primary);transition:var(--transition)}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#fff;border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.filters[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);background:#fcfdfe;font-size:.9375rem;color:var(--text-primary);cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2364748b'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='C19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .75rem center;background-size:1rem;transition:var(--transition)}.filters[_ngcontent-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.table-wrap[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#f8fafc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;text-align:left;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:var(--text-secondary);border-bottom:1px solid var(--border-light);white-space:nowrap}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff;transition:var(--transition)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--row-hover)}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   .row-actions[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]{opacity:1}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-bottom:1px solid var(--border-light);vertical-align:middle;font-size:.9375rem;color:var(--text-primary)}.user-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;min-width:200px}.user-cell[_ngcontent-%COMP%]   .initials[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;background:var(--primary-subtle);color:var(--primary);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1rem;flex-shrink:0}.user-cell[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;font-weight:700;color:var(--text-primary)}.user-cell[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{display:block;font-size:.8125rem;color:var(--text-secondary)}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .75rem;border-radius:.625rem;background:#f1f5f9;border:1px solid #e2e8f0;color:#475569;font-size:.8125rem;font-weight:700;white-space:nowrap}.badge[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:16px}.warehouse-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.625rem;font-weight:500;color:var(--text-primary)}.row-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}.row-actions[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:10px;border:1px solid var(--border-light);background:#fff;color:#64748b;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);opacity:.7}.row-actions[_ngcontent-%COMP%]   .mini-btn[_ngcontent-%COMP%]:hover{opacity:1;color:var(--primary);border-color:var(--primary);background:var(--primary-subtle);transform:scale(1.05)}.row-actions[_ngcontent-%COMP%]   .mini-btn.danger[_ngcontent-%COMP%]:hover{color:#ef4444;border-color:#fee2e2;background:#fef2f2}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:600px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.16,1,.3,1);overflow:hidden}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;overflow-y:auto;flex:1}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#cbd5e1}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-shrink:0}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.025em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%], .truck-field[_ngcontent-%COMP%]   .truck-select[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition)}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus, .truck-field[_ngcontent-%COMP%]   .truck-select[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.field-error[_ngcontent-%COMP%]{color:#ef4444;font-size:.8125rem;margin-top:.25rem}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem}.truck-submit[_ngcontent-%COMP%]{padding:.75rem 2rem}@media (max-width: 768px){.hide-md[_ngcontent-%COMP%]{display:none!important}}`]})};var oI=()=>["/dashboard/adminEmpotageMain"];function iI(n,t){if(n&1&&(s(0,"span",38),l(1),c()),n&2){let e=m();f(),k("\u2014 ",e.entrepotName)}}function aI(n,t){n&1&&(s(0,"tr")(1,"td",39)(2,"div",40)(3,"span",6),l(4,"content_paste_off"),c(),s(5,"p"),l(6,"Aucun empotage trouv\xE9"),c(),s(7,"small",41),l(8,"Modifiez vos filtres."),c()()()())}function sI(n,t){n&1&&(s(0,"tr")(1,"td",42)(2,"span",41),l(3,"Chargement des donn\xE9es..."),c()()())}function cI(n,t){if(n&1&&(ct(0),s(1,"div"),l(2),oe(3,"date"),c(),s(4,"small"),l(5),oe(6,"date"),c(),lt()),n&2){let e=m().$implicit;f(2),w(ce(3,2,e.dateEnd,"dd/MM/yyyy")),f(3),w(ce(6,5,e.dateEnd,"HH:mm"))}}function lI(n,t){n&1&&l(0,"-")}function dI(n,t){if(n&1){let e=V();s(0,"tr",43)(1,"td")(2,"div",44)(3,"div",45),l(4),c(),s(5,"span",46),l(6),c()()(),s(7,"td",46),l(8),c(),s(9,"td",47)(10,"span",48),l(11),c()(),s(12,"td"),l(13),oe(14,"number"),c(),s(15,"td",49)(16,"div"),l(17),oe(18,"date"),c(),s(19,"small"),l(20),oe(21,"date"),c()(),s(22,"td",49),E(23,cI,7,8,"ng-container",50)(24,lI,1,0,"ng-template",null,0,hp),c(),s(26,"td")(27,"span",51)(28,"span",6),l(29),c(),l(30),c()(),s(31,"td")(32,"div",52)(33,"div",53)(34,"button",54),_("click",function(){let o=v(e).$implicit,i=m();return y(i.openHistory(o))}),s(35,"span",6),l(36,"history"),c()()()()()()}if(n&2){let e=t.$implicit,r=ia(25);f(4),k(" ",e.client.charAt(0).toUpperCase()," "),f(2),w(e.client),f(2),w(e.booking),f(3),w(e.conteneurs),f(2),k("",ce(14,12,e.volume,"1.0-2")," m\xB3"),f(4),w(ce(18,15,e.dateStart,"dd/MM/yyyy")),f(3),w(ce(21,18,e.dateStart,"HH:mm")),f(3),b("ngIf",e.dateEnd)("ngIfElse",r),f(4),b("ngClass",e.status==="Termin\xE9"?"status-completed":"status-future"),f(2),k(" ",e.status==="Termin\xE9"?"check_circle":"hourglass_empty"," "),f(),k(" ",e.status," ")}}function uI(n,t){if(n&1){let e=V();s(0,"div",55)(1,"button",56),_("click",function(){v(e);let o=m();return y(o.prevPage())}),s(2,"span",6),l(3,"chevron_left"),c()(),s(4,"span",57),l(5),c(),s(6,"button",56),_("click",function(){v(e);let o=m();return y(o.nextPage())}),s(7,"span",6),l(8,"chevron_right"),c()()()}if(n&2){let e=m();f(),b("disabled",e.currentPage===1),f(4),Ft("Page ",e.currentPage," / ",e.totalPages),f(),b("disabled",e.currentPage===e.totalPages)}}function fI(n,t){if(n&1&&(s(0,"tr")(1,"td",75),l(2),c(),s(3,"td",76),l(4),c(),s(5,"td"),l(6),c(),s(7,"td"),l(8),c(),s(9,"td"),l(10),c(),s(11,"td",77),l(12),oe(13,"date"),c()()),n&2){let e=t.$implicit,r=m(2);f(2),w(r.selectedBookingHistory.booking),f(2),k(" ",e.numeroConteneur," "),f(2),w(e.nombreSacs),f(2),k("",e.volume," m\xB3"),f(2),k("",e.poids," kg"),f(2),k(" ",ce(13,6,e.createdAt,"dd/MM/yyyy HH:mm")," ")}}function pI(n,t){n&1&&(s(0,"tr")(1,"td",78),l(2," Aucun conteneur associ\xE9. "),c()())}function gI(n,t){if(n&1){let e=V();s(0,"div",58)(1,"div",59),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),c(),s(2,"div",60)(3,"div",61)(4,"h2",62),l(5),s(6,"span",51),l(7),c()(),s(8,"button",63),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),s(9,"span",6),l(10,"close"),c()()(),s(11,"div",64)(12,"div",65)(13,"div",66)(14,"label"),l(15,"Client"),c(),s(16,"span"),l(17),c()(),s(18,"div",66)(19,"label"),l(20,"D\xE9but"),c(),s(21,"span"),l(22),oe(23,"date"),c()(),s(24,"div",66)(25,"label"),l(26,"Fin"),c(),s(27,"span"),l(28),oe(29,"date"),c()()(),s(30,"div",67)(31,"h3",68),l(32),c()(),s(33,"div",69)(34,"table",70)(35,"thead")(36,"tr")(37,"th"),l(38,"N\xB0 booking"),c(),s(39,"th"),l(40,"N\xB0 Conteneur"),c(),s(41,"th"),l(42,"Sacs"),c(),s(43,"th"),l(44,"Volume empot\xE9"),c(),s(45,"th"),l(46,"Poids Net"),c(),s(47,"th"),l(48,"Date Ajout"),c()()(),s(49,"tbody"),E(50,fI,14,9,"tr",71)(51,pI,3,0,"tr",34),c()()()(),s(52,"div",72)(53,"div",73)(54,"button",12),_("click",function(){v(e);let o=m();return y(o.exportHistoryCsv())}),s(55,"span",6),l(56,"download"),c(),l(57," Exporter CSV "),c(),s(58,"button",74),_("click",function(){v(e);let o=m();return y(o.printOperation(o.selectedBookingHistory))}),s(59,"span",6),l(60,"print"),c(),l(61," Imprimer "),c()(),s(62,"button",74),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),l(63,"Fermer"),c()()()()}if(n&2){let e=m();f(5),k(" Historique: ",e.selectedBookingHistory.booking," "),f(),b("ngClass",e.selectedBookingHistory.status==="Termin\xE9"?"status-completed":"status-future"),f(),k(" ",e.selectedBookingHistory.status," "),f(10),w(e.selectedBookingHistory.client),f(5),w(ce(23,9,e.selectedBookingHistory.dateStart,"dd/MM/yyyy HH:mm")),f(6),w(e.selectedBookingHistory.dateEnd?ce(29,12,e.selectedBookingHistory.dateEnd,"dd/MM/yyyy HH:mm"):"-"),f(4),k(" LISTE DES CONTENEURS (",(e.selectedBookingHistory.containers==null?null:e.selectedBookingHistory.containers.length)||0,") "),f(18),b("ngForOf",e.selectedBookingHistory.containers),f(),b("ngIf",!e.selectedBookingHistory.containers||e.selectedBookingHistory.containers.length===0)}}function mI(n,t){if(n&1){let e=V();s(0,"div",58)(1,"div",59),_("click",function(){v(e);let o=m();return y(o.cancelDelete())}),c(),s(2,"div",79)(3,"div",61)(4,"h2",80),l(5,"Supprimer l'empotage"),c(),s(6,"button",63),_("click",function(){v(e);let o=m();return y(o.cancelDelete())}),s(7,"span",6),l(8,"close"),c()()(),s(9,"div",64)(10,"p",81),l(11," Voulez-vous vraiment supprimer cet empotage ? "),c(),s(12,"p",82),l(13," Cela supprimera \xE9galement tous les conteneurs associ\xE9s. Cette action est irr\xE9versible. "),c()(),s(14,"div",72)(15,"button",74),_("click",function(){v(e);let o=m();return y(o.cancelDelete())}),l(16,"Annuler"),c(),s(17,"button",83),_("click",function(){v(e);let o=m();return y(o.confirmDelete())}),l(18,"Supprimer"),c()()()()}}var gd=class n{route=x(Ke);warehouseService=x(Me);http=x(It);toastService=x(pt);entrepotId=0;entrepotName="";stats={total:0,today:0,week:0,month:0,year:0};search="";period="today";filterDate="";paginatedEmpotages=[];rawEmpotages=[];filteredEmpotages=[];loading=!1;currentPage=1;pageSize=10;get totalPages(){return Math.ceil(this.filteredEmpotages.length/this.pageSize)||1}showHistoryModal=!1;selectedBookingHistory=null;showDeleteModal=!1;itemToDelete=null;ngOnInit(){return ye(this,null,function*(){this.route.params.subscribe(t=>ye(this,null,function*(){this.entrepotId=+t.id,this.entrepotId&&(yield this.loadWarehouseInfo(),yield this.loadOperations())}))})}loadWarehouseInfo(){return ye(this,null,function*(){this.warehouseService.getWarehouse(this.entrepotId).subscribe({next:t=>{this.entrepotName=t.name},error:t=>console.error(t)})})}loadOperations(){return ye(this,null,function*(){this.loading=!0;try{let t=`${de.apiUrl}/empotages`;this.entrepotId&&(t+=`?entrepotId=${this.entrepotId}`);let e=yield it(this.http.get(t));this.rawEmpotages=e.sort((r,o)=>new Date(o.dateStart).getTime()-new Date(r.dateStart).getTime()),this.calculateStats(),this.applyFilters()}catch(t){console.error("Erreur chargement empotages admin",t)}finally{this.loading=!1}})}setPeriod(t){this.period=t,t!=="specific"&&(this.filterDate=""),this.applyFilters()}onDateChange(){this.filterDate?this.setPeriod("specific"):this.setPeriod("today")}applyFilters(){let t=[...this.rawEmpotages];if(this.search){let e=this.search.toLowerCase().trim();t=t.filter(r=>(r.booking||"").toLowerCase().includes(e)||(r.client||"").toLowerCase().includes(e))}t=t.filter(e=>this.isInSelectedPeriod(e.dateStart)),this.filteredEmpotages=t,this.currentPage=1,this.updatePagination()}updatePagination(){let t=(this.currentPage-1)*this.pageSize;this.paginatedEmpotages=this.filteredEmpotages.slice(t,t+this.pageSize)}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updatePagination())}prevPage(){this.currentPage>1&&(this.currentPage--,this.updatePagination())}isInSelectedPeriod(t){if(!t)return!1;let e=new Date(t),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=r.getDay()||7,a=new Date(o);a.setDate(a.getDate()-(i-1));let d=new Date(r.getFullYear(),r.getMonth(),1),u=new Date(r.getFullYear(),0,1);if(this.period==="specific"&&this.filterDate){let p=new Date(t),g=p.getFullYear(),h=String(p.getMonth()+1).padStart(2,"0"),M=String(p.getDate()).padStart(2,"0");return`${g}-${h}-${M}`===this.filterDate}return this.period==="today"?e.toDateString()===r.toDateString():this.period==="week"?e>=a:this.period==="month"?e>=d:this.period==="year"?e>=u:!0}calculateStats(){let t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=t.getDay()||7,o=new Date(e);o.setDate(o.getDate()-(r-1));let i=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),0,1),d=this.rawEmpotages;this.stats={total:d.length,today:d.filter(u=>u.dateStart&&new Date(u.dateStart).toDateString()===t.toDateString()).length,week:d.filter(u=>u.dateStart&&new Date(u.dateStart)>=o).length,month:d.filter(u=>u.dateStart&&new Date(u.dateStart)>=i).length,year:d.filter(u=>u.dateStart&&new Date(u.dateStart)>=a).length}}exportAllCsv(){return ye(this,null,function*(){let t=[["Client","Booking","Conteneurs","Volume","Date D\xE9but","Date Fin","Statut"]];this.filteredEmpotages.forEach(a=>{t.push([a.client||"",a.booking||"",a.conteneurs.toString(),a.volume.toFixed(2).replace(".",","),a.dateStart?new Date(a.dateStart).toLocaleDateString()+" "+new Date(a.dateStart).toLocaleTimeString():"",a.dateEnd?new Date(a.dateEnd).toLocaleDateString()+" "+new Date(a.dateEnd).toLocaleTimeString():"",a.status])});let e=t.map(a=>a.map(d=>`"${String(d).replace(/"/g,'""')}"`).join(";")).join(`\r
`),r=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download",`empotages_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)})}openHistory(t){return ye(this,null,function*(){if(t.id){this.selectedBookingHistory=t;try{let e=yield it(this.http.get(`${de.apiUrl}/empotages/${t.id}`));this.selectedBookingHistory.containers=e.containers,this.showHistoryModal=!0}catch(e){console.error(e)}}})}closeHistoryModal(){this.showHistoryModal=!1,this.selectedBookingHistory=null}exportHistoryCsv(){!this.selectedBookingHistory||!this.selectedBookingHistory.id||(window.location.href=`${de.apiUrl}/empotages/${this.selectedBookingHistory.id}/export`)}deleteEmpotage(t){this.itemToDelete=t,this.showDeleteModal=!0}cancelDelete(){this.showDeleteModal=!1,this.itemToDelete=null}confirmDelete(){return ye(this,null,function*(){if(!(!this.itemToDelete||!this.itemToDelete.id))try{yield it(this.http.delete(`${de.apiUrl}/empotages/${this.itemToDelete.id}`)),this.rawEmpotages=this.rawEmpotages.filter(t=>t.id!==this.itemToDelete.id),this.applyFilters(),this.calculateStats(),this.showDeleteModal=!1,this.itemToDelete=null,this.toastService.success("Empotage supprim\xE9")}catch(t){console.error(t),this.toastService.error("Erreur lors de la suppression")}})}printOperation(t){if(!t)return;let e=window.open("","_blank","width=1000,height=800,top=50,left=50");if(!e){this.toastService.warning("La fen\xEAtre d'impression a \xE9t\xE9 bloqu\xE9e. Veuillez autoriser les popups.");return}let r=t.containers?.map(i=>`
      <tr>
        <td>${i.numeroConteneur}</td>
        <td>${i.nombreSacs}</td>
        <td>${i.volume} m\xB3</td>
        <td>${i.poids} kg</td>
      </tr>
    `).join("")||'<tr><td colspan="4" style="text-align:center;">Aucun conteneur</td></tr>',o=`
      <html>
        <head>
          <title>Impression Empotage - ${t.booking}</title>
          <style>
             body { font-family: sans-serif; padding: 40px; color: #333; }
             .header { border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; }
             h1 { margin: 0; font-size: 24px; }
             .meta { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 30px; }
             .meta-item { display: flex; flex-direction: column; }
             .label { font-weight: bold; font-size: 12px; text-transform: uppercase; color: #666; }
             .value { font-size: 16px; margin-top: 4px; }
             table { width: 100%; border-collapse: collapse; margin-top: 20px; }
             th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
             th { background-color: #f5f5f5; font-weight: bold; }
             .footer { margin-top: 50px; font-size: 12px; color: #999; text-align: center; border-top: 1px solid #eee; padding-top: 20px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Bon d'Empotage</h1>
            <div style="text-align: right;">
               <div style="font-size: 14px; font-weight: bold;">${new Date().toLocaleDateString()}</div>
            </div>
          </div>
          
          <div class="meta">
            <div class="meta-item">
              <span class="label">Booking</span>
              <span class="value">${t.booking}</span>
            </div>
            <div class="meta-item">
              <span class="label">Client</span>
              <span class="value">${t.client}</span>
            </div>
             <div class="meta-item">
              <span class="label">Date D\xE9but</span>
              <span class="value">${new Date(t.dateStart).toLocaleDateString()} ${new Date(t.dateStart).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}</span>
            </div>
            <div class="meta-item">
              <span class="label">Statut</span>
              <span class="value">${t.status}</span>
            </div>
            <div class="meta-item">
              <span class="label">Total Conteneurs</span>
              <span class="value">${t.conteneurs}</span>
            </div>
            <div class="meta-item">
              <span class="label">Volume Total</span>
              <span class="value">${t.volume} m\xB3</span>
            </div>
          </div>

          <h3>Liste des Conteneurs</h3>
          <table>
            <thead>
              <tr>
                <th>N\xB0 Conteneur</th>
                <th>Sacs</th>
                <th>Volume</th>
                <th>Poids</th>
              </tr>
            </thead>
            <tbody>
              ${r}
            </tbody>
          </table>

          <div class="footer">
             G\xE9n\xE9r\xE9 automatiquement par le syst\xE8me de Gestion Entrep\xF4t
          </div>

          <script>
            window.onload = function() { window.print(); window.close(); }
          <\/script>
        </body>
      </html>
    `;e.document.open(),e.document.write(o),e.document.close()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-admin-empotage"]],decls:114,vars:26,consts:[["noDate",""],[1,"page-container"],[1,"page-header"],[1,"page-title-block"],[1,"title-with-back"],["type","button","title","Retour",1,"btn-icon-back",3,"routerLink"],[1,"material-symbols-outlined","notranslate"],[1,"title-content"],[1,"page-title"],["class","warehouse-name",4,"ngIf"],[1,"page-subtitle"],[1,"material-symbols-outlined","notranslate","icon-subtitle"],[1,"btn","btn-primary",3,"click"],[1,"stats-grid"],[1,"card","stat-card"],[1,"icon-box","bg-blue-100","text-blue-600"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value"],[1,"icon-box","bg-purple-100","text-purple-600"],[1,"icon-box","bg-green-100","text-green-600"],[1,"icon-box","bg-orange-100","text-orange-600"],[1,"controls-area"],[1,"search-and-filters"],[1,"search-box"],[1,"material-symbols-outlined","notranslate","search-icon"],["type","text","placeholder","Recherche client ou booking...",3,"ngModelChange","ngModel"],[1,"period-selector"],[3,"click"],[1,"date-input-wrapper"],[1,"material-symbols-outlined","notranslate","input-icon"],["type","date",3,"ngModelChange","ngModel"],[1,"card","table-card"],[1,"table-wrap"],[4,"ngIf"],["class","row-hover",4,"ngFor","ngForOf"],["class","pagination",4,"ngIf"],["class","modal-root",4,"ngIf"],[1,"warehouse-name"],["colspan","8",2,"padding","0"],[1,"empty-state-content"],[2,"color","var(--text-secondary)"],["colspan","8",2,"padding","3rem","text-align","center"],[1,"row-hover"],[1,"client-info"],[1,"client-avatar"],[1,"cell-bold"],[1,"text-center"],[1,"badge-count"],[1,"cell-muted"],[4,"ngIf","ngIfElse"],[1,"status-pill",3,"ngClass"],[1,"actions-group"],[1,"actions-subgroup"],["title","Historique / D\xE9tails",1,"action-btn","btn-history",3,"click"],[1,"pagination"],[1,"pagination-btn",3,"click","disabled"],[1,"pagination-info"],[1,"modal-root"],[1,"modal-backdrop",3,"click"],[1,"modal-panel","large"],[1,"modal-header"],[1,"modal-title"],[1,"btn-close-icon",3,"click"],[1,"modal-body"],[1,"history-summary"],[1,"summary-item"],[2,"display","flex","justify-content","space-between","align-items","center","margin-bottom","0.75rem"],[2,"font-size","1rem","font-weight","700","color","var(--text-secondary)","margin","0"],[1,"history-table-container"],[2,"width","100%"],[4,"ngFor","ngForOf"],[1,"modal-footer","space-between"],[2,"display","flex","gap","0.5rem"],[1,"btn","btn-secondary",3,"click"],[2,"font-weight","700"],[2,"font-weight","700","color","var(--text-primary)"],[2,"color","var(--text-tertiary)"],["colspan","6",2,"text-align","center","padding","2rem","color","#94a3b8"],[1,"modal-panel","mini"],[1,"modal-title",2,"color","#ef4444"],[2,"color","var(--text-primary)","font-weight","600","text-align","center"],[2,"font-size","0.9em","color","var(--text-tertiary)","text-align","center"],[1,"btn","btn-danger",3,"click"]],template:function(e,r){e&1&&(s(0,"div",1)(1,"header",2)(2,"div",3)(3,"div",4)(4,"button",5)(5,"span",6),l(6,"arrow_back"),c()(),s(7,"div",7)(8,"h1",8),l(9," Supervision des Empotages "),E(10,iI,2,1,"span",9),c(),s(11,"p",10)(12,"span",11),l(13,"admin_panel_settings"),c(),l(14," Vue administrateur - Monitoring temps r\xE9el des op\xE9rations "),c()()()(),s(15,"button",12),_("click",function(){return r.exportAllCsv()}),s(16,"span",6),l(17,"download"),c(),s(18,"span"),l(19,"Exporter en CSV"),c()()(),s(20,"section",13)(21,"article",14)(22,"div",15)(23,"span",6),l(24,"inventory_2"),c()(),s(25,"div",16)(26,"p",17),l(27,"Total"),c(),s(28,"p",18),l(29),oe(30,"number"),c()()(),s(31,"article",14)(32,"div",15)(33,"span",6),l(34,"today"),c()(),s(35,"div",16)(36,"p",17),l(37,"Aujourd'hui"),c(),s(38,"p",18),l(39),c()()(),s(40,"article",14)(41,"div",19)(42,"span",6),l(43,"date_range"),c()(),s(44,"div",16)(45,"p",17),l(46,"Cette semaine"),c(),s(47,"p",18),l(48),c()()(),s(49,"article",14)(50,"div",20)(51,"span",6),l(52,"calendar_month"),c()(),s(53,"div",16)(54,"p",17),l(55,"Ce mois"),c(),s(56,"p",18),l(57),c()()(),s(58,"article",14)(59,"div",21)(60,"span",6),l(61,"event"),c()(),s(62,"div",16)(63,"p",17),l(64,"Cette ann\xE9e"),c(),s(65,"p",18),l(66),c()()()(),s(67,"section",22)(68,"div",23)(69,"div",24)(70,"span",25),l(71,"search"),c(),s(72,"input",26),A("ngModelChange",function(i){return N(r.search,i)||(r.search=i),i}),_("ngModelChange",function(){return r.applyFilters()}),c()(),s(73,"div",27)(74,"button",28),_("click",function(){return r.setPeriod("today")}),l(75," Aujourd'hui "),c(),s(76,"button",28),_("click",function(){return r.setPeriod("week")}),l(77,"Semaine"),c(),s(78,"button",28),_("click",function(){return r.setPeriod("month")}),l(79,"Mois"),c(),s(80,"button",28),_("click",function(){return r.setPeriod("year")}),l(81,"Ann\xE9e"),c()(),s(82,"div",29)(83,"span",30),l(84,"calendar_today"),c(),s(85,"input",31),A("ngModelChange",function(i){return N(r.filterDate,i)||(r.filterDate=i),i}),_("ngModelChange",function(){return r.onDateChange()}),c()()()(),s(86,"div",32)(87,"div",33)(88,"table")(89,"thead")(90,"tr")(91,"th"),l(92,"Client"),c(),s(93,"th"),l(94,"Booking"),c(),s(95,"th"),l(96,"Conteneurs"),c(),s(97,"th"),l(98,"Volume"),c(),s(99,"th"),l(100,"D\xE9but"),c(),s(101,"th"),l(102,"Fin"),c(),s(103,"th"),l(104,"Statut"),c(),s(105,"th"),l(106,"Action"),c()()(),s(107,"tbody"),E(108,aI,9,0,"tr",34)(109,sI,4,0,"tr",34)(110,dI,37,21,"tr",35),c()()(),E(111,uI,9,4,"div",36),c(),E(112,gI,64,15,"div",37)(113,mI,19,0,"div",37),c()),e&2&&(f(4),b("routerLink",fp(25,oI)),f(6),b("ngIf",r.entrepotName),f(19),w(ca(30,23,r.stats.total)),f(10),w(r.stats.today),f(9),w(r.stats.week),f(9),w(r.stats.month),f(9),w(r.stats.year),f(6),T("ngModel",r.search),f(2),W("active",r.period==="today"),f(2),W("active",r.period==="week"),f(2),W("active",r.period==="month"),f(2),W("active",r.period==="year"),f(5),T("ngModel",r.filterDate),f(23),b("ngIf",r.filteredEmpotages.length===0&&!r.loading),f(),b("ngIf",r.loading),f(),b("ngForOf",r.paginatedEmpotages),f(),b("ngIf",r.totalPages>1),f(),b("ngIf",r.showHistoryModal&&r.selectedBookingHistory),f(),b("ngIf",r.showDeleteModal))},dependencies:[ae,vt,be,me,Se,xe,De,Oe,Tt,_a,tt],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1d4ed8;--primary-subtle: #e7edf3;--success-bg: #dcfce7;--success-text: #166534;--success-border: #dcfce7;--warning-bg: #fffbeb;--warning-text: #b45309;--warning-border: #fef3c7;--danger-bg: #fee2e2;--danger-text: #991b1b;--danger-border: #fecaca;--danger-solid: #ef4444;--info-bg: #e0f2fe;--info-text: #0284c7;--background-light: #f6f7f8;--background-white: #ffffff;--background-dark: #101922;--text-primary: #0d141b;--text-secondary: #4c739a;--text-tertiary: #94a3b8;--border-light: #e2e8f0;--border-medium: #cbd5e1;--border-dark: #1f2933;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-card: 0 10px 40px -10px rgba(0, 0, 0, .08);--shadow-float: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease-in-out;--transition-normal: all .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .35s cubic-bezier(.16, 1, .3, 1);--header-height: 72px;--sidebar-width: 280px}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#e5e7eb}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;translate:no}.material-symbols-outlined.notranslate[_ngcontent-%COMP%]{translate:no}.page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);padding:2rem 1.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:var(--text-primary);text-shadow:0 2px 10px rgba(43,140,238,.1);letter-spacing:-.025em;margin:0;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-top:.5rem;font-weight:500}.card[_ngcontent-%COMP%]{background:var(--background-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);border:1px solid rgba(0,0,0,.03);padding:1.5rem;transition:var(--transition-normal)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-float)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.95rem;cursor:pointer;transition:var(--transition-normal);border:none;outline:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;box-shadow:0 4px 12px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 16px #2b8cee66}.btn-secondary[_ngcontent-%COMP%]{background:var(--background-white);border:1px solid var(--border-light);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:var(--border-medium)}.btn-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);cursor:pointer;transition:var(--transition-normal)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary);border-color:var(--primary)}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gap-1[_ngcontent-%COMP%]{gap:.25rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.w-full[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none!important}.responsive-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.truck-modal-close[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.06)!important;background:#ef4444!important;color:#fff!important;border-radius:.5rem!important;width:2.25rem!important;height:2.25rem!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;font-weight:700!important;transition:background-color .12s ease,transform .08s ease,box-shadow .12s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#dc2626!important;transform:translateY(-2px)!important;box-shadow:0 10px 30px #dc262624!important}.truck-modal-close[_ngcontent-%COMP%]:focus{outline:3px solid rgba(239,68,68,.18)!important;outline-offset:2px!important}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;line-height:1;min-height:1.8rem;box-sizing:border-box;box-shadow:var(--shadow-sm)}.status-pill[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.status-pill--enregistre[_ngcontent-%COMP%]{background:var(--info-bg);color:var(--info-text);border:1px solid var(--info-bg)}.status-pill--pending[_ngcontent-%COMP%]{background:var(--warning-bg);color:var(--warning-text);border:1px solid var(--warning-border)}.status-pill--validated[_ngcontent-%COMP%], .status-pill--accepted[_ngcontent-%COMP%]{background:var(--success-bg);color:var(--success-text);border:1px solid var(--success-border)}.status-pill--accepted-final[_ngcontent-%COMP%]{background:#ecfdf5;color:#064e3b;border:1px solid #059669}.status-pill--renvoye[_ngcontent-%COMP%]{background:#fff7ed;color:#c2410c;border:1px solid #ffedd5}.status-pill--reintegre[_ngcontent-%COMP%]{background:#f0fdfa;color:#0f766e;border:1px solid #ccfbf1}.status-pill--refoule[_ngcontent-%COMP%]{background:var(--danger-bg);color:var(--danger-text);border:1px solid var(--danger-border)}body.dark[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000004d}body.dark[_ngcontent-%COMP%]   .status-pill--enregistre[_ngcontent-%COMP%]{background:#1e40af33;color:#93c5fd;border-color:#1e40af4d}body.dark[_ngcontent-%COMP%]   .status-pill--pending[_ngcontent-%COMP%]{background:#92400e33;color:#fcd34d;border-color:#92400e4d}body.dark[_ngcontent-%COMP%]   .status-pill--validated[_ngcontent-%COMP%]{background:#16653433;color:#86efac;border-color:#1665344d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted[_ngcontent-%COMP%]{background:#14532d33;color:#6ee7b7;border-color:#14532d4d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted-final[_ngcontent-%COMP%]{background:#064e3b33;color:#34d399;border-color:#05966966}body.dark[_ngcontent-%COMP%]   .status-pill--renvoye[_ngcontent-%COMP%]{background:#9a341233;color:#fdba74;border-color:#9a34124d}body.dark[_ngcontent-%COMP%]   .status-pill--reintegre[_ngcontent-%COMP%]{background:#0f766e33;color:#5eead4;border-color:#0f766e4d}body.dark[_ngcontent-%COMP%]   .status-pill--refoule[_ngcontent-%COMP%]{background:#991b1b33;color:#fca5a5;border-color:#991b1b4d}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0;color:var(--text-primary)}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;overflow-y:auto;flex:1}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem}body.dark[_ngcontent-%COMP%]   .modal__backdrop[_ngcontent-%COMP%]{background:#000000b3}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1e293b;border:1px solid rgba(255,255,255,.1)}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{color:#fff}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#0f172a;border-top-color:#ffffff1a}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition-normal);width:100%}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.truck-field[_ngcontent-%COMP%]   .truck-help[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{background:#0f172a;border-color:#ffffff1a;color:#fff}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.notification-banner[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;background:#f0fdf4;border:1px solid #bbf7d0;color:#166534;padding:1rem 1.5rem;border-radius:.75rem;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.16,1,.3,1);font-weight:600}.notification-banner[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#15803d}@media (max-width: 480px){.notification-banner[_ngcontent-%COMP%]{top:70px;right:10px;left:10px;justify-content:center}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}[_nghost-%COMP%]{display:block}.title-with-back[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem}.title-with-back[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-icon-back[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;border:1px solid var(--border-light);background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:var(--text-secondary);flex-shrink:0;box-shadow:0 1px 2px #0000000d}.btn-icon-back[_ngcontent-%COMP%]:hover{background:var(--primary);color:#fff;border-color:var(--primary);transform:translate(-2px);box-shadow:0 4px 6px -1px #0000001a}.page-title[_ngcontent-%COMP%]   .warehouse-name[_ngcontent-%COMP%]{color:var(--primary);font-weight:300;opacity:.8;font-size:.7em;margin-left:.5rem;display:inline-block}.page-subtitle[_ngcontent-%COMP%]{margin:.5rem 0 0;color:var(--text-secondary);font-size:1rem;font-weight:500;display:flex;align-items:center;gap:.5rem}.page-subtitle[_ngcontent-%COMP%]   .icon-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--primary)}.controls-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1.5rem;margin-top:1rem;margin-bottom:1rem}.search-and-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.search-box[_ngcontent-%COMP%]{position:relative;width:100%;max-width:350px}.search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);font-size:20px;color:var(--primary)}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.75rem;border-radius:.9rem;border:1px solid var(--border-light);font-size:.875rem;transition:all .2s;background:#fff}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 3px #2b8cee1a;outline:none}.period-selector[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-light);padding:.25rem;border-radius:.5rem;display:flex;gap:.25rem;box-shadow:0 1px 2px #0000000d}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;padding:.4rem .8rem;border-radius:.375rem;font-size:.85rem;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:all .2s}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;color:var(--text-primary)}.period-selector[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff;box-shadow:0 1px 2px #3b82f64d}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid var(--border-light);border-radius:.5rem;padding:0 .75rem;display:flex;align-items:center;height:40px;box-shadow:0 1px 2px #0000000d;transition:box-shadow .2s}.date-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.date-input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin-right:.5rem}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;font-size:.9rem;color:var(--text-primary);font-family:inherit;background:transparent;cursor:pointer}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer}@media (max-width: 992px){.controls-area[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.search-and-filters[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;width:100%;gap:1rem}.search-box[_ngcontent-%COMP%]{max-width:100%;width:100%}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem}@media (max-width: 1024px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 640px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem}.stat-card[_ngcontent-%COMP%]:hover   .icon-box[_ngcontent-%COMP%]{transform:scale(1.1)}.icon-box[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;transition:transform .2s ease;flex-shrink:0}.icon-box[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-label[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--text-secondary);font-weight:600;text-transform:uppercase;letter-spacing:.05em;margin:0}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;line-height:normal}.custom-select[_ngcontent-%COMP%], .date-input[_ngcontent-%COMP%]{padding:.75rem 1rem;background:#fff;border:1px solid var(--border-light);border-radius:.9rem;font-size:.875rem;color:var(--text-primary);font-family:inherit;transition:all .2s;cursor:pointer}.custom-select[_ngcontent-%COMP%]:focus, .date-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);outline:none;box-shadow:0 0 0 3px #2b8cee1a}.btn-icon-reset[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50%;border:1px solid var(--border-light);background:#fff;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.btn-icon-reset[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary)}.table-card[_ngcontent-%COMP%]{padding:0!important}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-light);border-radius:1rem;box-shadow:0 4px 6px -1px #00000005;overflow:hidden}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;width:100%}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}th[_ngcontent-%COMP%]{position:sticky;top:0;background:#f8fafc;text-align:left;padding:.75rem 1rem;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-secondary);font-weight:700;border-bottom:1px solid var(--border-light);z-index:10;white-space:nowrap}td[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.9rem;color:var(--text-primary);border-bottom:1px solid var(--border-light);vertical-align:middle;transition:background-color .15s}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f8fafc}.empty-state-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center;color:var(--text-secondary)}.empty-state-content[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.empty-state-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--text-primary);margin:0 0 .5rem}.empty-state-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.9rem}.client-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-weight:600;color:var(--text-primary)}.client-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.8rem}.booking-link[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-weight:500}.booking-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.25rem}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:6px;border:none;background:transparent;color:#64748b;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:var(--primary)}.btn-icon[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:20px}.font-medium[_ngcontent-%COMP%]{font-weight:600}.font-bold[_ngcontent-%COMP%]{font-weight:700}.text-muted[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem}.pagination-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;background:var(--background-white);border-top:1px solid var(--border-light)}.page-info[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.pagination-controls[_ngcontent-%COMP%]{display:flex;gap:.5rem}.pagination-controls[_ngcontent-%COMP%]   .btn-page[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:1px solid var(--border-light);background:#fff;border-radius:10px;cursor:pointer;color:var(--text-secondary);transition:var(--transition-normal)}.pagination-controls[_ngcontent-%COMP%]   .btn-page[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-subtle);color:var(--primary);border-color:var(--primary)}.pagination-controls[_ngcontent-%COMP%]   .btn-page[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:#f8fafc}.bg-blue-100[_ngcontent-%COMP%]{background-color:#dbeafe}.text-blue-600[_ngcontent-%COMP%]{color:#2563eb}.bg-orange-100[_ngcontent-%COMP%]{background-color:#ffedd5}.text-orange-600[_ngcontent-%COMP%]{color:#ea580c}.bg-green-100[_ngcontent-%COMP%]{background-color:#dcfce7}.text-green-600[_ngcontent-%COMP%]{color:#166534}.bg-purple-100[_ngcontent-%COMP%]{background-color:#f3e8ff}.text-purple-600[_ngcontent-%COMP%]{color:#9333ea}.bg-pink-100[_ngcontent-%COMP%]{background-color:#fce7f3}.text-pink-600[_ngcontent-%COMP%]{color:#db2777}.client-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.client-info[_ngcontent-%COMP%]   .client-avatar[_ngcontent-%COMP%]{width:36px;height:36px;background:#f1f5f9;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#475569;font-size:.85rem;flex-shrink:0}.badge-count[_ngcontent-%COMP%]{display:inline-block;font-weight:700;background:#f1f5f9;padding:.25rem .65rem;border-radius:6px;color:#334155;font-size:.85rem}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;padding:.35rem .85rem;border-radius:9999px;font-size:.8rem;font-weight:600;white-space:nowrap}.status-pill[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px}.status-pill.status-completed[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;border:1px solid transparent}.status-pill.status-future[_ngcontent-%COMP%]{background:#fff;color:#475569;border:1px solid #e2e8f0}.actions-group[_ngcontent-%COMP%]{display:flex;justify-content:center}.actions-subgroup[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.25rem;width:fit-content}.action-btn[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:6px;border:1px solid #cbd5e1;background:#fff;color:#64748b;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.action-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;color:var(--primary);border-color:var(--primary);transform:translateY(-1px);box-shadow:0 2px 4px #0000000d}.action-btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px}.cell-bold[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.cell-muted[_ngcontent-%COMP%]{color:#64748b;font-size:.85rem;line-height:1.4;white-space:pre-line}.modal-root[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1050;display:flex;align-items:center;justify-content:center;padding:1rem}.modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a80;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1}.modal-panel[_ngcontent-%COMP%]{position:relative;z-index:2;background:#fff;border-radius:1.25rem;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:100%;max-width:500px;display:flex;flex-direction:column;max-height:calc(100vh - 4rem);animation:_ngcontent-%COMP%_modalSlideUp .3s cubic-bezier(.16,1,.3,1)}.modal-panel.large[_ngcontent-%COMP%]{max-width:800px}.modal-panel.mini[_ngcontent-%COMP%]{max-width:400px}@keyframes _ngcontent-%COMP%_modalSlideUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0;display:flex;align-items:center;gap:.75rem}.btn-close-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:10px;border:1px solid transparent;background:transparent;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.btn-close-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--text-primary)}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;overflow-y:auto}.modal-body[_ngcontent-%COMP%]   .history-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;background:#f8fafc;padding:1rem;border-radius:.75rem;margin-bottom:1.5rem}.modal-body[_ngcontent-%COMP%]   .history-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.modal-body[_ngcontent-%COMP%]   .history-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:#64748b;font-weight:600}.modal-body[_ngcontent-%COMP%]   .history-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#0f172a;font-size:.95rem}.modal-body[_ngcontent-%COMP%]   .history-table-container[_ngcontent-%COMP%]{border:1px solid var(--border-light);border-radius:.75rem;overflow:hidden}.modal-body[_ngcontent-%COMP%]   .history-table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f1f5f9;padding:.75rem 1rem;font-size:.75rem;text-transform:uppercase;color:#64748b;font-weight:700;text-align:left}.modal-body[_ngcontent-%COMP%]   .history-table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;border-bottom:1px solid #f1f5f9;font-size:.9rem;color:#334155}.modal-body[_ngcontent-%COMP%]   .history-table-container[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.modal-footer[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;border-radius:0 0 1.25rem 1.25rem;display:flex;gap:1rem}.modal-footer.space-between[_ngcontent-%COMP%]{justify-content:space-between}.modal-footer.justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:none}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626}']})};function hI(n,t){n&1&&(s(0,"tr")(1,"td",25)(2,"div",26)(3,"span",5),l(4,"content_paste_off"),c(),s(5,"p"),l(6,"Aucun empotage trouv\xE9"),c(),s(7,"small",27),l(8,"Modifiez vos filtres ou cr\xE9ez un nouvel enregistrement."),c()()()())}function bI(n,t){n&1&&(s(0,"tr")(1,"td",28)(2,"span",27),l(3,"Chargement des donn\xE9es..."),c()()())}function _I(n,t){if(n&1){let e=V();s(0,"button",43),_("click",function(){v(e);let o=m().$implicit,i=m();return y(i.openFinalizeManually(o))}),s(1,"span",5),l(2,"check_circle"),c()()}}function vI(n,t){if(n&1){let e=V();s(0,"tr",29)(1,"td")(2,"div",30)(3,"div",31),l(4),c(),s(5,"span",32),l(6),c()()(),s(7,"td",32),l(8),c(),s(9,"td",33)(10,"span",34),l(11),c()(),s(12,"td"),l(13),oe(14,"number"),c(),s(15,"td",35),l(16),oe(17,"date"),c(),s(18,"td",35),l(19),oe(20,"date"),c(),s(21,"td")(22,"span",36)(23,"span",5),l(24),c(),l(25),c()(),s(26,"td")(27,"div",16)(28,"div",37)(29,"button",38),_("click",function(){let o=v(e).$implicit,i=m();return y(i.openAddContainerModal(o))}),s(30,"span",5),l(31,"add_box"),c()(),E(32,_I,3,0,"button",39),H(33,"div",40),s(34,"button",41),_("click",function(){let o=v(e).$implicit,i=m();return y(i.openHistory(o))}),s(35,"span",5),l(36,"history"),c()(),s(37,"button",42),_("click",function(){let o=v(e).$implicit,i=m();return y(i.deleteEmpotage(o))}),s(38,"span",5),l(39,"delete"),c()()()()()()}if(n&2){let e=t.$implicit;f(4),k(" ",e.client.charAt(0).toUpperCase()," "),f(2),w(e.client),f(2),w(e.booking),f(3),w(e.conteneurs),f(2),k("",ce(14,12,e.volume,"1.0-2")," m\xB3"),f(3),w(ce(17,15,e.dateStart,"dd/MM/yyyy HH:mm")),f(3),k(" ",e.dateEnd?ce(20,18,e.dateEnd,"dd/MM/yyyy HH:mm"):"-"," "),f(3),b("ngClass",e.status==="Termin\xE9"?"status-completed":"status-future"),f(2),k(" ",e.status==="Termin\xE9"?"check_circle":"hourglass_empty"," "),f(),k(" ",e.status," "),f(4),b("disabled",e.status==="Termin\xE9"),f(3),b("ngIf",e.status!=="Termin\xE9")}}function yI(n,t){if(n&1){let e=V();s(0,"div",44)(1,"button",45),_("click",function(){v(e);let o=m();return y(o.prevPage())}),s(2,"span",5),l(3,"chevron_left"),c()(),s(4,"span",46),l(5),c(),s(6,"button",45),_("click",function(){v(e);let o=m();return y(o.nextPage())}),s(7,"span",5),l(8,"chevron_right"),c()()()}if(n&2){let e=m();f(),b("disabled",e.currentPage===1),f(4),Ft("Page ",e.currentPage," / ",e.totalPages),f(),b("disabled",e.currentPage===e.totalPages)}}function CI(n,t){if(n&1&&(s(0,"div",69),l(1),c()),n&2){let e=m(2);f(),k(" ",e.errorMessage," ")}}function xI(n,t){if(n&1){let e=V();s(0,"div",47)(1,"div",48),_("click",function(){v(e);let o=m();return y(o.closeInitModal())}),c(),s(2,"div",49)(3,"div",50)(4,"h2",51),l(5,"Nouveau Booking"),c(),s(6,"button",52),_("click",function(){v(e);let o=m();return y(o.closeInitModal())}),s(7,"span",5),l(8,"close"),c()()(),s(9,"div",53)(10,"div",54)(11,"div",55)(12,"div",56)(13,"label",57),l(14,"Client "),s(15,"span",58),l(16,"*"),c()(),s(17,"input",59),A("ngModelChange",function(o){v(e);let i=m();return N(i.formInit.client,o)||(i.formInit.client=o),y(o)}),c()(),s(18,"div",56)(19,"label",57),l(20,"N\xB0 Booking "),s(21,"span",58),l(22,"*"),c()(),s(23,"input",60),A("ngModelChange",function(o){v(e);let i=m();return N(i.formInit.booking,o)||(i.formInit.booking=o),y(o)}),c()()(),H(24,"hr",61),s(25,"p",62),l(26,"Premier Conteneur"),c(),s(27,"div",56)(28,"label",57),l(29,"N\xB0 Conteneur "),s(30,"span",58),l(31,"*"),c()(),s(32,"input",63),A("ngModelChange",function(o){v(e);let i=m();return N(i.formInit.numeroConteneur,o)||(i.formInit.numeroConteneur=o),y(o)}),c()(),s(33,"div",64)(34,"div",56)(35,"label",57),l(36,"Sacs "),s(37,"span",58),l(38,"*"),c()(),s(39,"input",65),A("ngModelChange",function(o){v(e);let i=m();return N(i.formInit.nombreSacs,o)||(i.formInit.nombreSacs=o),y(o)}),c()(),s(40,"div",56)(41,"label",57),l(42,"Volume (m\xB3) "),s(43,"span",58),l(44,"*"),c()(),s(45,"input",65),A("ngModelChange",function(o){v(e);let i=m();return N(i.formInit.volume,o)||(i.formInit.volume=o),y(o)}),c()(),s(46,"div",56)(47,"label",57),l(48,"Poids (kg) "),s(49,"span",58),l(50,"*"),c()(),s(51,"input",65),A("ngModelChange",function(o){v(e);let i=m();return N(i.formInit.poids,o)||(i.formInit.poids=o),y(o)}),c()()()(),E(52,CI,2,1,"div",66),c(),s(53,"div",67)(54,"button",68),_("click",function(){v(e);let o=m();return y(o.closeInitModal())}),l(55,"Annuler"),c(),s(56,"button",17),_("click",function(){v(e);let o=m();return y(o.submitInit())}),l(57),c()()()()}if(n&2){let e=m();f(17),T("ngModel",e.formInit.client),f(6),T("ngModel",e.formInit.booking),f(9),T("ngModel",e.formInit.numeroConteneur),f(7),T("ngModel",e.formInit.nombreSacs),f(6),T("ngModel",e.formInit.volume),f(6),T("ngModel",e.formInit.poids),f(),b("ngIf",e.errorMessage),f(4),b("disabled",e.saving),f(),k(" ",e.saving?"Enregistrement...":"Cr\xE9er Booking"," ")}}function MI(n,t){if(n&1&&(s(0,"div",69),l(1),c()),n&2){let e=m(2);f(),k(" ",e.errorMessage," ")}}function wI(n,t){if(n&1){let e=V();s(0,"div",47)(1,"div",48),_("click",function(){v(e);let o=m();return y(o.closeAddContainerModal())}),c(),s(2,"div",49)(3,"div",50)(4,"h2",51),l(5,"Ajouter un Conteneur"),c(),s(6,"button",52),_("click",function(){v(e);let o=m();return y(o.closeAddContainerModal())}),s(7,"span",5),l(8,"close"),c()()(),s(9,"div",53)(10,"div",70)(11,"div")(12,"small",71),l(13,"Booking"),c(),s(14,"strong",72),l(15),c()(),s(16,"div",20)(17,"small",71),l(18,"Conteneur actuel"),c(),s(19,"strong",73),l(20),c()()(),s(21,"div",54)(22,"div",56)(23,"label",57),l(24,"Nouveau Conteneur "),s(25,"span",58),l(26,"*"),c()(),s(27,"input",74),A("ngModelChange",function(o){v(e);let i=m();return N(i.formContainer.numeroConteneur,o)||(i.formContainer.numeroConteneur=o),y(o)}),c()(),s(28,"div",64)(29,"div",56)(30,"label",57),l(31,"Sacs "),s(32,"span",58),l(33,"*"),c()(),s(34,"input",65),A("ngModelChange",function(o){v(e);let i=m();return N(i.formContainer.nombreSacs,o)||(i.formContainer.nombreSacs=o),y(o)}),c()(),s(35,"div",56)(36,"label",57),l(37,"Volume (m\xB3) "),s(38,"span",58),l(39,"*"),c()(),s(40,"input",65),A("ngModelChange",function(o){v(e);let i=m();return N(i.formContainer.volume,o)||(i.formContainer.volume=o),y(o)}),c()(),s(41,"div",56)(42,"label",57),l(43,"Poids Net (kg) "),s(44,"span",58),l(45,"*"),c()(),s(46,"input",65),A("ngModelChange",function(o){v(e);let i=m();return N(i.formContainer.poids,o)||(i.formContainer.poids=o),y(o)}),c()()()(),E(47,MI,2,1,"div",66),c(),s(48,"div",67)(49,"button",68),_("click",function(){v(e);let o=m();return y(o.closeAddContainerModal())}),l(50,"Annuler"),c(),s(51,"button",17),_("click",function(){v(e);let o=m();return y(o.submitAddContainer())}),l(52),c()()()()}if(n&2){let e=m();f(15),w(e.selectedBookingForAdd==null?null:e.selectedBookingForAdd.booking),f(5),k("#",((e.selectedBookingForAdd==null?null:e.selectedBookingForAdd.conteneurs)||0)+1),f(7),T("ngModel",e.formContainer.numeroConteneur),f(7),T("ngModel",e.formContainer.nombreSacs),f(6),T("ngModel",e.formContainer.volume),f(6),T("ngModel",e.formContainer.poids),f(),b("ngIf",e.errorMessage),f(4),b("disabled",e.saving),f(),k(" ",e.saving?"Ajout...":"Enregistrer"," ")}}function EI(n,t){if(n&1){let e=V();s(0,"tr")(1,"td",87),l(2),c(),s(3,"td",88),l(4),c(),s(5,"td"),l(6),c(),s(7,"td"),l(8),c(),s(9,"td"),l(10),c(),s(11,"td",89),l(12),oe(13,"date"),c(),s(14,"td")(15,"button",90),_("click",function(){let o=v(e).$implicit,i=m(2);return y(i.openEditContainerModal(o))}),s(16,"span",91),l(17,"edit"),c()()()()}if(n&2){let e=t.$implicit,r=m(2);f(2),w(r.selectedBookingHistory.booking),f(2),k(" ",e.numeroConteneur," "),f(2),w(e.nombreSacs),f(2),k("",e.volume," m\xB3"),f(2),k("",e.poids," kg"),f(2),k(" ",ce(13,6,e.createdAt,"dd/MM/yyyy HH:mm")," ")}}function OI(n,t){n&1&&(s(0,"tr")(1,"td",92),l(2," Aucun conteneur associ\xE9. "),c()())}function PI(n,t){if(n&1){let e=V();s(0,"div",47)(1,"div",48),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),c(),s(2,"div",75)(3,"div",50)(4,"h2",51),l(5),s(6,"span",36),l(7),c()(),s(8,"button",52),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),s(9,"span",5),l(10,"close"),c()()(),s(11,"div",53)(12,"div",76)(13,"div",77)(14,"label"),l(15,"Client"),c(),s(16,"span"),l(17),c()(),s(18,"div",77)(19,"label"),l(20,"D\xE9but"),c(),s(21,"span"),l(22),oe(23,"date"),c()(),s(24,"div",77)(25,"label"),l(26,"Fin"),c(),s(27,"span"),l(28),oe(29,"date"),c()()(),s(30,"div",78)(31,"h3",79),l(32),c()(),s(33,"div",80)(34,"table",81)(35,"thead")(36,"tr")(37,"th"),l(38,"N\xB0 booking"),c(),s(39,"th"),l(40,"N\xB0 Conteneur"),c(),s(41,"th"),l(42,"Sacs"),c(),s(43,"th"),l(44,"Volume empot\xE9"),c(),s(45,"th"),l(46,"Poids Net"),c(),s(47,"th"),l(48,"Date Ajout"),c(),s(49,"th",82),l(50,"Action"),c()()(),s(51,"tbody"),E(52,EI,18,9,"tr",83)(53,OI,3,0,"tr",21),c()()()(),s(54,"div",84)(55,"div",85)(56,"button",4),_("click",function(){v(e);let o=m();return y(o.exportHistoryCsv())}),s(57,"span",5),l(58,"download"),c(),l(59," Exporter CSV "),c(),s(60,"button",86),_("click",function(){v(e);let o=m();return y(o.printOperation(o.selectedBookingHistory))}),s(61,"span",5),l(62,"print"),c(),l(63," Imprimer "),c()(),s(64,"button",86),_("click",function(){v(e);let o=m();return y(o.closeHistoryModal())}),l(65,"Fermer"),c()()()()}if(n&2){let e=m();f(5),k(" Historique: ",e.selectedBookingHistory.booking," "),f(),b("ngClass",e.selectedBookingHistory.status==="Termin\xE9"?"status-completed":"status-future"),f(),k(" ",e.selectedBookingHistory.status," "),f(10),w(e.selectedBookingHistory.client),f(5),w(ce(23,9,e.selectedBookingHistory.dateStart,"dd/MM/yyyy HH:mm")),f(6),w(e.selectedBookingHistory.dateEnd?ce(29,12,e.selectedBookingHistory.dateEnd,"dd/MM/yyyy HH:mm"):"-"),f(4),k(" LISTE DES CONTENEURS (",(e.selectedBookingHistory.containers==null?null:e.selectedBookingHistory.containers.length)||0,") "),f(20),b("ngForOf",e.selectedBookingHistory.containers),f(),b("ngIf",!e.selectedBookingHistory.containers||e.selectedBookingHistory.containers.length===0)}}function kI(n,t){if(n&1){let e=V();s(0,"div",47)(1,"div",48),_("click",function(){v(e);let o=m();return y(o.closeFinalizeModal())}),c(),s(2,"div",93)(3,"div",50)(4,"h2",51),l(5,"Empotage termin\xE9 ?"),c(),s(6,"button",52),_("click",function(){v(e);let o=m();return y(o.closeFinalizeModal())}),s(7,"span",5),l(8,"close"),c()()(),s(9,"div",53)(10,"p",94),l(11," L'empotage est-il termin\xE9 pour ce num\xE9ro de booking ? "),c(),s(12,"div",95)(13,"button",96),_("click",function(){v(e);let o=m();return y(o.closeFinalizeModal())}),l(14," NON "),s(15,"span",97),l(16,"(En attente)"),c()(),s(17,"button",98),_("click",function(){v(e);let o=m();return y(o.confirmFinalize())}),l(18," OUI "),s(19,"span",97),l(20,"(Termin\xE9)"),c()()()(),s(21,"div",67)(22,"button",99),_("click",function(){v(e);let o=m();return y(o.closeFinalizeModal())}),s(23,"span",5),l(24,"arrow_back"),c(),l(25," Retour "),c()()()()}}function DI(n,t){if(n&1&&(s(0,"div",69),l(1),c()),n&2){let e=m(2);f(),k(" ",e.errorMessage," ")}}function SI(n,t){if(n&1){let e=V();s(0,"div",47)(1,"div",48),_("click",function(){v(e);let o=m();return y(o.closeEditModal())}),c(),s(2,"div",49)(3,"div",50)(4,"h2",51),l(5,"Modifier Conteneur"),c(),s(6,"button",52),_("click",function(){v(e);let o=m();return y(o.closeEditModal())}),s(7,"span",5),l(8,"close"),c()()(),s(9,"div",53)(10,"div",54)(11,"div",56)(12,"label",57),l(13,"N\xB0 Conteneur "),s(14,"span",58),l(15,"*"),c()(),s(16,"input",100),A("ngModelChange",function(o){v(e);let i=m();return N(i.formEditContainer.numeroConteneur,o)||(i.formEditContainer.numeroConteneur=o),y(o)}),c()(),s(17,"div",64)(18,"div",56)(19,"label",57),l(20,"Sacs"),c(),s(21,"input",101),A("ngModelChange",function(o){v(e);let i=m();return N(i.formEditContainer.nombreSacs,o)||(i.formEditContainer.nombreSacs=o),y(o)}),c()(),s(22,"div",56)(23,"label",57),l(24,"Volume (m\xB3)"),c(),s(25,"input",101),A("ngModelChange",function(o){v(e);let i=m();return N(i.formEditContainer.volume,o)||(i.formEditContainer.volume=o),y(o)}),c()(),s(26,"div",56)(27,"label",57),l(28,"Poids (kg)"),c(),s(29,"input",101),A("ngModelChange",function(o){v(e);let i=m();return N(i.formEditContainer.poids,o)||(i.formEditContainer.poids=o),y(o)}),c()()()(),E(30,DI,2,1,"div",66),c(),s(31,"div",84)(32,"button",86),_("click",function(){v(e);let o=m();return y(o.closeEditModal())}),l(33,"Annuler"),c(),s(34,"button",17),_("click",function(){v(e);let o=m();return y(o.submitEdit())}),l(35),c()()()()}if(n&2){let e=m();f(16),T("ngModel",e.formEditContainer.numeroConteneur),f(5),T("ngModel",e.formEditContainer.nombreSacs),f(4),T("ngModel",e.formEditContainer.volume),f(4),T("ngModel",e.formEditContainer.poids),f(),b("ngIf",e.errorMessage),f(4),b("disabled",e.saving),f(),k(" ",e.saving?"Enregistrement...":"Sauvegarder"," ")}}function II(n,t){if(n&1){let e=V();s(0,"div",47)(1,"div",48),_("click",function(){v(e);let o=m();return y(o.cancelDelete())}),c(),s(2,"div",93)(3,"div",50)(4,"h2",102),l(5,"Supprimer l'empotage"),c(),s(6,"button",52),_("click",function(){v(e);let o=m();return y(o.cancelDelete())}),s(7,"span",5),l(8,"close"),c()()(),s(9,"div",53)(10,"p",103),l(11," Voulez-vous vraiment supprimer cet empotage ? "),c(),s(12,"p",104),l(13," Cela supprimera \xE9galement tous les conteneurs associ\xE9s. Cette action est irr\xE9versible. "),c()(),s(14,"div",84)(15,"button",68),_("click",function(){v(e);let o=m();return y(o.cancelDelete())}),l(16,"Annuler"),c(),s(17,"button",105),_("click",function(){v(e);let o=m();return y(o.confirmDelete())}),l(18,"Supprimer"),c()()()()}}var md=class n{warehouseService=x(Me);authService=x(nt);http=x(It);toastService=x(pt);warehouses=[];empotages=[];stats={total:0,today:0,week:0,month:0,year:0};search="";filterDate="";period="today";loading=!1;selectedWarehouseId=null;showCreateModal=!1;showAddContainerModal=!1;selectedBookingForAdd=null;showHistoryModal=!1;selectedBookingHistory=null;showFinalizeModal=!1;lastSavedEmpotageId=null;showDeleteModal=!1;itemToDelete=null;showEditModal=!1;editingId=null;formEditContainer={numeroConteneur:"",nombreSacs:0,volume:0,poids:0};saving=!1;errorMessage="";formInit={client:"",booking:"",numeroConteneur:"",nombreSacs:null,volume:null,poids:null,entrepotId:0};formContainer={numeroConteneur:"",nombreSacs:null,volume:null,poids:null};currentPage=1;pageSize=10;get totalPages(){return Math.ceil(this.filteredEmpotages.length/this.pageSize)||1}get paginatedEmpotages(){let t=(this.currentPage-1)*this.pageSize;return this.filteredEmpotages.slice(t,t+this.pageSize)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}prevPage(){this.currentPage>1&&this.currentPage--}ngOnInit(){let t=this.authService.getCurrentUser();t&&t.entrepotId&&(this.selectedWarehouseId=t.entrepotId,this.formInit.entrepotId=t.entrepotId),this.loadWarehouses()}loadWarehouses(){this.warehouseService.getWarehouses().subscribe({next:t=>{this.warehouses=t,this.warehouses.length>0&&!this.selectedWarehouseId?(this.selectedWarehouseId=this.warehouses[0].id,this.formInit.entrepotId=this.warehouses[0].id,this.loadEmpotages()):this.selectedWarehouseId&&this.loadEmpotages()},error:t=>console.error("Erreur loading warehouses",t)})}loadEmpotages(){return ye(this,null,function*(){if(this.selectedWarehouseId){this.loading=!0;try{let t=`${de.apiUrl}/empotages?entrepotId=${this.selectedWarehouseId}`,e=yield it(this.http.get(t));this.empotages=e,this.calculateStats()}catch(t){console.error("Erreur chargement empotages",t),this.toastService.error("Impossible de charger les donn\xE9es")}finally{this.loading=!1}}})}openInitModal(){this.errorMessage="",this.formInit={client:"",booking:"",numeroConteneur:"",nombreSacs:null,volume:null,poids:null,entrepotId:this.selectedWarehouseId||0},this.showCreateModal=!0}closeInitModal(){this.showCreateModal=!1}submitInit(){return ye(this,null,function*(){if(!this.formInit.client||!this.formInit.booking||!this.formInit.numeroConteneur){this.errorMessage="Veuillez remplir les champs obligatoires";return}this.saving=!0;try{let t=yield it(this.http.post(`${de.apiUrl}/empotages/init`,this.formInit));this.lastSavedEmpotageId=t.id,this.showCreateModal=!1,this.toastService.success("Booking cr\xE9\xE9 avec succ\xE8s"),this.showFinalizeModal=!0,this.loadEmpotages()}catch(t){console.error(t),this.errorMessage="Erreur lors de la cr\xE9ation",this.toastService.error("Erreur lors de la cr\xE9ation")}finally{this.saving=!1}})}openAddContainerModal(t){t.status!=="Termin\xE9"&&(this.errorMessage="",this.selectedBookingForAdd=t,this.formContainer={numeroConteneur:"",nombreSacs:null,volume:null,poids:null},this.showAddContainerModal=!0)}closeAddContainerModal(){this.showAddContainerModal=!1,this.selectedBookingForAdd=null}submitAddContainer(){return ye(this,null,function*(){if(!this.selectedBookingForAdd||!this.formContainer.numeroConteneur){this.errorMessage="Num\xE9ro conteneur requis";return}this.saving=!0;try{yield it(this.http.post(`${de.apiUrl}/empotages/${this.selectedBookingForAdd.id}/add-container`,this.formContainer)),this.lastSavedEmpotageId=this.selectedBookingForAdd.id,this.showAddContainerModal=!1,this.toastService.success("Conteneur ajout\xE9"),this.showFinalizeModal=!0,this.loadEmpotages()}catch(t){console.error(t),this.errorMessage="Erreur ajout conteneur",this.toastService.error("Erreur ajout conteneur")}finally{this.saving=!1}})}openEditContainerModal(t){t.id&&(this.errorMessage="",this.editingId=t.id,this.formEditContainer={numeroConteneur:t.numeroConteneur,nombreSacs:t.nombreSacs,volume:t.volume,poids:t.poids},this.showEditModal=!0)}closeEditModal(){this.showEditModal=!1,this.editingId=null}submitEdit(){return ye(this,null,function*(){if(this.editingId){if(!this.formEditContainer.numeroConteneur){this.errorMessage="Num\xE9ro conteneur requis";return}this.saving=!0;try{if(yield it(this.http.put(`${de.apiUrl}/empotage-containers/${this.editingId}`,this.formEditContainer)),this.showEditModal=!1,this.toastService.success("Conteneur modifi\xE9"),this.selectedBookingHistory&&this.selectedBookingHistory.id){let t=yield it(this.http.get(`${de.apiUrl}/empotages/${this.selectedBookingHistory.id}`));this.selectedBookingHistory.containers=t.containers,this.loadEmpotages()}}catch(t){console.error(t),this.errorMessage="Erreur modification conteneur",this.toastService.error("Erreur modification conteneur")}finally{this.saving=!1}}})}openHistory(t){return ye(this,null,function*(){if(t.id){this.selectedBookingHistory=t;try{let e=yield it(this.http.get(`${de.apiUrl}/empotages/${t.id}`));this.selectedBookingHistory.containers=e.containers,this.showHistoryModal=!0}catch(e){console.error(e)}}})}closeHistoryModal(){this.showHistoryModal=!1,this.selectedBookingHistory=null}openFinalizeManually(t){t.status!=="Termin\xE9"&&(this.lastSavedEmpotageId=t.id,this.showFinalizeModal=!0)}exportHistoryCsv(){if(!this.selectedBookingHistory||!this.selectedBookingHistory.containers)return;let t=["Booking","Conteneur","Sacs","Volume (m\xB3)","Poids (kg)","Date Ajout"],e=this.selectedBookingHistory.containers.map(u=>{let p=u.createdAt?new Date(u.createdAt).toLocaleDateString("fr-FR")+" "+new Date(u.createdAt).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"",g=h=>(h||"").replace(/;/g,",");return[g(this.selectedBookingHistory.booking),g(u.numeroConteneur),u.nombreSacs,(u.volume||0).toLocaleString("fr-FR"),(u.poids||0).toLocaleString("fr-FR"),p].join(";")}),r=[t.join(";"),...e].join(`
`),o="\uFEFF",i=new Blob([o+r],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(i),d=document.createElement("a");d.href=a,d.download=`historique_${this.selectedBookingHistory.booking}_${new Date().toISOString().split("T")[0]}.csv`,d.click(),URL.revokeObjectURL(a)}printOperation(t){if(!t)return;let e=window.open("","_blank","width=1000,height=800,top=50,left=50");if(!e){this.toastService.warning("La fen\xEAtre d'impression a \xE9t\xE9 bloqu\xE9e. Veuillez autoriser les popups.");return}let r=t.containers?.map(i=>`
      <tr>
        <td>${i.numeroConteneur}</td>
        <td>${i.nombreSacs}</td>
        <td>${i.volume} m\xB3</td>
        <td>${i.poids} kg</td>
      </tr>
    `).join("")||'<tr><td colspan="4" style="text-align:center;">Aucun conteneur</td></tr>',o=`
      <html>
        <head>
          <title>Impression Empotage - ${t.booking}</title>
          <style>
             body { font-family: sans-serif; padding: 40px; color: #333; }
             .header { border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; }
             h1 { margin: 0; font-size: 24px; }
             .meta { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 30px; }
             .meta-item { display: flex; flex-direction: column; }
             .label { font-weight: bold; font-size: 12px; text-transform: uppercase; color: #666; }
             .value { font-size: 16px; margin-top: 4px; }
             table { width: 100%; border-collapse: collapse; margin-top: 20px; }
             th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
             th { background-color: #f5f5f5; font-weight: bold; }
             .footer { margin-top: 50px; font-size: 12px; color: #999; text-align: center; border-top: 1px solid #eee; padding-top: 20px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Bon d'Empotage</h1>
            <div style="text-align: right;">
               <div style="font-size: 14px; font-weight: bold;">${new Date().toLocaleDateString()}</div>
            </div>
          </div>
          
          <div class="meta">
            <div class="meta-item">
              <span class="label">Booking</span>
              <span class="value">${t.booking}</span>
            </div>
            <div class="meta-item">
              <span class="label">Client</span>
              <span class="value">${t.client}</span>
            </div>
             <div class="meta-item">
              <span class="label">Date D\xE9but</span>
              <span class="value">${new Date(t.dateStart).toLocaleDateString()} ${new Date(t.dateStart).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}</span>
            </div>
            <div class="meta-item">
              <span class="label">Statut</span>
              <span class="value">${t.status}</span>
            </div>
            <div class="meta-item">
              <span class="label">Total Conteneurs</span>
              <span class="value">${t.conteneurs}</span>
            </div>
            <div class="meta-item">
              <span class="label">Volume Total</span>
              <span class="value">${t.volume} m\xB3</span>
            </div>
          </div>

          <h3>Liste des Conteneurs</h3>
          <table>
            <thead>
              <tr>
                <th>N\xB0 Conteneur</th>
                <th>Sacs</th>
                <th>Volume</th>
                <th>Poids</th>
              </tr>
            </thead>
            <tbody>
              ${r}
            </tbody>
          </table>

          <div class="footer">
             G\xE9n\xE9r\xE9 automatiquement par le syst\xE8me de Gestion Entrep\xF4t
          </div>

          <script>
            window.onload = function() { window.print(); window.close(); }
          <\/script>
        </body>
      </html>
    `;e.document.open(),e.document.write(o),e.document.close()}closeFinalizeModal(){this.showFinalizeModal=!1,this.lastSavedEmpotageId=null}confirmFinalize(){return ye(this,null,function*(){if(this.lastSavedEmpotageId){this.saving=!0;try{yield it(this.http.put(`${de.apiUrl}/empotages/${this.lastSavedEmpotageId}/finalize`,{})),this.showFinalizeModal=!1,this.lastSavedEmpotageId=null,this.toastService.success("Empotage marqu\xE9 comme termin\xE9"),this.loadEmpotages()}catch(t){console.error(t),this.toastService.error("Erreur lors de la finalisation")}finally{this.saving=!1}}})}deleteEmpotage(t){this.itemToDelete=t,this.showDeleteModal=!0}cancelDelete(){this.showDeleteModal=!1,this.itemToDelete=null}confirmDelete(){return ye(this,null,function*(){if(!(!this.itemToDelete||!this.itemToDelete.id))try{yield it(this.http.delete(`${de.apiUrl}/empotages/${this.itemToDelete.id}`)),this.cancelDelete(),this.toastService.success("Empotage supprim\xE9"),this.loadEmpotages()}catch(t){console.error(t),this.toastService.error("Erreur lors de la suppression")}})}get filteredEmpotages(){let t=this.search.trim().toLowerCase();return this.empotages.filter(e=>this.isInSelectedPeriod(e.dateStart)?t?(e.client||"").toLowerCase().includes(t)||(e.booking||"").toLowerCase().includes(t)||(e.status||"").toLowerCase().includes(t):!0:!1)}onFiltersChange(){this.currentPage=1,this.calculateStats()}setPeriod(t){this.period=t,t!=="specific"&&(this.filterDate=""),this.currentPage=1,this.calculateStats()}onDateChange(){this.filterDate?this.setPeriod("specific"):this.setPeriod("today")}isInSelectedPeriod(t){if(!t)return!1;let e=new Date(t),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=r.getDay()||7,a=new Date(o);a.setDate(a.getDate()-(i-1));let d=new Date(r.getFullYear(),r.getMonth(),1),u=new Date(r.getFullYear(),0,1);if(this.period==="specific"&&this.filterDate){let p=new Date(t),g=p.getFullYear(),h=String(p.getMonth()+1).padStart(2,"0"),M=String(p.getDate()).padStart(2,"0");return`${g}-${h}-${M}`===this.filterDate}return this.period==="today"?e.toDateString()===r.toDateString():this.period==="week"?e>=a:this.period==="month"?e>=d:this.period==="year"?e>=u:!0}calculateStats(){let t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=t.getDay()||7,o=new Date(e);o.setDate(o.getDate()-(r-1));let i=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),0,1),d=this.empotages;this.stats={total:d.length,today:d.filter(u=>u.dateStart&&new Date(u.dateStart).toDateString()===t.toDateString()).length,week:d.filter(u=>u.dateStart&&new Date(u.dateStart)>=o).length,month:d.filter(u=>u.dateStart&&new Date(u.dateStart)>=i).length,year:d.filter(u=>u.dateStart&&new Date(u.dateStart)>=a).length}}exportCsvClient(){let t=["Client","Booking","Conteneurs","Volume (m\xB3)","Date D\xE9but","Date Fin","Statut"],e=this.filteredEmpotages.map(u=>{let p=u.dateStart?new Date(u.dateStart).toLocaleDateString("fr-FR"):"",g=u.dateEnd?new Date(u.dateEnd).toLocaleDateString("fr-FR"):"",h=M=>(M||"").replace(/;/g,",");return[h(u.client),h(u.booking),u.conteneurs,(u.volume||0).toLocaleString("fr-FR"),p,g,h(u.status)].join(";")}),r=[t.join(";"),...e].join(`
`),o="\uFEFF",i=new Blob([o+r],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(i),d=document.createElement("a");d.href=a,d.download=`empotages_export_${new Date().toISOString().split("T")[0]}.csv`,d.click(),URL.revokeObjectURL(a)}getStatusClass(t){return t==="Termin\xE9"?"status-completed":"status-future"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-user-empotage"]],decls:69,vars:21,consts:[[1,"page-container"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"btn","btn-primary",3,"click"],[1,"material-symbols-outlined","notranslate"],[1,"controls-area"],[1,"search-and-filters"],[1,"search-box"],[1,"material-symbols-outlined","notranslate","search-icon"],["type","text","placeholder","Recherche client ou booking...",3,"ngModelChange","ngModel"],[1,"period-selector"],[3,"click"],[1,"date-input-wrapper"],[1,"material-symbols-outlined","notranslate","input-icon"],["type","date",3,"ngModelChange","ngModel"],[1,"actions-group"],[1,"btn","btn-primary",3,"click","disabled"],[1,"card","table-card"],[1,"table-wrap"],[2,"text-align","right"],[4,"ngIf"],["class","row-hover",4,"ngFor","ngForOf"],["class","pagination",4,"ngIf"],["class","modal-root",4,"ngIf"],["colspan","8",2,"padding","0"],[1,"empty-state-content"],[2,"color","var(--text-secondary)"],["colspan","8",2,"padding","3rem","text-align","center"],[1,"row-hover"],[1,"client-info"],[1,"client-avatar"],[1,"cell-bold"],[2,"text-align","center"],[2,"font-weight","700","background","#f3f4f6","padding","2px 8px","border-radius","4px"],[1,"cell-muted"],[1,"status-pill",3,"ngClass"],[1,"actions-subgroup"],["title","Ajouter Conteneur",1,"action-btn","btn-add",3,"click","disabled"],["class","action-btn btn-validate","title","Marquer comme Termin\xE9",3,"click",4,"ngIf"],[1,"actions-divider"],["title","Historique / D\xE9tails",1,"action-btn","btn-history",3,"click"],["title","Supprimer",1,"action-btn","btn-delete",3,"click"],["title","Marquer comme Termin\xE9",1,"action-btn","btn-validate",3,"click"],[1,"pagination"],[1,"pagination-btn",3,"click","disabled"],[1,"pagination-info"],[1,"modal-root"],[1,"modal-backdrop",3,"click"],[1,"modal-panel"],[1,"modal-header"],[1,"modal-title"],[1,"btn-close-icon",3,"click"],[1,"modal-body"],[1,"form-grid"],[1,"form-grid","grid-2"],[1,"form-field"],[1,"form-label"],[2,"color","red"],["type","text","placeholder","Nom du client","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","text","placeholder","ex: 234567","required","",1,"form-input",3,"ngModelChange","ngModel"],[2,"border","0","border-top","1px solid var(--border-light)","margin","0.5rem 0"],[2,"font-weight","700","color","var(--text-primary)","margin","0"],["type","text","placeholder","ex: CXRU-123456","required","",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-grid","grid-3",2,"grid-template-columns","1fr 1fr 1fr"],["type","number","required","",1,"form-input",3,"ngModelChange","ngModel"],["style","margin-top: 1rem; color: #ef4444; font-size: 0.9rem; font-weight: 600",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",2,"background-color","#dc3545","color","white","border","none",3,"click"],[2,"margin-top","1rem","color","#ef4444","font-size","0.9rem","font-weight","600"],[2,"background","#f8fafc","padding","1rem","border-radius","0.75rem","margin-bottom","1.5rem","display","flex","justify-content","space-between"],[2,"color","var(--text-secondary)","display","block"],[2,"font-size","1.1rem"],[2,"color","var(--primary)"],["type","text","placeholder","ex: MSCU 456789-0","required","","autofocus","",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-panel","large"],[1,"history-summary"],[1,"summary-item"],[2,"display","flex","justify-content","space-between","align-items","center","margin-bottom","0.75rem"],[2,"font-size","1rem","font-weight","700","color","var(--text-secondary)","margin","0"],[1,"history-table-container"],[2,"width","100%"],[2,"width","40px"],[4,"ngFor","ngForOf"],[1,"modal-footer","space-between"],[2,"display","flex","gap","0.5rem"],[1,"btn","btn-secondary",3,"click"],[2,"font-weight","700"],[2,"font-weight","700","color","var(--text-primary)"],[2,"color","var(--text-tertiary)"],["title","Modifier Conteneur",1,"action-btn","btn-edit",3,"click"],[1,"material-symbols-outlined","notranslate",2,"font-size","18px"],["colspan","7",2,"text-align","center","padding","2rem","color","#94a3b8"],[1,"modal-panel","mini"],[2,"color","var(--text-secondary)","line-height","1.5","margin-bottom","2rem","text-align","center"],[2,"display","flex","gap","1rem","justify-content","center"],[1,"btn","btn-secondary",2,"flex","1",3,"click"],[2,"font-weight","400","font-size","0.8em"],[1,"btn","btn-primary",2,"flex","1","background","#16a34a","border-color","#16a34a",3,"click"],[1,"btn","btn-secondary",2,"width","100%",3,"click"],["type","text","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","number",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-title",2,"color","#ef4444"],[2,"color","var(--text-primary)","font-weight","600","text-align","center"],[2,"font-size","0.9em","color","var(--text-tertiary)","text-align","center"],[1,"btn","btn-danger",3,"click"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"header",1)(2,"div")(3,"h1",2),l(4,"Gestion des Empotages"),c(),s(5,"p",3),l(6,"Suivez et g\xE9rez l'ensemble de vos op\xE9rations de chargement."),c()(),s(7,"button",4),_("click",function(){return r.openInitModal()}),s(8,"span",5),l(9,"add"),c(),s(10,"span"),l(11,"Nouveau empotage"),c()()(),s(12,"section",6)(13,"div",7)(14,"div",8)(15,"span",9),l(16,"search"),c(),s(17,"input",10),A("ngModelChange",function(i){return N(r.search,i)||(r.search=i),i}),_("ngModelChange",function(){return r.onFiltersChange()}),c()(),s(18,"div",11)(19,"button",12),_("click",function(){return r.setPeriod("today")}),l(20," Aujourd'hui "),c(),s(21,"button",12),_("click",function(){return r.setPeriod("week")}),l(22,"Semaine"),c(),s(23,"button",12),_("click",function(){return r.setPeriod("month")}),l(24,"Mois"),c(),s(25,"button",12),_("click",function(){return r.setPeriod("year")}),l(26,"Ann\xE9e"),c()(),s(27,"div",13)(28,"span",14),l(29,"calendar_today"),c(),s(30,"input",15),A("ngModelChange",function(i){return N(r.filterDate,i)||(r.filterDate=i),i}),_("ngModelChange",function(){return r.onDateChange()}),c()()(),s(31,"div",16)(32,"button",17),_("click",function(){return r.exportCsvClient()}),s(33,"span",5),l(34,"file_download"),c(),s(35,"span"),l(36,"Exporter CSV"),c()()()(),s(37,"div",18)(38,"div",19)(39,"table")(40,"thead")(41,"tr")(42,"th"),l(43,"Client"),c(),s(44,"th"),l(45,"Booking"),c(),s(46,"th"),l(47,"Conteneurs"),c(),s(48,"th"),l(49,"Volume"),c(),s(50,"th"),l(51,"D\xE9but"),c(),s(52,"th"),l(53,"Fin"),c(),s(54,"th"),l(55,"Statut"),c(),s(56,"th",20),l(57,"Actions"),c()()(),s(58,"tbody"),E(59,hI,9,0,"tr",21)(60,bI,4,0,"tr",21)(61,vI,40,21,"tr",22),c()()(),E(62,yI,9,4,"div",23),c(),E(63,xI,58,9,"div",24)(64,wI,53,9,"div",24)(65,PI,66,15,"div",24)(66,kI,26,0,"div",24)(67,SI,36,7,"div",24)(68,II,19,0,"div",24),c()),e&2&&(f(17),T("ngModel",r.search),f(2),W("active",r.period==="today"),f(2),W("active",r.period==="week"),f(2),W("active",r.period==="month"),f(2),W("active",r.period==="year"),f(5),T("ngModel",r.filterDate),f(2),b("disabled",r.loading),f(27),b("ngIf",r.filteredEmpotages.length===0&&!r.loading),f(),b("ngIf",r.loading),f(),b("ngForOf",r.paginatedEmpotages),f(),b("ngIf",r.totalPages>1),f(),b("ngIf",r.showCreateModal),f(),b("ngIf",r.showAddContainerModal),f(),b("ngIf",r.showHistoryModal&&r.selectedBookingHistory),f(),b("ngIf",r.showFinalizeModal),f(),b("ngIf",r.showEditModal),f(),b("ngIf",r.showDeleteModal))},dependencies:[ae,vt,be,me,Se,xe,Ja,De,Xn,Oe,_a,tt],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1d4ed8;--primary-subtle: #e7edf3;--success-bg: #dcfce7;--success-text: #166534;--success-border: #dcfce7;--warning-bg: #fffbeb;--warning-text: #b45309;--warning-border: #fef3c7;--danger-bg: #fee2e2;--danger-text: #991b1b;--danger-border: #fecaca;--danger-solid: #ef4444;--info-bg: #e0f2fe;--info-text: #0284c7;--background-light: #f6f7f8;--background-white: #ffffff;--background-dark: #101922;--text-primary: #0d141b;--text-secondary: #4c739a;--text-tertiary: #94a3b8;--border-light: #e2e8f0;--border-medium: #cbd5e1;--border-dark: #1f2933;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-card: 0 10px 40px -10px rgba(0, 0, 0, .08);--shadow-float: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease-in-out;--transition-normal: all .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .35s cubic-bezier(.16, 1, .3, 1);--header-height: 72px;--sidebar-width: 280px}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#e5e7eb}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;translate:no}.material-symbols-outlined.notranslate[_ngcontent-%COMP%]{translate:no}.page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);padding:2rem 1.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:var(--text-primary);text-shadow:0 2px 10px rgba(43,140,238,.1);letter-spacing:-.025em;margin:0;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-top:.5rem;font-weight:500}.card[_ngcontent-%COMP%]{background:var(--background-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);border:1px solid rgba(0,0,0,.03);padding:1.5rem;transition:var(--transition-normal)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-float)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.95rem;cursor:pointer;transition:var(--transition-normal);border:none;outline:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;box-shadow:0 4px 12px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 16px #2b8cee66}.btn-secondary[_ngcontent-%COMP%]{background:var(--background-white);border:1px solid var(--border-light);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:var(--border-medium)}.btn-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);cursor:pointer;transition:var(--transition-normal)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary);border-color:var(--primary)}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gap-1[_ngcontent-%COMP%]{gap:.25rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.w-full[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none!important}.responsive-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.truck-modal-close[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.06)!important;background:#ef4444!important;color:#fff!important;border-radius:.5rem!important;width:2.25rem!important;height:2.25rem!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;font-weight:700!important;transition:background-color .12s ease,transform .08s ease,box-shadow .12s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#dc2626!important;transform:translateY(-2px)!important;box-shadow:0 10px 30px #dc262624!important}.truck-modal-close[_ngcontent-%COMP%]:focus{outline:3px solid rgba(239,68,68,.18)!important;outline-offset:2px!important}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;line-height:1;min-height:1.8rem;box-sizing:border-box;box-shadow:var(--shadow-sm)}.status-pill[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.status-pill--enregistre[_ngcontent-%COMP%]{background:var(--info-bg);color:var(--info-text);border:1px solid var(--info-bg)}.status-pill--pending[_ngcontent-%COMP%]{background:var(--warning-bg);color:var(--warning-text);border:1px solid var(--warning-border)}.status-pill--validated[_ngcontent-%COMP%], .status-pill--accepted[_ngcontent-%COMP%]{background:var(--success-bg);color:var(--success-text);border:1px solid var(--success-border)}.status-pill--accepted-final[_ngcontent-%COMP%]{background:#ecfdf5;color:#064e3b;border:1px solid #059669}.status-pill--renvoye[_ngcontent-%COMP%]{background:#fff7ed;color:#c2410c;border:1px solid #ffedd5}.status-pill--reintegre[_ngcontent-%COMP%]{background:#f0fdfa;color:#0f766e;border:1px solid #ccfbf1}.status-pill--refoule[_ngcontent-%COMP%]{background:var(--danger-bg);color:var(--danger-text);border:1px solid var(--danger-border)}body.dark[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000004d}body.dark[_ngcontent-%COMP%]   .status-pill--enregistre[_ngcontent-%COMP%]{background:#1e40af33;color:#93c5fd;border-color:#1e40af4d}body.dark[_ngcontent-%COMP%]   .status-pill--pending[_ngcontent-%COMP%]{background:#92400e33;color:#fcd34d;border-color:#92400e4d}body.dark[_ngcontent-%COMP%]   .status-pill--validated[_ngcontent-%COMP%]{background:#16653433;color:#86efac;border-color:#1665344d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted[_ngcontent-%COMP%]{background:#14532d33;color:#6ee7b7;border-color:#14532d4d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted-final[_ngcontent-%COMP%]{background:#064e3b33;color:#34d399;border-color:#05966966}body.dark[_ngcontent-%COMP%]   .status-pill--renvoye[_ngcontent-%COMP%]{background:#9a341233;color:#fdba74;border-color:#9a34124d}body.dark[_ngcontent-%COMP%]   .status-pill--reintegre[_ngcontent-%COMP%]{background:#0f766e33;color:#5eead4;border-color:#0f766e4d}body.dark[_ngcontent-%COMP%]   .status-pill--refoule[_ngcontent-%COMP%]{background:#991b1b33;color:#fca5a5;border-color:#991b1b4d}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0;color:var(--text-primary)}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;overflow-y:auto;flex:1}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem}body.dark[_ngcontent-%COMP%]   .modal__backdrop[_ngcontent-%COMP%]{background:#000000b3}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1e293b;border:1px solid rgba(255,255,255,.1)}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{color:#fff}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#0f172a;border-top-color:#ffffff1a}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition-normal);width:100%}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.truck-field[_ngcontent-%COMP%]   .truck-help[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{background:#0f172a;border-color:#ffffff1a;color:#fff}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.notification-banner[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;background:#f0fdf4;border:1px solid #bbf7d0;color:#166534;padding:1rem 1.5rem;border-radius:.75rem;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.16,1,.3,1);font-weight:600}.notification-banner[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#15803d}@media (max-width: 480px){.notification-banner[_ngcontent-%COMP%]{top:70px;right:10px;left:10px;justify-content:center}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUpFade{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.page-container[_ngcontent-%COMP%]{max-width:100%!important;padding:1rem!important;display:flex;flex-direction:column;gap:1.5rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:1rem;flex-wrap:wrap;gap:1rem}.page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text-primary);letter-spacing:-.02em;margin:0}.page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary);margin-top:.5rem;font-weight:400}.controls-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.search-and-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.search-box[_ngcontent-%COMP%]{position:relative;width:100%;max-width:350px}.search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);font-size:20px;color:var(--primary)}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 2.75rem;border-radius:.9rem;border:1px solid var(--border-light);font-size:.875rem;transition:all .2s;background:#fff}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 3px #2b8cee1a;outline:none}.period-selector[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-light);padding:.25rem;border-radius:.5rem;display:flex;gap:.25rem;box-shadow:0 1px 2px #0000000d}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;padding:.4rem .8rem;border-radius:.375rem;font-size:.85rem;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:all .2s}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;color:var(--text-primary)}.period-selector[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff;box-shadow:0 1px 2px #3b82f64d}.date-input-wrapper[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid var(--border-light);border-radius:.5rem;padding:0 .75rem;display:flex;align-items:center;height:40px;box-shadow:0 1px 2px #0000000d;transition:box-shadow .2s}.date-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 3px #3b82f61a}.date-input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-secondary);margin-right:.5rem}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;font-size:.9rem;color:var(--text-primary);font-family:inherit;background:transparent;cursor:pointer}.date-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{cursor:pointer}.card.table-card[_ngcontent-%COMP%]{padding:0;overflow:hidden;margin-top:1rem;background:#fff;border:1px solid var(--border-light);border-radius:1rem;box-shadow:0 4px 6px -1px #00000005}.table-wrap[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{background:#f8fafc;padding:.75rem .5rem;font-size:.75rem;font-weight:800;color:#64748b;text-transform:uppercase;letter-spacing:.05em;text-align:left;white-space:nowrap}td[_ngcontent-%COMP%]{padding:.5rem;font-size:.875rem;color:var(--text-primary);border-bottom:1px solid var(--border-light);vertical-align:middle}.row-hover[_ngcontent-%COMP%]{transition:background .2s}.row-hover[_ngcontent-%COMP%]:hover{background:#2b8cee0a}.empty-state-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center;color:var(--text-secondary)}.empty-state-content[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.empty-state-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--text-primary);margin:0 0 .5rem}.empty-state-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.9rem}.cell-muted[_ngcontent-%COMP%]{color:var(--text-tertiary)}.cell-bold[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .5rem;border-radius:9999px;font-size:.75rem;font-weight:700;line-height:normal}.status-pill.status-future[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb;border:1px solid #dbeafe}.status-pill.status-completed[_ngcontent-%COMP%]{background:#f0fdf4;color:#15803d;border:1px solid #dcfce7}.status-pill[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:16px}.actions-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:.5rem}.actions-group[_ngcontent-%COMP%]   .actions-subgroup[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;background:#f8fafc;padding:.2rem;border-radius:6px;border:1px solid var(--border-light)}.actions-group[_ngcontent-%COMP%]   .actions-divider[_ngcontent-%COMP%]{width:1px;height:20px;background:var(--border-light);margin:0 .25rem}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:none;border-radius:6px;background:transparent;cursor:pointer;transition:all .2s;color:var(--text-tertiary)}.action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.action-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;transform:translateY(-1px)}.action-btn.btn-add[_ngcontent-%COMP%]{color:var(--primary)}.action-btn.btn-add[_ngcontent-%COMP%]:hover{background:#eff6ff}.action-btn.btn-validate[_ngcontent-%COMP%]{color:#16a34a}.action-btn.btn-validate[_ngcontent-%COMP%]:hover{background:#dcfce7}.action-btn.btn-history[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.action-btn.btn-delete[_ngcontent-%COMP%]:hover{background:#fef2f2;color:#ef4444}.action-btn.btn-edit[_ngcontent-%COMP%]:hover{background:#eff6ff;color:#2563eb}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.action-btn[_ngcontent-%COMP%]:disabled:hover{background:transparent;transform:none}.empty-state-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;color:var(--text-tertiary)}.empty-state-content[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1rem;opacity:.5;border:2px solid var(--border-medium);border-radius:50%;padding:10px}.empty-state-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-tertiary)}.client-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.client-avatar[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.75rem}.modal-root[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a80;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:var(--shadow-float);width:100%;max-width:600px;max-height:calc(100vh - 4rem);display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_modalEnter .3s cubic-bezier(.34,1.56,.64,1)}.modal-panel.large[_ngcontent-%COMP%]{max-width:800px}.modal-panel.mini[_ngcontent-%COMP%]{max-width:400px}@keyframes _ngcontent-%COMP%_modalEnter{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}.modal-header[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center;background:#fff;z-index:1}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:850;margin:0;display:flex;align-items:center;gap:.75rem}.btn-close-icon[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b;border:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:.2s}.btn-close-icon[_ngcontent-%COMP%]:hover{background:#fee2e2;color:#ef4444}.modal-body[_ngcontent-%COMP%]{padding:2rem;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem;align-items:center;border-top:1px solid var(--border-light)}.modal-footer.space-between[_ngcontent-%COMP%]{justify-content:space-between}.form-grid[_ngcontent-%COMP%]{display:grid;gap:1.25rem}.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.grid-full[_ngcontent-%COMP%]{grid-column:1/-1}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.025em}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid var(--border-light);border-radius:.75rem;font-size:.95rem;transition:all .2s ease;background:#fff}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #2563eb1a}.btn[_ngcontent-%COMP%]{border:none;border-radius:.75rem;padding:.75rem 1.5rem;font-weight:700;font-size:.95rem;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;justify-content:center;gap:.5rem}.btn.btn-primary[_ngcontent-%COMP%]{background:var(--primary);color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-hover);transform:translateY(-1px)}.btn.btn-secondary[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-light);color:var(--text-secondary)}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;color:var(--text-primary)}.btn.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626}.history-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;padding:1rem;background:#f8fafc;border-radius:1rem;margin-bottom:2rem;border:1px solid var(--border-light)}.summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.summary-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;font-weight:600;text-transform:uppercase}.summary-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172a;font-weight:600}.history-table-container[_ngcontent-%COMP%]{border:1px solid var(--border-light);border-radius:.75rem;overflow:hidden}.history-table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f1f5f9;padding:.75rem 1rem;font-size:.7rem}.history-table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.85rem}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:1rem 0;gap:.5rem}.pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:1px solid var(--border-light);background:#fff;border-radius:.5rem;cursor:pointer;color:var(--text-secondary)}.pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f1f5f9;color:var(--text-primary)}.pagination[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:var(--text-secondary);margin:0 .5rem}@media (max-width: 900px){.page-container[_ngcontent-%COMP%]{padding:1rem .5rem!important}}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;justify-content:center}.controls-area[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.search-and-filters[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;width:100%;gap:1rem}.search-box[_ngcontent-%COMP%]{max-width:100%}.period-selector[_ngcontent-%COMP%]{width:100%;display:flex;overflow-x:auto}.period-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;font-size:.8rem;padding:.6rem .5rem;white-space:nowrap}.date-input-wrapper[_ngcontent-%COMP%], .actions-group[_ngcontent-%COMP%]{width:100%}.actions-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}.table-card[_ngcontent-%COMP%]{border:none!important;background:transparent!important;box-shadow:none!important}.table-card[_ngcontent-%COMP%]   .table-wrap[_ngcontent-%COMP%]{overflow:visible}.table-card[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block}.table-card[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}.table-card[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-light);border-radius:1rem;margin-bottom:1rem;padding:1rem;box-shadow:0 2px 5px #00000008;position:relative}.table-card[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:has(.empty-state-content){display:table-row;border:none;background:transparent;box-shadow:none}.table-card[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:has(.empty-state-content)   td[_ngcontent-%COMP%]{display:table-cell}.table-card[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[colspan][_ngcontent-%COMP%]{display:table-cell;border:none;text-align:center;padding:1rem;background:transparent}.table-card[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[colspan][_ngcontent-%COMP%]:before{display:none}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #f1f5f9;position:relative;padding-left:0;padding-right:0;padding-top:.75rem;padding-bottom:.75rem;display:flex;justify-content:space-between;align-items:center;text-align:right;min-height:30px;width:100%;box-sizing:border-box}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:none;display:block;padding-top:1rem;margin-top:.5rem;border-top:1px dashed var(--border-light)}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;color:var(--text-secondary);font-size:.8rem;text-transform:uppercase;margin-right:auto}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(1):before{content:"Client"}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(2):before{content:"Booking"}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(3):before{content:"Conteneurs"}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(4):before{content:"Volume"}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(5):before{content:"D\\e9 but"}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(6):before{content:"Fin"}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(7):before{content:"Statut"}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(8):before{content:"";display:none}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(1){flex-direction:column;align-items:flex-start;margin-bottom:.5rem;border-bottom:2px solid #f8fafc;padding-bottom:1rem}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(1):before{display:none}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(1)   .client-info[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.table-card[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(1)   .client-info[_ngcontent-%COMP%]   .cell-bold[_ngcontent-%COMP%]{font-size:1.1rem}.table-card[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]{justify-content:center;width:100%}.table-card[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]   .actions-subgroup[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-evenly;padding:.75rem;background:#f8fafc}.table-card[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]   .actions-divider[_ngcontent-%COMP%]{display:none}.table-card[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto;padding:.5rem}}@media (max-width: 640px){.modal-panel[_ngcontent-%COMP%]{width:100%!important;height:100%!important;max-height:100%!important;max-width:100%!important;border-radius:0!important;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-light);padding:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem;flex:1;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer.space-between[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:1rem}.modal-footer.space-between[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;display:flex;gap:1rem}.modal-footer.space-between[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:center}.grid-2[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:1fr!important;display:flex!important;flex-direction:column}div[style*=grid-template-columns][_ngcontent-%COMP%]{grid-template-columns:1fr!important;display:flex!important;flex-direction:column;gap:1rem}.history-summary[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem;border:none;background:transparent;padding:0}.history-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{background:#f8fafc;padding:.75rem;border-radius:.5rem;border:1px solid var(--border-light)}.history-table-container[_ngcontent-%COMP%]{overflow-x:auto;border:1px solid var(--border-light);margin-top:1rem}.history-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:600px}.history-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .history-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}']})};var TI=n=>["/dashboard/adminEmpotage",n],AI=(n,t,e)=>({"status-actif":n,"status-inactif":t,"status-sature":e});function NI(n,t){n&1&&(s(0,"span",25),l(1,"check_circle"),c())}function RI(n,t){n&1&&(s(0,"span",25),l(1,"do_not_disturb_on"),c())}function FI(n,t){n&1&&(s(0,"span",25),l(1,"warning"),c())}function LI(n,t){if(n&1&&(s(0,"article",10)(1,"div",11)(2,"span",12),E(3,NI,2,0,"span",13)(4,RI,2,0,"span",13)(5,FI,2,0,"span",13),l(6),c()(),s(7,"div",14)(8,"div",15)(9,"h3",16),l(10),c(),s(11,"p",17)(12,"span",18),l(13,"location_on"),c(),l(14),c()(),H(15,"div",19),s(16,"div",20)(17,"div",21)(18,"span",22),l(19,"AUJOURD'HUI"),c(),s(20,"span",23),l(21),c()(),s(22,"span",24),l(23,"arrow_forward"),c()()()()),n&2){let e=t.$implicit;b("routerLink",Go(11,TI,e.id)),f(),Dn("background-image","url("+e.imageUrl+")"),f(),b("ngClass",sa(13,AI,e.status==="ACTIF",e.status==="INACTIF",e.status==="SATUR\xC9")),f(),b("ngIf",e.status==="ACTIF"),f(),b("ngIf",e.status==="INACTIF"),f(),b("ngIf",e.status==="SATUR\xC9"),f(),k(" ",e.status," "),f(4),w(e.name),f(4),k(" ",e.location," "),f(7),w(e.todayCount)}}function VI(n,t){n&1&&(s(0,"div",26)(1,"span",27),l(2,"warehouse"),c(),s(3,"p"),l(4,"Aucun entrep\uFFFDt trouv\uFFFD pour cette recherche."),c()())}var hd=class n{warehouseService=x(Me);router=x(fe);searchTerm="";warehouses=[];ngOnInit(){this.loadWarehouses()}loadWarehouses(){return ye(this,null,function*(){try{let t=yield new Promise((a,d)=>{this.warehouseService.getWarehouses().subscribe({next:a,error:d})}),r=yield(yield fetch(`${de.apiUrl}/empotages`)).json(),i=new Date().toDateString();this.warehouses=t.map(a=>{let d=r.filter(u=>!u.entrepotId||u.entrepotId!==a.id||!u.dateStart?!1:new Date(u.dateStart).toDateString()===i).length;return{id:a.id,name:a.name,location:a.location,code:this.generateCode(a.name,a.id),status:d>0?"ACTIF":"INACTIF",imageUrl:this.fixImageUrl(a.imageUrl),todayCount:d}})}catch(t){console.error("Erreur lors du chargement des donn\xE9es",t)}})}selectWarehouse(t){this.router.navigate(["/dashboard","adminEmpotage",t])}fixImageUrl(t){if(!t||t.includes("800x400?text=Entrepot"))return"/assets/placeholder-warehouse.png";if(t.startsWith("http")||t.startsWith("https")||t.startsWith("data:"))return t;let e=de.apiUrl.replace("/api","");return t.startsWith("/")?`${e}${t}`:`${e}/${t}`}generateCode(t,e){let r=t.split(" ").map(i=>i.charAt(0).toUpperCase()).filter(i=>/[A-Z0-9]/.test(i)).slice(0,3).join("-"),o=e.toString().padStart(2,"0");return`${r}-${o}`}get filteredWarehouses(){return this.warehouses.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||t.code.toLowerCase().includes(this.searchTerm.toLowerCase()))}getStatusClass(t){switch(t){case"ACTIF":return"status-pill status-pill--validated";case"SATUR\xC9":return"status-pill status-pill--pending";case"MAINTENANCE":return"status-pill status-pill--renvoye";default:return"status-pill status-pill--renvoye"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-admin-empotage-main"]],decls:12,vars:3,consts:[[1,"page-container"],[1,"header-section"],[1,"page-title"],[1,"search-wrapper"],[1,"search-input-container"],[1,"material-symbols-outlined","notranslate","search-icon"],["type","text","placeholder","Rechercher un entrep\xF4t...",1,"search-input",3,"ngModelChange","ngModel"],[1,"warehouse-grid"],["class","warehouse-card card",3,"routerLink",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"warehouse-card","card",3,"routerLink"],[1,"warehouse-image"],[1,"status-pill",3,"ngClass"],["class","material-symbols-outlined notranslate status-icon",4,"ngIf"],[1,"warehouse-content"],[1,"warehouse-info"],[1,"warehouse-name"],[1,"warehouse-location"],[1,"material-symbols-outlined","notranslate"],[1,"card-divider"],[1,"warehouse-footer"],[1,"status-block"],[1,"status-label"],[1,"status-count"],[1,"material-symbols-outlined","notranslate","footer-arrow"],[1,"material-symbols-outlined","notranslate","status-icon"],[1,"empty-state"],[1,"material-symbols-outlined","notranslate","empty-icon"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"header",1)(2,"h1",2),l(3,"S\xE9lection de l'entrep\xF4t pour la supervision"),c()(),s(4,"div",3)(5,"div",4)(6,"span",5),l(7,"search"),c(),s(8,"input",6),A("ngModelChange",function(i){return N(r.searchTerm,i)||(r.searchTerm=i),i}),c()()(),s(9,"section",7),E(10,LI,24,17,"article",8),c(),E(11,VI,5,0,"div",9),c()),e&2&&(f(8),T("ngModel",r.searchTerm),f(2),b("ngForOf",r.filteredWarehouses),f(),b("ngIf",r.filteredWarehouses.length===0))},dependencies:[ae,vt,be,me,Se,xe,De,Oe,Jn,Tt],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--primary: #2b8cee;--primary-hover: #1d4ed8;--primary-subtle: #e7edf3;--success-bg: #dcfce7;--success-text: #166534;--success-border: #dcfce7;--warning-bg: #fffbeb;--warning-text: #b45309;--warning-border: #fef3c7;--danger-bg: #fee2e2;--danger-text: #991b1b;--danger-border: #fecaca;--danger-solid: #ef4444;--info-bg: #e0f2fe;--info-text: #0284c7;--background-light: #f6f7f8;--background-white: #ffffff;--background-dark: #101922;--text-primary: #0d141b;--text-secondary: #4c739a;--text-tertiary: #94a3b8;--border-light: #e2e8f0;--border-medium: #cbd5e1;--border-dark: #1f2933;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, .05);--shadow-card: 0 10px 40px -10px rgba(0, 0, 0, .08);--shadow-float: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);--transition-fast: all .15s ease-in-out;--transition-normal: all .25s cubic-bezier(.4, 0, .2, 1);--transition-slow: all .35s cubic-bezier(.16, 1, .3, 1);--header-height: 72px;--sidebar-width: 280px}*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background-color:var(--background-light);color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.dark[_ngcontent-%COMP%]{background-color:var(--background-dark);color:#e5e7eb}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}.material-symbols-outlined[_ngcontent-%COMP%]{font-family:Material Symbols Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;translate:no}.material-symbols-outlined.notranslate[_ngcontent-%COMP%]{translate:no}.page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--background-light);padding:2rem 1.5rem;max-width:1600px;margin:0 auto;display:flex;flex-direction:column;gap:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:1.5rem;margin-bottom:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:800;color:var(--text-primary);text-shadow:0 2px 10px rgba(43,140,238,.1);letter-spacing:-.025em;margin:0;line-height:1.2}.page-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin-top:.5rem;font-weight:500}.card[_ngcontent-%COMP%]{background:var(--background-white);border-radius:var(--radius-lg);box-shadow:var(--shadow-card);border:1px solid rgba(0,0,0,.03);padding:1.5rem;transition:var(--transition-normal)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-float)}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:var(--radius-md);font-weight:600;font-size:.95rem;cursor:pointer;transition:var(--transition-normal);border:none;outline:none;text-decoration:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary),#1d4ed8);color:#fff;box-shadow:0 4px 12px #2b8cee4d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 16px #2b8cee66}.btn-secondary[_ngcontent-%COMP%]{background:var(--background-white);border:1px solid var(--border-light);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:var(--border-medium)}.btn-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--border-light);color:var(--text-secondary);cursor:pointer;transition:var(--transition-normal)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--background-light);color:var(--primary);border-color:var(--primary)}.flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.flex-between[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.gap-1[_ngcontent-%COMP%]{gap:.25rem}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.text-primary[_ngcontent-%COMP%]{color:var(--primary)}.text-secondary[_ngcontent-%COMP%]{color:var(--text-secondary)}.text-sm[_ngcontent-%COMP%]{font-size:.875rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.w-full[_ngcontent-%COMP%]{width:100%}.hidden[_ngcontent-%COMP%]{display:none!important}.responsive-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.truck-modal-close[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.06)!important;background:#ef4444!important;color:#fff!important;border-radius:.5rem!important;width:2.25rem!important;height:2.25rem!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;font-weight:700!important;transition:background-color .12s ease,transform .08s ease,box-shadow .12s ease}.truck-modal-close[_ngcontent-%COMP%]:hover{background-color:#dc2626!important;transform:translateY(-2px)!important;box-shadow:0 10px 30px #dc262624!important}.truck-modal-close[_ngcontent-%COMP%]:focus{outline:3px solid rgba(239,68,68,.18)!important;outline-offset:2px!important}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .75rem;border-radius:999px;font-size:.8rem;font-weight:700;line-height:1;min-height:1.8rem;box-sizing:border-box;box-shadow:var(--shadow-sm)}.status-pill[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:16px;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 20}.status-pill--enregistre[_ngcontent-%COMP%]{background:var(--info-bg);color:var(--info-text);border:1px solid var(--info-bg)}.status-pill--pending[_ngcontent-%COMP%]{background:var(--warning-bg);color:var(--warning-text);border:1px solid var(--warning-border)}.status-pill--validated[_ngcontent-%COMP%], .status-pill--accepted[_ngcontent-%COMP%]{background:var(--success-bg);color:var(--success-text);border:1px solid var(--success-border)}.status-pill--accepted-final[_ngcontent-%COMP%]{background:#ecfdf5;color:#064e3b;border:1px solid #059669}.status-pill--renvoye[_ngcontent-%COMP%]{background:#fff7ed;color:#c2410c;border:1px solid #ffedd5}.status-pill--reintegre[_ngcontent-%COMP%]{background:#f0fdfa;color:#0f766e;border:1px solid #ccfbf1}.status-pill--refoule[_ngcontent-%COMP%]{background:var(--danger-bg);color:var(--danger-text);border:1px solid var(--danger-border)}body.dark[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000004d}body.dark[_ngcontent-%COMP%]   .status-pill--enregistre[_ngcontent-%COMP%]{background:#1e40af33;color:#93c5fd;border-color:#1e40af4d}body.dark[_ngcontent-%COMP%]   .status-pill--pending[_ngcontent-%COMP%]{background:#92400e33;color:#fcd34d;border-color:#92400e4d}body.dark[_ngcontent-%COMP%]   .status-pill--validated[_ngcontent-%COMP%]{background:#16653433;color:#86efac;border-color:#1665344d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted[_ngcontent-%COMP%]{background:#14532d33;color:#6ee7b7;border-color:#14532d4d}body.dark[_ngcontent-%COMP%]   .status-pill--accepted-final[_ngcontent-%COMP%]{background:#064e3b33;color:#34d399;border-color:#05966966}body.dark[_ngcontent-%COMP%]   .status-pill--renvoye[_ngcontent-%COMP%]{background:#9a341233;color:#fdba74;border-color:#9a34124d}body.dark[_ngcontent-%COMP%]   .status-pill--reintegre[_ngcontent-%COMP%]{background:#0f766e33;color:#5eead4;border-color:#0f766e4d}body.dark[_ngcontent-%COMP%]   .status-pill--refoule[_ngcontent-%COMP%]{background:#991b1b33;color:#fca5a5;border-color:#991b1b4d}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;display:flex;align-items:center;justify-content:center;padding:1.5rem}.modal__backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a66;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal__panel[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:1.5rem;box-shadow:0 25px 50px -12px #00000040;width:100%;max-width:500px;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;overflow:hidden}.truck-modal-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.truck-modal-header[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;margin:0;color:var(--text-primary)}.truck-modal-body[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;overflow-y:auto;flex:1}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}.truck-modal-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid var(--border-light);background:#f8fafc;display:flex;justify-content:flex-end;gap:1rem}body.dark[_ngcontent-%COMP%]   .modal__backdrop[_ngcontent-%COMP%]{background:#000000b3}body.dark[_ngcontent-%COMP%]   .modal__panel[_ngcontent-%COMP%]{background:#1e293b;border:1px solid rgba(255,255,255,.1)}body.dark[_ngcontent-%COMP%]   .truck-modal-header[_ngcontent-%COMP%]{border-color:#ffffff1a}body.dark[_ngcontent-%COMP%]   .truck-modal-title[_ngcontent-%COMP%]{color:#fff}body.dark[_ngcontent-%COMP%]   .truck-modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}body.dark[_ngcontent-%COMP%]   .truck-modal-footer[_ngcontent-%COMP%]{background:#0f172a;border-top-color:#ffffff1a}.truck-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border-radius:.75rem;border:1px solid var(--border-light);font-size:.9375rem;transition:var(--transition-normal);width:100%}.truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee1a;outline:none}.truck-field[_ngcontent-%COMP%]   .truck-help[_ngcontent-%COMP%]{font-size:.75rem;color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-label[_ngcontent-%COMP%]{color:#94a3b8}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]{background:#0f172a;border-color:#ffffff1a;color:#fff}body.dark[_ngcontent-%COMP%]   .truck-field[_ngcontent-%COMP%]   .truck-input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.notification-banner[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;background:#f0fdf4;border:1px solid #bbf7d0;color:#166534;padding:1rem 1.5rem;border-radius:.75rem;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.16,1,.3,1);font-weight:600}.notification-banner[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;color:#15803d}@media (max-width: 480px){.notification-banner[_ngcontent-%COMP%]{top:70px;right:10px;left:10px;justify-content:center}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}[_nghost-%COMP%]{--row-hover: rgba(43, 140, 238, .04);--card-shadow: 0 10px 40px -10px rgba(0, 0, 0, .08);--card-border: 1px solid rgba(0, 0, 0, .05);--transition: all .25s cubic-bezier(.4, 0, .2, 1);--notification-red: #ef4444;--chip-text: #4c739a;--chip-border: #e2e8f0}.page-container[_ngcontent-%COMP%]{padding-top:1rem;gap:.5rem}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}.search-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:.5rem;margin-bottom:1.5rem}.search-input-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:500px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--primary);font-size:1.25rem;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.search-input[_ngcontent-%COMP%]{width:100%;padding:.85rem 1rem .85rem 3rem;font-size:1rem;border:1px solid var(--border-light);border-radius:99px;background:#fff;box-shadow:var(--shadow-sm);transition:var(--transition-normal);outline:none}.search-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 4px #2b8cee26}.warehouse-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:2rem}@media (max-width: 640px){.warehouse-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}}.warehouse-card[_ngcontent-%COMP%]{background:#fff;border-radius:1.5rem;border:var(--card-border);box-shadow:var(--card-shadow);overflow:hidden;transition:var(--transition);cursor:pointer}.warehouse-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 30px 60px -12px #00000026}.warehouse-card[_ngcontent-%COMP%]:hover   .footer-arrow[_ngcontent-%COMP%]{transform:translate(4px);color:var(--primary)}.warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]{width:100%;aspect-ratio:16/10;background-size:cover;background-position:center;position:relative;border-radius:1.5rem 1.5rem 0 0}.warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]   .status-pill[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;background:#fff;box-shadow:0 4px 12px #0000001a;z-index:2;padding:.4rem .8rem;border-radius:99px;font-size:.75rem;font-weight:800;display:flex;align-items:center;gap:.4rem}.warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]   .status-pill.status-actif[_ngcontent-%COMP%], .warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]   .status-pill.status-actif[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#10b981}.warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]   .status-pill.status-inactif[_ngcontent-%COMP%], .warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]   .status-pill.status-inactif[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#94a3b8}.warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]   .status-pill.status-sature[_ngcontent-%COMP%], .warehouse-card[_ngcontent-%COMP%]   .warehouse-image[_ngcontent-%COMP%]   .status-pill.status-sature[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#ef4444}.warehouse-card[_ngcontent-%COMP%]   .warehouse-content[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem}.warehouse-card[_ngcontent-%COMP%]   .warehouse-name[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:800;color:#0f172a;margin:0}.warehouse-card[_ngcontent-%COMP%]   .warehouse-location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#64748b;font-size:.9375rem;font-weight:500;margin-top:.4rem}.warehouse-card[_ngcontent-%COMP%]   .warehouse-location[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:18px;color:#94a3b8}.warehouse-card[_ngcontent-%COMP%]   .card-divider[_ngcontent-%COMP%]{height:1px;background:var(--border-light);margin:0 -1.5rem;opacity:.6}.warehouse-card[_ngcontent-%COMP%]   .warehouse-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.warehouse-card[_ngcontent-%COMP%]   .warehouse-footer[_ngcontent-%COMP%]   .status-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.warehouse-card[_ngcontent-%COMP%]   .warehouse-footer[_ngcontent-%COMP%]   .status-block[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:800;color:#64748b;letter-spacing:.05em;text-transform:uppercase}.warehouse-card[_ngcontent-%COMP%]   .warehouse-footer[_ngcontent-%COMP%]   .status-block[_ngcontent-%COMP%]   .status-count[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:900;color:var(--primary)}.warehouse-card[_ngcontent-%COMP%]   .warehouse-footer[_ngcontent-%COMP%]   .footer-arrow[_ngcontent-%COMP%]{font-size:24px;color:#94a3b8;transition:var(--transition)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem;text-align:center;color:var(--text-tertiary)}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.3}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}body.dark[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155;color:#fff}']})};var jg=(n,t)=>{let e=x(nt),r=x(fe);if(!e.isAuthenticated())return r.createUrlTree(["/login"]);let o=e.getCurrentUser(),i=n.data?.role;return i&&o?.role!==i?o?.role==="admin"?r.createUrlTree(["/dashboard"]):o?.role==="operator"?r.createUrlTree(["/userdashboard"]):(e.logout(),r.createUrlTree(["/login"])):!0},Ug=(n,t)=>{let e=x(nt),r=x(fe);if(e.isAuthenticated()){let o=e.getCurrentUser();return o?.role==="admin"?r.createUrlTree(["/dashboard"]):o?.role==="operator"?r.createUrlTree(["/userdashboard"]):(e.logout(),!0)}return!0};var cy=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:ed,canActivate:[Ug]},{path:"dashboard",component:nd,canActivate:[jg],data:{role:"admin"},children:[{path:"",redirectTo:"dashboard-main",pathMatch:"full"},{path:"dashboard-main",component:rd},{path:"historique",component:od},{path:"entrepot/:id",component:id},{path:"userManager",component:pd},{path:"adminEmpotage/:id",component:gd},{path:"adminEmpotageMain",component:hd}]},{path:"register",component:ad,canActivate:[Ug]},{path:"enregistrement",component:sd},{path:"userdashboard",component:cd,canActivate:[jg],data:{role:"operator"},children:[{path:"",redirectTo:"userdashboardmain",pathMatch:"full"},{path:"userdashboardmain",component:ld},{path:"userhistorique",component:dd},{path:"userentrepot/:id",component:ud},{path:"userEmpotage",component:md}]},{path:"**",redirectTo:"login"}];var ly=(n,t)=>{let e=x(nt);return t(n).pipe(wt(r=>(r.status===401&&e.logout(),nr(()=>r))))};function jI(n){return()=>it(n.verifySession())}var dy={providers:[Vu(),vp({eventCoalescing:!0}),kg(cy),Xp(eg([ly])),{provide:na,useFactory:jI,deps:[nt],multi:!0}]};var mi=class n{isLoading=_t(!1);show(){this.isLoading.set(!0)}hide(){this.isLoading.set(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};function UI(n,t){n&1&&(s(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),l(4,"warehouse"),c()(),H(5,"div",5),s(6,"p",6),l(7,"Chargement en cours..."),c()()())}var bd=class n{loaderService=x(mi);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-loader"]],decls:1,vars:1,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"loader-content"],[1,"logo-container"],[1,"material-symbols-outlined","notranslate","logo-icon"],[1,"loader-spinner"],[1,"loading-text"]],template:function(e,r){e&1&&E(0,UI,8,0,"div",0),e&2&&b("ngIf",r.loaderService.isLoading())},dependencies:[ae,me],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#ffffffe6;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:9999;display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.loader-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem}.logo-container[_ngcontent-%COMP%]{width:80px;height:80px;background:var(--primary, #2b8cee);border-radius:20px;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 25px -5px #2b8cee66;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:48px;color:#fff}.loader-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e2e8f0;border-radius:50%;border-top-color:var(--primary, #2b8cee);animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-text[_ngcontent-%COMP%]{color:var(--text-secondary, #64748b);font-weight:500;font-size:1rem;letter-spacing:.05em;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:.6}50%{opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};function BI(n,t){if(n&1){let e=V();s(0,"div")(1,"div",2)(2,"span",3),l(3),c(),s(4,"span",4),l(5),c()(),s(6,"button",5),_("click",function(){let o=v(e).$implicit,i=m();return y(i.remove(o))}),s(7,"span",6),l(8,"close"),c()()()}if(n&2){let e=t.$implicit,r=m();up(to("toast toast-",e.type," slide-in-right")),f(3),w(r.getIcon(e.type)),f(2),w(e.message)}}var _d=class n{toasts=[];toastService=x(pt);sub=null;ngOnInit(){this.sub=this.toastService.toast$.subscribe(t=>{this.toasts.push(t),t.duration&&t.duration>0&&setTimeout(()=>this.remove(t),t.duration)})}ngOnDestroy(){this.sub?.unsubscribe()}remove(t){this.toasts=this.toasts.filter(e=>e!==t)}getIcon(t){switch(t){case"success":return"check_circle";case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"info"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-toast"]],decls:2,vars:1,consts:[[1,"toast-container"],[3,"class",4,"ngFor","ngForOf"],[1,"toast-content"],[1,"material-symbols-outlined","notranslate","icon"],[1,"message"],[1,"close-btn",3,"click"],[1,"material-symbols-outlined","notranslate"]],template:function(e,r){e&1&&(s(0,"div",0),E(1,BI,9,5,"div",1),c()),e&2&&(f(),b("ngForOf",r.toasts))},dependencies:[ae,be],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:10px;pointer-events:none}.toast[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:12px 16px;box-shadow:0 4px 12px #00000026;display:flex;align-items:center;justify-content:space-between;gap:12px;min-width:300px;max-width:400px;pointer-events:auto;animation:_ngcontent-%COMP%_slideIn .3s cubic-bezier(.21,1.02,.73,1);border-left:4px solid #ccc}.toast-success[_ngcontent-%COMP%]{border-left-color:#16a34a}.toast-error[_ngcontent-%COMP%]{border-left-color:#ef4444}.toast-info[_ngcontent-%COMP%]{border-left-color:#3b82f6}.toast-warning[_ngcontent-%COMP%]{border-left-color:#f59e0b}.toast-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.message[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:#1e293b;line-height:1.4}.icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.toast-success[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#16a34a}.toast-error[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#ef4444}.toast-info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#3b82f6}.toast-warning[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#f59e0b}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#94a3b8;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background .2s;flex-shrink:0}.close-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#64748b}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}@media (max-width: 640px){.toast-container[_ngcontent-%COMP%]{inset:auto 10px 20px;align-items:center}.toast[_ngcontent-%COMP%]{width:100%;max-width:none}}"]})};var vd=class n{title=_t("GESTION-ENTREPOT");router=x(fe);loaderService=x(mi);constructor(){this.router.events.subscribe(t=>{t instanceof An?this.loaderService.show():(t instanceof $e||t instanceof Qt||t instanceof Mr)&&setTimeout(()=>this.loaderService.hide(),500)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=te({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){e&1&&H(0,"router-outlet")(1,"app-loader")(2,"app-toast")},dependencies:[Kn,bd,_d],encapsulation:2})};Yp(vd,dy).catch(n=>console.error(n));
