<div class="pageMain">
  <div class="page-container">
    <!-- TITRE PAGE -->
    <header class="page-header">
      <div>
        <h1 class="page-title">Tableau de bord — {{ entrepotName }}</h1>
        <p class="page-subtitle">
          Indicateurs clés de performance (filtrés selon votre entrepôt).
        </p>
      </div>
    </header>

    <!-- FILTRES -->
    <div class="controls-row">
      <div class="control-item">
        <select class="search-input" [(ngModel)]="period" (change)="onPeriodChange()">
            <option value="today">Aujourd'hui</option>
            <option value="week">Cette semaine</option>
            <option value="month">Ce mois</option>
            <option value="year">Cette année</option>
            <option value="specific" disabled>Choisir une date...</option>
        </select>
      </div>
      <div class="control-item">
        <input 
          type="date" 
          class="search-input"
          [(ngModel)]="filterDate"
          (ngModelChange)="onDateChange()"
        >
      </div>
    </div>

    <!-- KPI CARDS GRID -->
    <section aria-label="Indicateurs clés">
      
      <div class="stats-grid">
        <article class="stat-card card-blue">
          <div class="stat-header">
            <span class="material-symbols-outlined stat-icon">local_shipping</span>
            <span>Total présents</span>
          </div>
          <p class="stat-value">{{ totalPresents }}</p>
        </article>

        <article class="stat-card card-info">
          <div class="stat-header">
            <span class="material-symbols-outlined stat-icon">hourglass_top</span>
            <span>En attente</span>
          </div>
          <p class="stat-value">{{ enAttente }}</p>
        </article>

        <article class="stat-card card-yellow">
          <div class="stat-header">
            <span class="material-symbols-outlined stat-icon">move_down</span>
            <span>Validés en attente</span>
          </div>
          <p class="stat-value">{{ enDechargement }}</p>
        </article>

        <article class="stat-card card-success">
          <div class="stat-header">
            <span class="material-symbols-outlined stat-icon">task_alt</span>
            <span>Acceptés</span>
          </div>
          <p class="stat-value">{{ decharges }}</p>
        </article>

        <article class="stat-card card-orange">
          <div class="stat-header">
            <span class="material-symbols-outlined stat-icon">pending_actions</span>
            <span>Attente décision admin</span>
          </div>
          <p class="stat-value">{{ attenteDecisionAdmin }}</p>
        </article>

        <article class="stat-card card-danger">
          <div class="stat-header">
            <span class="material-symbols-outlined stat-icon">report</span>
            <span>Refusés (attente gérant)</span>
          </div>
          <p class="stat-value">{{ refusesAttenteGerant }}</p>
        </article>

        <article class="stat-card card-purple">
          <div class="stat-header">
            <span class="material-symbols-outlined stat-icon">undo</span>
            <span>Refusés (renvoyés)</span>
          </div>
          <p class="stat-value">{{ refusesRenvoyes }}</p>
        </article>

        <article class="stat-card card-teal">
          <div class="stat-header">
            <span class="material-symbols-outlined stat-icon">published_with_changes</span>
            <span>Réintégrés</span>
          </div>
          <p class="stat-value">{{ refusesRintegres }}</p>
        </article>
      </div>
    </section>
  </div>
</div>
