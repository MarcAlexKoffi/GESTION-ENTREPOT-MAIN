/* Scope everything to avoid layout bleed */
:host {
  display: block;
}
.perf-dashboard {
  --primary: #3A86FF;
  --success: #06D6A0;
  --danger: #EF476F;
  --bg: #F8F9FA;
  --text: #212529;
  --muted: #6b7280;
  --card: #ffffff;
  --border: #E9ECEF;

  /* kill stray paddings from parent layouts */
  margin: 0;
  padding: 0;

  color: var(--text);
  background: transparent;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Container width & internal spacing (matches your other pages) */
.perf-dashboard .container {
  max-width: 1120px;
  margin: 0 auto;             /* center like Dashboard */
  padding: 24px;              /* same left spacing as “Tableau de bord” */
}

/* Header */
.header {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 24px;
}
.title { display: flex; align-items: center; gap: 16px; }
.logo {
  display: grid; place-items: center;
  width: 48px; height: 48px; border-radius: 12px;
  background: var(--primary); color: #fff;
}
h1 { font-size: clamp(26px, 3.5vw, 40px); font-weight: 900; margin: 0; letter-spacing: -0.02em; }
.subtitle { margin: 2px 0 0; color: var(--muted); }

.toolbar { display: flex; flex-wrap: wrap; align-items: center; gap: 12px; }
.btn {
  display: inline-flex; align-items: center; gap: 8px;
  height: 40px; padding: 0 12px; border-radius: 10px;
  background: var(--card); border: 1px solid var(--border);
}
.segment {
  display: flex; gap: 6px; padding: 4px; border: 1px solid var(--border);
  border-radius: 10px; background: #f5f7fa;
}
.seg-btn {
  border: 0; background: transparent; padding: 6px 12px; border-radius: 8px; cursor: pointer;
  color: var(--muted); font-weight: 600;
}
.seg-btn.active { background: var(--card); color: var(--primary); box-shadow: 0 1px 0 rgba(0,0,0,.03); }

/* KPI */
.section-title { font-size: 22px; font-weight: 800; margin: 12px 0 14px; }
.kpi-grid {
  display: grid; grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 16px; margin-bottom: 24px;
}
.kpi {
  background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 18px;
}
.kpi .row { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; color: var(--muted); font-weight: 600; }
.ico { width: 32px; height: 32px; border-radius: 999px; display: grid; place-items: center; }
.ico-primary { background: rgba(58,134,255,.16); color: var(--primary); }
.ico-green { background: rgba(6,214,160,.16); color: var(--success); }
.ico-blue { background: rgba(58,134,255,.16); color: var(--primary); }
.value { font-size: 40px; font-weight: 800; letter-spacing: -0.02em; }
.trend { margin-top: 2px; font-weight: 700; color: #0f172a; display: flex; align-items: center; gap: 6px; }
.trend.warn { color: #ef4444; }
.trend.up { color: #10b981; }

/* Charts */
.charts {
  display: grid; grid-template-columns: 2fr 1fr; gap: 16px; margin-bottom: 24px;
}
.card {
  background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 16px;
}
.card h3 { margin: 0 0 10px; font-size: 18px; font-weight: 800; }
.bars { display: flex; align-items: flex-end; gap: 10px; height: 320px; }
.bar-col { display: flex; flex-direction: column; align-items: center; gap: 8px; width: 14.28%; }
.bar { width: 22px; background: var(--primary); border-radius: 6px 6px 0 0; }
.bar.soft { background: rgba(58,134,255,.35); }
.x { font-size: 12px; color: var(--muted); }

.group-bars { display: flex; flex-direction: column; gap: 14px; }
.group { display: flex; align-items: center; gap: 10px; }
.label { width: 72px; font-size: 13px; color: var(--muted); }
.stack { display: flex; gap: 6px; flex: 1; }
.seg { height: 16px; border-radius: 6px; }
.attente { background: var(--primary); }
.dech { background: var(--success); }
.legend { display: flex; gap: 18px; margin-top: 10px; }
.legend-item { display: flex; align-items: center; gap: 8px; color: var(--muted); font-size: 12px; }
.dot { width: 10px; height: 10px; border-radius: 999px; display: inline-block; }
.dot-primary { background: var(--primary); }
.dot-green { background: var(--success); }

/* Table */
.table-card { overflow: auto; }
.table-wrap { width: 100%; overflow-x: auto; }
table { width: 100%; border-collapse: collapse; }
thead { background: #f3f4f6; text-transform: uppercase; font-size: 12px; }
th, td { padding: 12px 16px; text-align: left; border-bottom: 1px solid var(--border); }
tbody tr:hover { background: #fafafa; }
.chip {
  display: inline-flex; align-items: center; gap: 6px; padding: 4px 10px; border-radius: 999px;
  font-size: 12px; font-weight: 700;
}
.chip.danger { background: rgba(239,71,111,.16); color: #EF476F; }

/* Responsiveness */
@media (max-width: 1024px) {
  .charts { grid-template-columns: 1fr; }
}
@media (max-width: 768px) {
  .kpi-grid { grid-template-columns: 1fr; }
  .perf-dashboard .container { padding: 16px; }
}
    