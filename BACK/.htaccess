# DO NOT EDIT THIS FILE - Generated for cPanel Node.js
# This redirects all traffic to the Node.js application

# OPTION 1: Using Node.js Selector (Passenger) - Default
# If you use "Setup Node.js App", cPanel handles the proxy. Let it do its job.
# Usually, you DO NOT need RewriteRule to localhost:3000 if cPanel manages the app.
# The app is mounted at a URL. If mounted at root, all traffic goes there.

<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Send /api requests to the Node app
    # If the app is listening on a port (e.g. executed via `node index.js`), proxy to it.
    # Otherwise, if using Passenger, this rule might conflict.
    
    # Try just rewriting ensuring existing files are served directly
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ http://127.0.0.1:%{ENV:PORT}/$1 [P,L]
</IfModule>
